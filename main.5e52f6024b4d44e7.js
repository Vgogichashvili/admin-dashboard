"use strict";var tre=Object.defineProperty,nre=Object.defineProperties,ire=Object.getOwnPropertyDescriptors,Gq=Object.getOwnPropertySymbols,rre=Object.prototype.hasOwnProperty,sre=Object.prototype.propertyIsEnumerable,zq=(et,ve,F)=>ve in et?tre(et,ve,{enumerable:!0,configurable:!0,writable:!0,value:F}):et[ve]=F,$q=(et,ve)=>{for(var F in ve||(ve={}))rre.call(ve,F)&&zq(et,F,ve[F]);if(Gq)for(var F of Gq(ve))sre.call(ve,F)&&zq(et,F,ve[F]);return et},qq=(et,ve)=>nre(et,ire(ve));(self.webpackChunkAdmin_Dashboard=self.webpackChunkAdmin_Dashboard||[]).push([[179],{2011:(et,ve,F)=>{F.d(ve,{hO:()=>Ye,xv:()=>ce,Dh:()=>oe,GT:()=>ge,cc:()=>xe,on:()=>G,pX:()=>se});var l=F(5e3),ee=F(127),B=F(6351);et=F.hmd(et);const de=["ngOnDestroy"],se=(Ie,Ke,tt,Ae={})=>new Proxy(Ie,{get:(we,De)=>tt.runOutsideAngular(()=>{var Ge;if(Ie[De])return(null===(Ge=null==Ae?void 0:Ae.spy)||void 0===Ge?void 0:Ge.get)&&Ae.spy.get(De,Ie[De]),Ie[De];if(de.indexOf(De)>-1)return()=>{};const ze=Ke.toPromise().then($=>{const Ee=$&&$[De];return"function"==typeof Ee?Ee.bind($):Ee&&Ee.then?Ee.then(Q=>tt.run(()=>Q)):tt.run(()=>Ee)});return new Proxy(()=>{},{get:($,Ee)=>ze[Ee],apply:($,Ee,Q)=>ze.then(le=>{var ie;const ye=le&&le(...Q);return(null===(ie=null==Ae?void 0:Ae.spy)||void 0===ie?void 0:ie.apply)&&Ae.spy.apply(De,Q,ye),ye})})})}),ge=(Ie,Ke)=>{Ke.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(Ae=>{Object.defineProperty(Ie.prototype,Ae,Object.getOwnPropertyDescriptor(tt.prototype||tt,Ae))})})};class ne{constructor(Ke){return Ke}}const oe=new l.OlP("angularfire2.app.options"),ce=new l.OlP("angularfire2.app.name");function G(Ie,Ke,tt){const we="object"==typeof tt&&tt||{};we.name=we.name||"string"==typeof tt&&tt||"[DEFAULT]";const Ge=ee.Z.apps.filter(ze=>ze&&ze.name===we.name)[0]||Ke.runOutsideAngular(()=>ee.Z.initializeApp(Ie,we));try{JSON.stringify(Ie)!==JSON.stringify(Ge.options)&&z("error",`${Ge.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ze){}return new ne(Ge)}const z=(Ie,...Ke)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ke)},re={provide:ne,useFactory:G,deps:[oe,l.R0b,[new l.FiY,ce]]};let Ye=(()=>{class Ie{constructor(tt){ee.Z.registerVersion("angularfire",B.q4.full,"core"),ee.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ee.Z.registerVersion("angular",l.q4F.full,tt.toString())}static initializeApp(tt,Ae){return{ngModule:Ie,providers:[{provide:oe,useValue:tt},{provide:ce,useValue:Ae}]}}}return Ie.\u0275fac=function(tt){return new(tt||Ie)(l.LFG(l.Lbi))},Ie.\u0275mod=l.oAB({type:Ie}),Ie.\u0275inj=l.cJS({providers:[re]}),Ie})();function xe(Ie,Ke,tt,Ae,we){const[,De,Ge]=globalThis.\u0275AngularfireInstanceCache.find(ze=>ze[0]===Ie)||[];if(De)return function Pe(Ie,Ke){try{return Ie.toString()===Ke.toString()}catch(tt){return Ie===Ke}}(we,Ge)||(pe("error",`${Ke} was already initialized on the ${tt} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:we,was:Ge})),De;{const ze=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ie,ze,we]),ze}}const He=!!et.hot,pe=(Ie,...Ke)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ie](...Ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(et,ve,F)=>{F.d(ve,{q4:()=>$g,iC:()=>Pl,fc:()=>Ec,HU:()=>qg,vb:()=>Fd,JM:()=>Bt});var l=F(5e3),ee=F(5867),B=F(5861),de=F(9681),se=F(2090),ge=F(4859),ne=F(1877),oe=F(8766);const ce="@firebase/installations",G="0.5.9",re=`w:${G}`,Ye="FIS_v2",Ke=new se.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function tt(S){return S instanceof se.ZR&&S.code.includes("request-failed")}function Ae({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function we(S){return{token:S.token,requestStatus:2,expiresIn:le(S.expiresIn),creationTime:Date.now()}}function De(S,I){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,B.Z)(function*(S,I){const U=(yield I.json()).error;return Ke.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function ze({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function $(S,{refreshToken:I}){const k=ze(S);return k.append("Authorization",function ie(S){return`${Ye} ${S}`}(I)),k}function Ee(S){return Q.apply(this,arguments)}function Q(){return(Q=(0,B.Z)(function*(S){const I=yield S();return I.status>=500&&I.status<600?S():I})).apply(this,arguments)}function le(S){return Number(S.replace("s","000"))}function ye(S,I){return he.apply(this,arguments)}function he(){return(he=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:I},{fid:k}){const U=Ae(S),J=ze(S),ue=I.getImmediate({optional:!0});if(ue){const bt=yield ue.getHeartbeatsHeader();bt&&J.append("x-firebase-client",bt)}const ot={method:"POST",headers:J,body:JSON.stringify({fid:k,authVersion:Ye,appId:S.appId,sdkVersion:re})},Tt=yield Ee(()=>fetch(U,ot));if(Tt.ok){const bt=yield Tt.json();return{fid:bt.fid||k,registrationStatus:2,refreshToken:bt.refreshToken,authToken:we(bt.authToken)}}throw yield De("Create Installation",Tt)})).apply(this,arguments)}function Fe(S){return new Promise(I=>{setTimeout(I,S)})}const qt=/^[cdef][\w-]{21}$/;function nt(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const k=function cn(S){return function mt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return qt.test(k)?k:""}catch(S){return""}}function zn(S){return`${S.appName}!${S.appId}`}const pn=new Map;function rn(S,I){const k=zn(S);jt(k,I),function es(S,I){const k=function Fi(){return!br&&"BroadcastChannel"in self&&(br=new BroadcastChannel("[Firebase] FID Change"),br.onmessage=S=>{jt(S.data.key,S.data.fid)}),br}();k&&k.postMessage({key:S,fid:I}),function Yi(){0===pn.size&&br&&(br.close(),br=null)}()}(k,I)}function jt(S,I){const k=pn.get(S);if(k)for(const U of k)U(I)}let br=null;const ur="firebase-installations-store";let Vr=null;function wt(){return Vr||(Vr=(0,oe.X3)("firebase-installations-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(ur)}})),Vr}function wr(S,I){return Un.apply(this,arguments)}function Un(){return(Un=(0,B.Z)(function*(S,I){const k=zn(S),J=(yield wt()).transaction(ur,"readwrite"),ue=J.objectStore(ur),Ne=yield ue.get(k);return yield ue.put(I,k),yield J.done,(!Ne||Ne.fid!==I.fid)&&rn(S,I.fid),I})).apply(this,arguments)}function $n(S){return no.apply(this,arguments)}function no(){return(no=(0,B.Z)(function*(S){const I=zn(S),U=(yield wt()).transaction(ur,"readwrite");yield U.objectStore(ur).delete(I),yield U.done})).apply(this,arguments)}function dr(S,I){return fi.apply(this,arguments)}function fi(){return(fi=(0,B.Z)(function*(S,I){const k=zn(S),J=(yield wt()).transaction(ur,"readwrite"),ue=J.objectStore(ur),Ne=yield ue.get(k),ot=I(Ne);return void 0===ot?yield ue.delete(k):yield ue.put(ot,k),yield J.done,ot&&(!Ne||Ne.fid!==ot.fid)&&rn(S,ot.fid),ot})).apply(this,arguments)}function qn(S){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,B.Z)(function*(S){let I;const k=yield dr(S.appConfig,U=>{const J=Io(U),ue=Wt(S,J);return I=ue.registrationPromise,ue.installationEntry});return""===k.fid?{installationEntry:yield I}:{installationEntry:k,registrationPromise:I}})).apply(this,arguments)}function Io(S){return Ao(S||{fid:nt(),registrationStatus:0})}function Wt(S,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Ke.create("app-offline"))};const k={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function ut(S,I){return Et.apply(this,arguments)}(S,k);return{installationEntry:k,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Li(S)}:{installationEntry:I}}function Et(){return(Et=(0,B.Z)(function*(S,I){try{const k=yield ye(S,I);return wr(S.appConfig,k)}catch(k){throw tt(k)&&409===k.customData.serverCode?yield $n(S.appConfig):yield wr(S.appConfig,{fid:I.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Li(S){return Er.apply(this,arguments)}function Er(){return(Er=(0,B.Z)(function*(S){let I=yield $t(S.appConfig);for(;1===I.registrationStatus;)yield Fe(100),I=yield $t(S.appConfig);if(0===I.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield qn(S);return U||k}return I})).apply(this,arguments)}function $t(S){return dr(S,I=>{if(!I)throw Ke.create("installation-not-found");return Ao(I)})}function Ao(S){return function Bi(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Vi(S,I){return H.apply(this,arguments)}function H(){return(H=(0,B.Z)(function*({appConfig:S,heartbeatServiceProvider:I},k){const U=W(S,k),J=$(S,k),ue=I.getImmediate({optional:!0});if(ue){const bt=yield ue.getHeartbeatsHeader();bt&&J.append("x-firebase-client",bt)}const ot={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:re,appId:S.appId}})},Tt=yield Ee(()=>fetch(U,ot));if(Tt.ok)return we(yield Tt.json());throw yield De("Generate Auth Token",Tt)})).apply(this,arguments)}function W(S,{fid:I}){return`${Ae(S)}/${I}/authTokens:generate`}function Y(S){return Se.apply(this,arguments)}function Se(){return(Se=(0,B.Z)(function*(S,I=!1){let k;const U=yield dr(S.appConfig,ue=>{if(!It(ue))throw Ke.create("not-registered");const Ne=ue.authToken;if(!I&&Dn(Ne))return ue;if(1===Ne.requestStatus)return k=q(S,I),ue;{if(!navigator.onLine)throw Ke.create("app-offline");const ot=ri(ue);return k=rt(S,ot),ot}});return k?yield k:U.authToken})).apply(this,arguments)}function q(S,I){return te.apply(this,arguments)}function te(){return(te=(0,B.Z)(function*(S,I){let k=yield ke(S.appConfig);for(;1===k.authToken.requestStatus;)yield Fe(100),k=yield ke(S.appConfig);const U=k.authToken;return 0===U.requestStatus?Y(S,I):U})).apply(this,arguments)}function ke(S){return dr(S,I=>{if(!It(I))throw Ke.create("not-registered");return function Ki(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function rt(S,I){return yt.apply(this,arguments)}function yt(){return(yt=(0,B.Z)(function*(S,I){try{const k=yield Vi(S,I),U=Object.assign(Object.assign({},I),{authToken:k});return yield wr(S.appConfig,U),k}catch(k){if(!tt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield wr(S.appConfig,U)}else yield $n(S.appConfig);throw k}})).apply(this,arguments)}function It(S){return void 0!==S&&2===S.registrationStatus}function Dn(S){return 2===S.requestStatus&&!function Dt(S){const I=Date.now();return I<S.creationTime||S.creationTime+S.expiresIn<I+36e5}(S)}function ri(S){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:I})}function hl(){return(hl=(0,B.Z)(function*(S){const I=S,{installationEntry:k,registrationPromise:U}=yield qn(I);return U?U.catch(console.error):Y(I).catch(console.error),k.fid})).apply(this,arguments)}function fl(){return(fl=(0,B.Z)(function*(S,I=!1){const k=S;return yield si(k),(yield Y(k,I)).token})).apply(this,arguments)}function si(S){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,B.Z)(function*(S){const{registrationPromise:I}=yield qn(S);I&&(yield I)})).apply(this,arguments)}function ha(S){return Ke.create("missing-app-config-values",{valueName:S})}const fr="installations",ft=S=>{const I=S.getProvider("app").getImmediate(),k=function Di(S){if(!S||!S.options)throw ha("App Configuration");if(!S.name)throw ha("App Name");const I=["projectId","apiKey","appId"];for(const k of I)if(!S.options[k])throw ha(k);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(I);return{app:I,appConfig:k,heartbeatServiceProvider:(0,de._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},gn=S=>{const I=S.getProvider("app").getImmediate(),k=(0,de._getProvider)(I,fr).getImmediate();return{getId:()=>function rc(S){return hl.apply(this,arguments)}(k),getToken:J=>function sc(S){return fl.apply(this,arguments)}(k,J)}};(function pr(){(0,de._registerComponent)(new ge.wA(fr,ft,"PUBLIC")),(0,de._registerComponent)(new ge.wA("installations-internal",gn,"PRIVATE"))})(),(0,de.registerVersion)(ce,G),(0,de.registerVersion)(ce,G,"esm2017");const ns="@firebase/remote-config",Wn=new se.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pg{constructor(I,k,U,J){this.client=I,this.storage=k,this.storageCache=U,this.logger=J}isCachedDataFresh(I,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,J=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${J}.`),J}fetch(I){var k=this;return(0,B.Z)(function*(){const[U,J]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(J&&k.isCachedDataFresh(I.cacheMaxAgeMillis,U))return J;I.eTag=J&&J.eTag;const ue=yield k.client.fetch(I),Ne=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ue.status&&Ne.push(k.storage.setLastSuccessfulFetchResponse(ue)),yield Promise.all(Ne),ue})()}}function yd(S=navigator){return S.languages&&S.languages[0]||S.language}class Hi{constructor(I,k,U,J,ue,Ne){this.firebaseInstallations=I,this.sdkVersion=k,this.namespace=U,this.projectId=J,this.apiKey=ue,this.appId=Ne}fetch(I){var k=this;return(0,B.Z)(function*(){const[U,J]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),Ne=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,ot={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Tt={sdk_version:k.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:k.appId,language_code:yd()},bt={method:"POST",headers:ot,body:JSON.stringify(Tt)},Nt=fetch(Ne,bt),qe=new Promise((_s,Na)=>{I.signal.addEventListener(()=>{const $o=new Error("The operation was aborted.");$o.name="AbortError",Na($o)})});let Zt;try{yield Promise.race([Nt,qe]),Zt=yield Nt}catch(_s){let Na="fetch-client-network";throw"AbortError"===_s.name&&(Na="fetch-timeout"),Wn.create(Na,{originalErrorMessage:_s.message})}let ai=Zt.status;const _r=Zt.headers.get("ETag")||void 0;let Nl,ms;if(200===Zt.status){let _s;try{_s=yield Zt.json()}catch(Na){throw Wn.create("fetch-client-parse",{originalErrorMessage:Na.message})}Nl=_s.entries,ms=_s.state}if("INSTANCE_STATE_UNSPECIFIED"===ms?ai=500:"NO_CHANGE"===ms?ai=304:("NO_TEMPLATE"===ms||"EMPTY_CONFIG"===ms)&&(Nl={}),304!==ai&&200!==ai)throw Wn.create("fetch-status",{httpStatus:ai});return{status:ai,eTag:_r,config:Nl}})()}}class Ng{constructor(I,k){this.client=I,this.storage=k}fetch(I){var k=this;return(0,B.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:k,backoffCount:U}){var J=this;return(0,B.Z)(function*(){yield function oo(S,I){return new Promise((k,U)=>{const J=Math.max(I-Date.now(),0),ue=setTimeout(k,J);S.addEventListener(()=>{clearTimeout(ue),U(Wn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,k);try{const ue=yield J.client.fetch(I);return yield J.storage.deleteThrottleMetadata(),ue}catch(ue){if(!function vd(S){if(!(S instanceof se.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ue))throw ue;const Ne={throttleEndTimeMillis:Date.now()+(0,se.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(Ne),J.attemptFetch(I,Ne)}})()}}class bd{constructor(I,k,U,J,ue){this.app=I,this._client=k,this._storageCache=U,this._storage=J,this._logger=ue,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function au(S,I){const k=S.target.error||void 0;return Wn.create(I,{originalErrorMessage:k&&k.message})}const ao="app_namespace_store";class Bg{constructor(I,k,U,J=function Lg(){return new Promise((S,I)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=U=>{I(au(U,"storage-open"))},k.onsuccess=U=>{S(U.target.result)},k.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(ao,{keyPath:"compositeKey"})}}catch(k){I(Wn.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=I,this.appName=k,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var k=this;return(0,B.Z)(function*(){const U=yield k.openDbPromise;return new Promise((J,ue)=>{const ot=U.transaction([ao],"readonly").objectStore(ao),Tt=k.createCompositeKey(I);try{const bt=ot.get(Tt);bt.onerror=Nt=>{ue(au(Nt,"storage-get"))},bt.onsuccess=Nt=>{const qe=Nt.target.result;J(qe?qe.value:void 0)}}catch(bt){ue(Wn.create("storage-get",{originalErrorMessage:bt&&bt.message}))}})})()}set(I,k){var U=this;return(0,B.Z)(function*(){const J=yield U.openDbPromise;return new Promise((ue,Ne)=>{const Tt=J.transaction([ao],"readwrite").objectStore(ao),bt=U.createCompositeKey(I);try{const Nt=Tt.put({compositeKey:bt,value:k});Nt.onerror=qe=>{Ne(au(qe,"storage-set"))},Nt.onsuccess=()=>{ue()}}catch(Nt){Ne(Wn.create("storage-set",{originalErrorMessage:Nt&&Nt.message}))}})})()}delete(I){var k=this;return(0,B.Z)(function*(){const U=yield k.openDbPromise;return new Promise((J,ue)=>{const ot=U.transaction([ao],"readwrite").objectStore(ao),Tt=k.createCompositeKey(I);try{const bt=ot.delete(Tt);bt.onerror=Nt=>{ue(au(Nt,"storage-delete"))},bt.onsuccess=()=>{J()}}catch(bt){ue(Wn.create("storage-delete",{originalErrorMessage:bt&&bt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Cd{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,B.Z)(function*(){const k=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),J=I.storage.getActiveConfig(),ue=yield k;ue&&(I.lastFetchStatus=ue);const Ne=yield U;Ne&&(I.lastSuccessfulFetchTimestampMillis=Ne);const ot=yield J;ot&&(I.activeConfig=ot)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function lc(){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,B.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}!function pa(){(0,de._registerComponent)(new ge.wA("remote-config",function S(I,{instanceIdentifier:k}){const U=I.getProvider("app").getImmediate(),J=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Wn.create("registration-window");if(!(0,se.hl)())throw Wn.create("indexed-db-unavailable");const{projectId:ue,apiKey:Ne,appId:ot}=U.options;if(!ue)throw Wn.create("registration-project-id");if(!Ne)throw Wn.create("registration-api-key");if(!ot)throw Wn.create("registration-app-id");const Tt=new Bg(ot,U.name,k=k||"firebase"),bt=new Cd(Tt),Nt=new ne.Yd(ns);Nt.logLevel=ne.in.ERROR;const qe=new Hi(J,de.SDK_VERSION,k,ue,Ne,ot),Zt=new Ng(qe,Tt),ai=new Pg(Zt,Tt,bt,Nt),_r=new bd(U,ai,bt,Tt,Nt);return function vn(S){const I=(0,se.m9)(S);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(_r),_r},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(ns,"0.3.8"),(0,de.registerVersion)(ns,"0.3.8","esm2017")}();const Dd="/firebase-messaging-sw.js",ji="/firebase-cloud-messaging-push-scope",Ro="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ga="google.c.a.c_id",Td="google.c.a.c_l",nf="google.c.a.ts",lo="google.c.a.e";var ma=(()=>{return(S=ma||(ma={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",ma;var S})();function Ji(S){const I=new Uint8Array(S);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sd(S){const k=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),J=new Uint8Array(U.length);for(let ue=0;ue<U.length;++ue)J[ue]=U.charCodeAt(ue);return J}const Gi="fcm_token_details_db",Tr="fcm_token_object_Store";function lu(S){return Id.apply(this,arguments)}function Id(){return Id=(0,B.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ue=>ue.name).includes(Gi))return null;let I=null;return(yield(0,oe.X3)(Gi,5,{upgrade:(U=(0,B.Z)(function*(J,ue,Ne,ot){var Tt;if(ue<2||!J.objectStoreNames.contains(Tr))return;const bt=ot.objectStore(Tr),Nt=yield bt.index("fcmSenderId").get(S);if(yield bt.clear(),Nt)if(2===ue){const qe=Nt;if(!qe.auth||!qe.p256dh||!qe.endpoint)return;I={token:qe.fcmToken,createTime:null!==(Tt=qe.createTime)&&void 0!==Tt?Tt:Date.now(),subscriptionOptions:{auth:qe.auth,p256dh:qe.p256dh,endpoint:qe.endpoint,swScope:qe.swScope,vapidKey:"string"==typeof qe.vapidKey?qe.vapidKey:Ji(qe.vapidKey)}}}else if(3===ue){const qe=Nt;I={token:qe.fcmToken,createTime:qe.createTime,subscriptionOptions:{auth:Ji(qe.auth),p256dh:Ji(qe.p256dh),endpoint:qe.endpoint,swScope:qe.swScope,vapidKey:Ji(qe.vapidKey)}}}else if(4===ue){const qe=Nt;I={token:qe.fcmToken,createTime:qe.createTime,subscriptionOptions:{auth:Ji(qe.auth),p256dh:Ji(qe.p256dh),endpoint:qe.endpoint,swScope:qe.swScope,vapidKey:Ji(qe.vapidKey)}}}}),function(ue,Ne,ot,Tt){return U.apply(this,arguments)})})).close(),yield(0,oe.Lj)(Gi),yield(0,oe.Lj)("fcm_vapid_details_db"),yield(0,oe.Lj)("undefined"),cu(I)?I:null;var U}),Id.apply(this,arguments)}function cu(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:I}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const ls="firebase-messaging-store";let rf=null;function mn(){return rf||(rf=(0,oe.X3)("firebase-messaging-database",1,{upgrade:(S,I)=>{0===I&&S.createObjectStore(ls)}})),rf}function yl(S){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,B.Z)(function*(S){const I=Ti(S),U=yield(yield mn()).transaction(ls).objectStore(ls).get(I);if(U)return U;{const J=yield lu(S.appConfig.senderId);if(J)return yield on(S,J),J}})).apply(this,arguments)}function on(S,I){return vl.apply(this,arguments)}function vl(){return(vl=(0,B.Z)(function*(S,I){const k=Ti(S),J=(yield mn()).transaction(ls,"readwrite");return yield J.objectStore(ls).put(I,k),yield J.done,I})).apply(this,arguments)}function cc(S){return co.apply(this,arguments)}function co(){return(co=(0,B.Z)(function*(S){const I=Ti(S),U=(yield mn()).transaction(ls,"readwrite");yield U.objectStore(ls).delete(I),yield U.done})).apply(this,arguments)}function Ti({appConfig:S}){return S.appId}const Pn=new se.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cs(S,I){return Si.apply(this,arguments)}function Si(){return(Si=(0,B.Z)(function*(S,I){const k=yield va(S),U=ba(I),J={method:"POST",headers:k,body:JSON.stringify(U)};let ue;try{ue=yield(yield fetch(us(S.appConfig),J)).json()}catch(Ne){throw Pn.create("token-subscribe-failed",{errorInfo:Ne})}if(ue.error)throw Pn.create("token-subscribe-failed",{errorInfo:ue.error.message});if(!ue.token)throw Pn.create("token-subscribe-no-token");return ue.token})).apply(this,arguments)}function Po(S,I){return Is.apply(this,arguments)}function Is(){return(Is=(0,B.Z)(function*(S,I){const k=yield va(S),U=ba(I.subscriptionOptions),J={method:"PATCH",headers:k,body:JSON.stringify(U)};let ue;try{ue=yield(yield fetch(`${us(S.appConfig)}/${I.token}`,J)).json()}catch(Ne){throw Pn.create("token-update-failed",{errorInfo:Ne})}if(ue.error)throw Pn.create("token-update-failed",{errorInfo:ue.error.message});if(!ue.token)throw Pn.create("token-update-no-token");return ue.token})).apply(this,arguments)}function bl(S,I){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,B.Z)(function*(S,I){const U={method:"DELETE",headers:yield va(S)};try{const ue=yield(yield fetch(`${us(S.appConfig)}/${I}`,U)).json();if(ue.error)throw Pn.create("token-unsubscribe-failed",{errorInfo:ue.error.message})}catch(J){throw Pn.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function us({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function va(S){return vt.apply(this,arguments)}function vt(){return(vt=(0,B.Z)(function*({appConfig:S,installations:I}){const k=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function ba({p256dh:S,auth:I,endpoint:k,vapidKey:U}){const J={web:{endpoint:k,auth:I,p256dh:S}};return U!==Ro&&(J.web.applicationPubKey=U),J}const uc=6048e5;function wl(S){return hu.apply(this,arguments)}function hu(){return(hu=(0,B.Z)(function*(S){const I=yield Sn(S.swRegistration,S.vapidKey),k={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:I.endpoint,auth:Ji(I.getKey("auth")),p256dh:Ji(I.getKey("p256dh"))},U=yield yl(S.firebaseDependencies);if(U){if(No(U.subscriptionOptions,k))return Date.now()>=U.createTime+uc?pu(S,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield bl(S.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Lt(S.firebaseDependencies,k)}return Lt(S.firebaseDependencies,k)})).apply(this,arguments)}function Cl(S){return fu.apply(this,arguments)}function fu(){return(fu=(0,B.Z)(function*(S){const I=yield yl(S.firebaseDependencies);I&&(yield bl(S.firebaseDependencies,I.token),yield cc(S.firebaseDependencies));const k=yield S.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function pu(S,I){return Me.apply(this,arguments)}function Me(){return(Me=(0,B.Z)(function*(S,I){try{const k=yield Po(S.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:k,createTime:Date.now()});return yield on(S.firebaseDependencies,U),k}catch(k){throw yield Cl(S),k}})).apply(this,arguments)}function Lt(S,I){return dc.apply(this,arguments)}function dc(){return(dc=(0,B.Z)(function*(S,I){const U={token:yield cs(S,I),createTime:Date.now(),subscriptionOptions:I};return yield on(S,U),U.token})).apply(this,arguments)}function Sn(S,I){return wa.apply(this,arguments)}function wa(){return(wa=(0,B.Z)(function*(S,I){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sd(I)})})).apply(this,arguments)}function No(S,I){return I.vapidKey===S.vapidKey&&I.endpoint===S.endpoint&&I.auth===S.auth&&I.p256dh===S.p256dh}function Sr(S){const I={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function El(S,I){if(!I.notification)return;S.notification={};const k=I.notification.title;k&&(S.notification.title=k);const U=I.notification.body;U&&(S.notification.body=U);const J=I.notification.image;J&&(S.notification.image=J)}(I,S),function gu(S,I){!I.data||(S.data=I.data)}(I,S),function Vg(S,I){if(!I.fcmOptions)return;S.fcmOptions={};const k=I.fcmOptions.link;k&&(S.fcmOptions.link=k);const U=I.fcmOptions.analytics_label;U&&(S.fcmOptions.analyticsLabel=U)}(I,S),I}function hc(S){return"object"==typeof S&&!!S&&ga in S}function Dl(S,I){const k=[];for(let U=0;U<S.length;U++)k.push(S.charAt(U)),U<I.length&&k.push(I.charAt(U));return k.join("")}function Zn(S){return Pn.create("missing-app-config-values",{valueName:S})}Dl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Dl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class As{constructor(I,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function fc(S){if(!S||!S.options)throw Zn("App Configuration Object");if(!S.name)throw Zn("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:k}=S;for(const U of I)if(!k[U])throw Zn(U);return{appName:S.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:J,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Tl(S){return uo.apply(this,arguments)}function uo(){return(uo=(0,B.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(Dd,{scope:ji}),S.swRegistration.update().catch(()=>{})}catch(I){throw Pn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function jr(S,I){return mu.apply(this,arguments)}function mu(){return(mu=(0,B.Z)(function*(S,I){if(!I&&!S.swRegistration&&(yield Tl(S)),I||!S.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Pn.create("invalid-sw-registration");S.swRegistration=I}})).apply(this,arguments)}function pc(S,I){return _u.apply(this,arguments)}function _u(){return(_u=(0,B.Z)(function*(S,I){I?S.vapidKey=I:S.vapidKey||(S.vapidKey=Ro)})).apply(this,arguments)}function Sl(){return(Sl=(0,B.Z)(function*(S,I){if(!navigator)throw Pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pn.create("permission-blocked");return yield pc(S,null==I?void 0:I.vapidKey),yield jr(S,null==I?void 0:I.serviceWorkerRegistration),wl(S)})).apply(this,arguments)}function Ca(S,I,k){return yu.apply(this,arguments)}function yu(){return(yu=(0,B.Z)(function*(S,I,k){const U=Il(I);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[ga],message_name:k[Td],message_time:k[nf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Il(S){switch(S){case ma.NOTIFICATION_CLICKED:return"notification_open";case ma.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function vu(){return(vu=(0,B.Z)(function*(S,I){const k=I.data;if(!k.isFirebaseMessaging)return;S.onMessageHandler&&k.messageType===ma.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Sr(k)):S.onMessageHandler.next(Sr(k)));const U=k.data;hc(U)&&"1"===U[lo]&&(yield Ca(S,k.messageType,U))})).apply(this,arguments)}const Ea="@firebase/messaging",Ad=S=>{const I=new As(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Ug(S,I){return vu.apply(this,arguments)}(I,k)),I},Da=S=>{const I=S.getProvider("messaging").getImmediate();return{getToken:U=>function gc(S,I){return Sl.apply(this,arguments)}(I,U)}};function Ta(){return ds.apply(this,arguments)}function ds(){return(ds=(0,B.Z)(function*(){try{yield(0,se.eu)()}catch(S){return!1}return"undefined"!=typeof window&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Md(){(0,de._registerComponent)(new ge.wA("messaging",Ad,"PUBLIC")),(0,de._registerComponent)(new ge.wA("messaging-internal",Da,"PRIVATE")),(0,de.registerVersion)(Ea,"0.9.13"),(0,de.registerVersion)(Ea,"0.9.13","esm2017")}();const xd="analytics",Hg="firebase_id",Ms="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sa="https://www.googletagmanager.com/gtag/js",mi=new ne.Yd("@firebase/analytics");function lf(S){return Promise.all(S.map(I=>I.catch(k=>k)))}function Fo(S,I){const k=document.createElement("script");k.src=`${Sa}?l=${S}&id=${I}`,k.async=!0,document.head.appendChild(k)}function kd(S,I,k,U,J,ue){return _c.apply(this,arguments)}function _c(){return(_c=(0,B.Z)(function*(S,I,k,U,J,ue){const Ne=U[J];try{if(Ne)yield I[Ne];else{const Tt=(yield lf(k)).find(bt=>bt.measurementId===J);Tt&&(yield I[Tt.appId])}}catch(ot){mi.error(ot)}S("config",J,ue)})).apply(this,arguments)}function Lo(S,I,k,U,J){return ho.apply(this,arguments)}function ho(){return(ho=(0,B.Z)(function*(S,I,k,U,J){try{let ue=[];if(J&&J.send_to){let Ne=J.send_to;Array.isArray(Ne)||(Ne=[Ne]);const ot=yield lf(k);for(const Tt of Ne){const bt=ot.find(qe=>qe.measurementId===Tt),Nt=bt&&I[bt.appId];if(!Nt){ue=[];break}ue.push(Nt)}}0===ue.length&&(ue=Object.values(I)),yield Promise.all(ue),S("event",U,J||{})}catch(ue){mi.error(ue)}})).apply(this,arguments)}function bn(){const S=window.document.getElementsByTagName("script");for(const I of Object.values(S))if(I.src&&I.src.includes(Sa))return I;return null}const Ze=new se.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),wu=new class en{constructor(I={},k=1e3){this.throttleMetadata=I,this.intervalMillis=k}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,k){this.throttleMetadata[I]=k}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Od(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function fs(S){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,B.Z)(function*(S){var I;const{appId:k,apiKey:U}=S,J={method:"GET",headers:Od(U)},ue=Ms.replace("{app-id}",k),Ne=yield fetch(ue,J);if(200!==Ne.status&&304!==Ne.status){let ot="";try{const Tt=yield Ne.json();(null===(I=Tt.error)||void 0===I?void 0:I.message)&&(ot=Tt.error.message)}catch(Tt){}throw Ze.create("config-fetch-failed",{httpStatus:Ne.status,responseMessage:ot})}return Ne.json()})).apply(this,arguments)}function En(S){return xl.apply(this,arguments)}function xl(){return(xl=(0,B.Z)(function*(S,I=wu,k){const{appId:U,apiKey:J,measurementId:ue}=S.options;if(!U)throw Ze.create("no-app-id");if(!J){if(ue)return{measurementId:ue,appId:U};throw Ze.create("no-api-key")}const Ne=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ot=new Eu;return setTimeout((0,B.Z)(function*(){ot.abort()}),void 0!==k?k:6e4),Ir({appId:U,apiKey:J,measurementId:ue},Ne,ot,I)})).apply(this,arguments)}function Ir(S,I,k){return st.apply(this,arguments)}function st(){return(st=(0,B.Z)(function*(S,{throttleEndTimeMillis:I,backoffCount:k},U,J=wu){const{appId:ue,measurementId:Ne}=S;try{yield yc(U,I)}catch(ot){if(Ne)return mi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:ue,measurementId:Ne};throw ot}try{const ot=yield fs(S);return J.deleteThrottleMetadata(ue),ot}catch(ot){if(!Pd(ot)){if(J.deleteThrottleMetadata(ue),Ne)return mi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ne} provided in the "measurementId" field in the local Firebase config. [${ot.message}]`),{appId:ue,measurementId:Ne};throw ot}const Tt=503===Number(ot.customData.httpStatus)?(0,se.$s)(k,J.intervalMillis,30):(0,se.$s)(k,J.intervalMillis),bt={throttleEndTimeMillis:Date.now()+Tt,backoffCount:k+1};return J.setThrottleMetadata(ue,bt),mi.debug(`Calling attemptFetch again in ${Tt} millis`),Ir(S,bt,U,J)}})).apply(this,arguments)}function yc(S,I){return new Promise((k,U)=>{const J=Math.max(I-Date.now(),0),ue=setTimeout(k,J);S.addEventListener(()=>{clearTimeout(ue),U(Ze.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Pd(S){if(!(S instanceof se.ZR&&S.customData))return!1;const I=Number(S.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Eu{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Du(){return un.apply(this,arguments)}function un(){return(un=(0,B.Z)(function*(){if(!(0,se.hl)())return mi.warn(Ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,se.eu)()}catch(S){return mi.warn(Ze.create("indexeddb-unavailable",{errorInfo:S}).message),!1}return!0})).apply(this,arguments)}function ps(){return(ps=(0,B.Z)(function*(S,I,k,U,J,ue,Ne){var ot;const Tt=En(S);Tt.then(ai=>{k[ai.measurementId]=ai.appId,S.options.measurementId&&ai.measurementId!==S.options.measurementId&&mi.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ai=>mi.error(ai)),I.push(Tt);const bt=Du().then(ai=>{if(ai)return U.getId()}),[Nt,qe]=yield Promise.all([Tt,bt]);bn()||Fo(ue,Nt.measurementId),J("js",new Date);const Zt=null!==(ot=null==Ne?void 0:Ne.config)&&void 0!==ot?ot:{};return Zt.origin="firebase",Zt.update=!0,null!=qe&&(Zt[Hg]=qe),J("config",Nt.measurementId,Zt),Nt.measurementId})).apply(this,arguments)}class fo{constructor(I){this.app=I}_delete(){return delete Ii[this.app.options.appId],Promise.resolve()}}let Ii={},gr=[];const xs={};let xa,Bo,Ma="dataLayer",Vo=!1;function Ra(S,I,k){!function go(){const S=[];if((0,se.ru)()&&S.push("This is a browser extension environment."),(0,se.zI)()||S.push("Cookies are not available."),S.length>0){const I=S.map((U,J)=>`(${J+1}) ${U}`).join(" "),k=Ze.create("invalid-analytics-context",{errorInfo:I});mi.warn(k.message)}}();const U=S.options.appId;if(!U)throw Ze.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Ze.create("no-api-key");mi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ii[U])throw Ze.create("already-exists",{id:U});if(!Vo){!function mc(S){let I=[];Array.isArray(window[S])?I=window[S]:window[S]=I}(Ma);const{wrappedGtag:ue,gtagCore:Ne}=function jg(S,I,k,U,J){let ue=function(...Ne){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(ue=window[J]),window[J]=function bu(S,I,k,U){function ue(){return(ue=(0,B.Z)(function*(Ne,ot,Tt){try{"event"===Ne?yield Lo(S,I,k,ot,Tt):"config"===Ne?yield kd(S,I,k,U,ot,Tt):S("set",ot)}catch(bt){mi.error(bt)}})).apply(this,arguments)}return function J(Ne,ot,Tt){return ue.apply(this,arguments)}}(ue,S,I,k),{gtagCore:ue,wrappedGtag:window[J]}}(Ii,gr,xs,Ma,"gtag");Bo=ue,xa=Ne,Vo=!0}return Ii[U]=function Aa(S,I,k,U,J,ue,Ne){return ps.apply(this,arguments)}(S,gr,xs,I,xa,Ma,k),new fo(S)}function Nn(){return(Nn=(0,B.Z)(function*(S,I,k,U,J){if(J&&J.global)S("event",k,U);else{const ue=yield I;S("event",k,Object.assign(Object.assign({},U),{send_to:ue}))}})).apply(this,arguments)}function Rl(){return kl.apply(this,arguments)}function kl(){return(kl=(0,B.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch(S){return!1}})).apply(this,arguments)}const vi="@firebase/analytics";!function mo(){(0,de._registerComponent)(new ge.wA(xd,(I,{options:k})=>Ra(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,de._registerComponent)(new ge.wA("analytics-internal",function S(I){try{const k=I.getProvider(xd).getImmediate();return{logEvent:(U,J,ue)=>function ka(S,I,k,U){S=(0,se.m9)(S),function _i(S,I,k,U,J){return Nn.apply(this,arguments)}(Bo,Ii[S.app.options.appId],I,k,U).catch(J=>mi.error(J))}(k,U,J,ue)}}catch(k){throw Ze.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,de.registerVersion)(vi,"0.7.9"),(0,de.registerVersion)(vi,"0.7.9","esm2017")}();var Ho=F(233),bc=F(4986),Vn=F(8505),wc=F(5363),jo=F(9468);const $g=new l.GfV("7.3.0"),Ol="__angularfire_symbol__analyticsIsSupportedValue",er="__angularfire_symbol__analyticsIsSupported",tr="__angularfire_symbol__remoteConfigIsSupportedValue",_o="__angularfire_symbol__remoteConfigIsSupported",ks="__angularfire_symbol__messagingIsSupportedValue",Go="__angularfire_symbol__messagingIsSupported";function Bt(S,I,k){if(I){if(1===I.length)return I[0];const ue=I.filter(Ne=>Ne.app===k);if(1===ue.length)return ue[0]}return k.container.getProvider(S).getImmediate({optional:!0})}globalThis[er]||(globalThis[er]=Rl().then(S=>globalThis[Ol]=S).catch(()=>globalThis[Ol]=!1)),globalThis[Go]||(globalThis[Go]=Ta().then(S=>globalThis[ks]=S).catch(()=>globalThis[ks]=!1)),globalThis[_o]||(globalThis[_o]=lc().then(S=>globalThis[tr]=S).catch(()=>globalThis[tr]=!1));const Fd=(S,I)=>{const k=I?[I]:(0,ee.C6)(),U=[];return k.forEach(J=>{J.container.getProvider(S).instances.forEach(Ne=>{U.includes(Ne)||U.push(Ne)})}),U};function kn(){}class zo{constructor(I,k=Ho.N){this.zone=I,this.delegate=k}now(){return this.delegate.now()}schedule(I,k,U){const J=this.zone;return this.delegate.schedule(function(Ne){J.runGuarded(()=>{I.apply(this,[Ne])})},k,U)}}class Os{constructor(I){this.zone=I,this.task=null}call(I,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",kn,{},kn,kn)),k.pipe((0,Vn.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let qg=(()=>{class S{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new zo(Zone.current)),this.insideAngular=k.run(()=>new zo(Zone.current,bc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(k){return new(k||S)(l.LFG(l.R0b))},S.\u0275prov=l.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function yo(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ec(S){return S.pipe((0,wc.Q)(yo().outsideAngular))}function Pl(S){return yo(),function Iu(S){return function(k){return(k=k.lift(new Os(S.ngZone))).pipe((0,jo.R)(S.outsideAngular),(0,wc.Q)(S.insideAngular))}}(yo())(S)}},2090:(et,ve,F)=>{F.d(ve,{BH:()=>Ye,LL:()=>he,ZR:()=>ye,gQ:()=>ur,zI:()=>Q,hu:()=>ee,g5:()=>B,US:()=>ge,tV:()=>ce,h$:()=>ne,L:()=>oe,$s:()=>$t,r3:()=>Zi,Sg:()=>xe,ne:()=>Vr,p$:()=>G,vZ:()=>br,ZB:()=>z,gK:()=>dr,pd:()=>to,m9:()=>Vi,z$:()=>Pe,GJ:()=>rn,jU:()=>Ie,ru:()=>Ke,d:()=>Ae,xb:()=>jt,w1:()=>we,hl:()=>$,uI:()=>He,UG:()=>pe,Yr:()=>Ge,b$:()=>tt,G6:()=>ze,Mn:()=>De,w9:()=>pn,cI:()=>qt,UI:()=>es,xO:()=>Yi,zd:()=>ts,DV:()=>Xt,ug:()=>Wt,dS:()=>Io,Pz:()=>Ht,Dv:()=>no,Wj:()=>qn,lb:()=>Cr,eu:()=>Ee});const ee=function(H,W){if(!H)throw B(W)},B=function(H){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+H)},de=function(H){const W=[];let Y=0;for(let Se=0;Se<H.length;Se++){let q=H.charCodeAt(Se);q<128?W[Y++]=q:q<2048?(W[Y++]=q>>6|192,W[Y++]=63&q|128):55296==(64512&q)&&Se+1<H.length&&56320==(64512&H.charCodeAt(Se+1))?(q=65536+((1023&q)<<10)+(1023&H.charCodeAt(++Se)),W[Y++]=q>>18|240,W[Y++]=q>>12&63|128,W[Y++]=q>>6&63|128,W[Y++]=63&q|128):(W[Y++]=q>>12|224,W[Y++]=q>>6&63|128,W[Y++]=63&q|128)}return W},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(H,W){if(!Array.isArray(H))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,Se=[];for(let q=0;q<H.length;q+=3){const te=H[q],ke=q+1<H.length,rt=ke?H[q+1]:0,yt=q+2<H.length,It=yt?H[q+2]:0;let ri=(15&rt)<<2|It>>6,Ki=63&It;yt||(Ki=64,ke||(ri=64)),Se.push(Y[te>>2],Y[(3&te)<<4|rt>>4],Y[ri],Y[Ki])}return Se.join("")},encodeString(H,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(H):this.encodeByteArray(de(H),W)},decodeString(H,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(H):function(H){const W=[];let Y=0,Se=0;for(;Y<H.length;){const q=H[Y++];if(q<128)W[Se++]=String.fromCharCode(q);else if(q>191&&q<224){const te=H[Y++];W[Se++]=String.fromCharCode((31&q)<<6|63&te)}else if(q>239&&q<365){const yt=((7&q)<<18|(63&H[Y++])<<12|(63&H[Y++])<<6|63&H[Y++])-65536;W[Se++]=String.fromCharCode(55296+(yt>>10)),W[Se++]=String.fromCharCode(56320+(1023&yt))}else{const te=H[Y++],ke=H[Y++];W[Se++]=String.fromCharCode((15&q)<<12|(63&te)<<6|63&ke)}}return W.join("")}(this.decodeStringToByteArray(H,W))},decodeStringToByteArray(H,W){this.init_();const Y=W?this.charToByteMapWebSafe_:this.charToByteMap_,Se=[];for(let q=0;q<H.length;){const te=Y[H.charAt(q++)],rt=q<H.length?Y[H.charAt(q)]:0;++q;const It=q<H.length?Y[H.charAt(q)]:64;++q;const Dt=q<H.length?Y[H.charAt(q)]:64;if(++q,null==te||null==rt||null==It||null==Dt)throw Error();Se.push(te<<2|rt>>4),64!==It&&(Se.push(rt<<4&240|It>>2),64!==Dt&&Se.push(It<<6&192|Dt))}return Se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let H=0;H<this.ENCODED_VALS.length;H++)this.byteToCharMap_[H]=this.ENCODED_VALS.charAt(H),this.charToByteMap_[this.byteToCharMap_[H]]=H,this.byteToCharMapWebSafe_[H]=this.ENCODED_VALS_WEBSAFE.charAt(H),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[H]]=H,H>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(H)]=H,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(H)]=H)}}},ne=function(H){const W=de(H);return ge.encodeByteArray(W,!0)},oe=function(H){return ne(H).replace(/\./g,"")},ce=function(H){try{return ge.decodeString(H,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function G(H){return z(void 0,H)}function z(H,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===H&&(H={});break;case Array:H=[];break;default:return W}for(const Y in W)!W.hasOwnProperty(Y)||!re(Y)||(H[Y]=z(H[Y],W[Y]));return H}function re(H){return"__proto__"!==H}class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,Y)=>{this.resolve=W,this.reject=Y})}wrapCallback(W){return(Y,Se)=>{Y?this.reject(Y):this.resolve(Se),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(Y):W(Y,Se))}}}function xe(H,W){if(H.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Se=W||"demo-project",q=H.iat||0,te=H.sub||H.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${Se}`,aud:Se,iat:q,exp:q+3600,auth_time:q,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},H);return[oe(JSON.stringify({alg:"none",type:"JWT"})),oe(JSON.stringify(ke)),""].join(".")}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function He(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(H){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function Ke(){const H="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof H&&void 0!==H.id}function tt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ae(){return Pe().indexOf("Electron/")>=0}function we(){const H=Pe();return H.indexOf("MSIE ")>=0||H.indexOf("Trident/")>=0}function De(){return Pe().indexOf("MSAppHost/")>=0}function Ge(){return!1}function ze(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $(){return"object"==typeof indexedDB}function Ee(){return new Promise((H,W)=>{try{let Y=!0;const Se="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(Se);q.onsuccess=()=>{q.result.close(),Y||self.indexedDB.deleteDatabase(Se),H(!0)},q.onupgradeneeded=()=>{Y=!1},q.onerror=()=>{var te;W((null===(te=q.error)||void 0===te?void 0:te.message)||"")}}catch(Y){W(Y)}})}function Q(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ye extends Error{constructor(W,Y,Se){super(Y),this.code=W,this.customData=Se,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,he.prototype.create)}}class he{constructor(W,Y,Se){this.service=W,this.serviceName=Y,this.errors=Se}create(W,...Y){const Se=Y[0]||{},q=`${this.service}/${W}`,te=this.errors[W],ke=te?function Fe(H,W){return H.replace(mt,(Y,Se)=>{const q=W[Se];return null!=q?String(q):`<${Se}?>`})}(te,Se):"Error";return new ye(q,`${this.serviceName}: ${ke} (${q}).`,Se)}}const mt=/\{\$([^}]+)}/g;function qt(H){return JSON.parse(H)}function Ht(H){return JSON.stringify(H)}const nt=function(H){let W={},Y={},Se={},q="";try{const te=H.split(".");W=qt(ce(te[0])||""),Y=qt(ce(te[1])||""),q=te[2],Se=Y.d||{},delete Y.d}catch(te){}return{header:W,claims:Y,data:Se,signature:q}},pn=function(H){const Y=nt(H).claims;return!!Y&&"object"==typeof Y&&Y.hasOwnProperty("iat")},rn=function(H){const W=nt(H).claims;return"object"==typeof W&&!0===W.admin};function Zi(H,W){return Object.prototype.hasOwnProperty.call(H,W)}function Xt(H,W){if(Object.prototype.hasOwnProperty.call(H,W))return H[W]}function jt(H){for(const W in H)if(Object.prototype.hasOwnProperty.call(H,W))return!1;return!0}function es(H,W,Y){const Se={};for(const q in H)Object.prototype.hasOwnProperty.call(H,q)&&(Se[q]=W.call(Y,H[q],q,H));return Se}function br(H,W){if(H===W)return!0;const Y=Object.keys(H),Se=Object.keys(W);for(const q of Y){if(!Se.includes(q))return!1;const te=H[q],ke=W[q];if(Fi(te)&&Fi(ke)){if(!br(te,ke))return!1}else if(te!==ke)return!1}for(const q of Se)if(!Y.includes(q))return!1;return!0}function Fi(H){return null!==H&&"object"==typeof H}function Yi(H){const W=[];for(const[Y,Se]of Object.entries(H))Array.isArray(Se)?Se.forEach(q=>{W.push(encodeURIComponent(Y)+"="+encodeURIComponent(q))}):W.push(encodeURIComponent(Y)+"="+encodeURIComponent(Se));return W.length?"&"+W.join("&"):""}function ts(H){const W={};return H.replace(/^\?/,"").split("&").forEach(Se=>{if(Se){const[q,te]=Se.split("=");W[decodeURIComponent(q)]=decodeURIComponent(te)}}),W}function to(H){const W=H.indexOf("?");if(!W)return"";const Y=H.indexOf("#",W);return H.substring(W,Y>0?Y:void 0)}class ur{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let W=1;W<this.blockSize;++W)this.pad_[W]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(W,Y){Y||(Y=0);const Se=this.W_;if("string"==typeof W)for(let Dt=0;Dt<16;Dt++)Se[Dt]=W.charCodeAt(Y)<<24|W.charCodeAt(Y+1)<<16|W.charCodeAt(Y+2)<<8|W.charCodeAt(Y+3),Y+=4;else for(let Dt=0;Dt<16;Dt++)Se[Dt]=W[Y]<<24|W[Y+1]<<16|W[Y+2]<<8|W[Y+3],Y+=4;for(let Dt=16;Dt<80;Dt++){const ri=Se[Dt-3]^Se[Dt-8]^Se[Dt-14]^Se[Dt-16];Se[Dt]=4294967295&(ri<<1|ri>>>31)}let It,Dn,q=this.chain_[0],te=this.chain_[1],ke=this.chain_[2],rt=this.chain_[3],yt=this.chain_[4];for(let Dt=0;Dt<80;Dt++){Dt<40?Dt<20?(It=rt^te&(ke^rt),Dn=1518500249):(It=te^ke^rt,Dn=1859775393):Dt<60?(It=te&ke|rt&(te|ke),Dn=2400959708):(It=te^ke^rt,Dn=3395469782);const ri=(q<<5|q>>>27)+It+yt+Dn+Se[Dt]&4294967295;yt=rt,rt=ke,ke=4294967295&(te<<30|te>>>2),te=q,q=ri}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+te&4294967295,this.chain_[2]=this.chain_[2]+ke&4294967295,this.chain_[3]=this.chain_[3]+rt&4294967295,this.chain_[4]=this.chain_[4]+yt&4294967295}update(W,Y){if(null==W)return;void 0===Y&&(Y=W.length);const Se=Y-this.blockSize;let q=0;const te=this.buf_;let ke=this.inbuf_;for(;q<Y;){if(0===ke)for(;q<=Se;)this.compress_(W,q),q+=this.blockSize;if("string"==typeof W){for(;q<Y;)if(te[ke]=W.charCodeAt(q),++ke,++q,ke===this.blockSize){this.compress_(te),ke=0;break}}else for(;q<Y;)if(te[ke]=W[q],++ke,++q,ke===this.blockSize){this.compress_(te),ke=0;break}}this.inbuf_=ke,this.total_+=Y}digest(){const W=[];let Y=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&Y,Y/=256;this.compress_(this.buf_);let Se=0;for(let q=0;q<5;q++)for(let te=24;te>=0;te-=8)W[Se]=this.chain_[q]>>te&255,++Se;return W}}function Vr(H,W){const Y=new wt(H,W);return Y.subscribe.bind(Y)}class wt{constructor(W,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{W(this)}).catch(Se=>{this.error(Se)})}next(W){this.forEachObserver(Y=>{Y.next(W)})}error(W){this.forEachObserver(Y=>{Y.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,Y,Se){let q;if(void 0===W&&void 0===Y&&void 0===Se)throw new Error("Missing Observer.");q=function Un(H,W){if("object"!=typeof H||null===H)return!1;for(const Y of W)if(Y in H&&"function"==typeof H[Y])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:Y,complete:Se},void 0===q.next&&(q.next=$n),void 0===q.error&&(q.error=$n),void 0===q.complete&&(q.complete=$n);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(ke){}}),this.observers.push(q),te}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,W)}sendOne(W,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{Y(this.observers[W])}catch(Se){"undefined"!=typeof console&&console.error&&console.error(Se)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $n(){}const no=function(H,W,Y,Se){let q;if(Se<W?q="at least "+W:Se>Y&&(q=0===Y?"none":"no more than "+Y),q)throw new Error(H+" failed: Was called with "+Se+(1===Se?" argument.":" arguments.")+" Expects "+q+".")};function dr(H,W){return`${H} failed: ${W} argument `}function qn(H,W,Y,Se){if((!Se||Y)&&"function"!=typeof Y)throw new Error(dr(H,W)+"must be a valid function.")}function Cr(H,W,Y,Se){if((!Se||Y)&&("object"!=typeof Y||null===Y))throw new Error(dr(H,W)+"must be a valid context object.")}const Io=function(H){const W=[];let Y=0;for(let Se=0;Se<H.length;Se++){let q=H.charCodeAt(Se);if(q>=55296&&q<=56319){const te=q-55296;Se++,ee(Se<H.length,"Surrogate pair missing trail surrogate."),q=65536+(te<<10)+(H.charCodeAt(Se)-56320)}q<128?W[Y++]=q:q<2048?(W[Y++]=q>>6|192,W[Y++]=63&q|128):q<65536?(W[Y++]=q>>12|224,W[Y++]=q>>6&63|128,W[Y++]=63&q|128):(W[Y++]=q>>18|240,W[Y++]=q>>12&63|128,W[Y++]=q>>6&63|128,W[Y++]=63&q|128)}return W},Wt=function(H){let W=0;for(let Y=0;Y<H.length;Y++){const Se=H.charCodeAt(Y);Se<128?W++:Se<2048?W+=2:Se>=55296&&Se<=56319?(W+=4,Y++):W+=3}return W};function $t(H,W=1e3,Y=2){const Se=W*Math.pow(Y,H),q=Math.round(.5*Se*(Math.random()-.5)*2);return Math.min(144e5,Se+q)}function Vi(H){return H&&H._delegate?H._delegate:H}},4596:(et,ve,F)=>{var l=F(5e3);let ee=null;function B(){return ee}const ne=new l.OlP("DocumentToken");let oe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ce(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const G=new l.OlP("Location Initialized");let z=(()=>{class n extends oe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){re()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){re()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ye(){return new z((0,l.LFG)(ne))}()},providedIn:"platform"}),n})();function re(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ie(n){const e=(0,l.LFG)(ne).location;return new tt((0,l.LFG)(oe),e&&e.origin||"")}()},providedIn:"root"}),n})();const Ke=new l.OlP("appBaseHref");let tt=(()=>{class n extends pe{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+He(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const c=this.prepareExternalUrl(r+He(s));this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){const c=this.prepareExternalUrl(r+He(s));this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe),l.LFG(Ke,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends pe{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=xe(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let c=this.prepareExternalUrl(r+He(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,i,c)}replaceState(t,i,r,s){let c=this.prepareExternalUrl(r+He(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(oe),l.LFG(Ke,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n{constructor(t,i){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=Pe(ze(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+He(i))}normalize(t){return n.stripTrailingSlash(function Ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=He,n.joinWithSlash=xe,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(l.LFG(pe),l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function De(){return new we((0,l.LFG)(pe),(0,l.LFG)(oe))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}function fa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let rs=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ro{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pi=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ro(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),xo(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{xo(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function xo(n,e){n.context.$implicit=e.item}let On=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ac("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ac("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class vn{constructor(){this.$implicit=null,this.ngIf=null}}function ac(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class gl{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ui=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Dr=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new gl(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ui,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),ml=(()=>{class n{constructor(t,i,r){r._addDefault(new gl(t,i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ui,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})();class oo{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class vd{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}onDestroy(e){}}const Ng=new vd,Ss=new oo;let ef=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return Ng;if((0,l.F4k)(t))return Ss;throw function Hi(n,e){return new l.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})(),lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const ko="browser";function _a(n){return"server"===n}let cu=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ya((0,l.LFG)(ne),window)}),n})();class ya{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ls(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=uu(this.window.history)||uu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function uu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class mn{}class Oo extends class yl extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){ee||(ee=n)}(new Oo)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vl(){return on=on||document.querySelector("base"),on?on.getAttribute("href"):null}();return null==t?null:function co(n){cc=cc||document.createElement("a"),cc.setAttribute("href",n);const e=cc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){on=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fa(document.cookie,e)}}let cc,on=null;const Ti=new l.OlP("TRANSITION_ID"),Pn=[{provide:l.ip1,useFactory:function du(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Ti,ne,l.zs3],multi:!0}];class cs{static init(){(0,l.VLi)(new cs)}addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Si=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Po=new l.OlP("EventManagerPlugins");let Is=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Po),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class bl{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Hr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),us=(()=>{class n extends Hr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(va),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(va))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function va(n){B().remove(n)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ba=/%COMP%/g;function Me(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Me(n,r,t):(r=r.replace(ba,n),t.push(r))}return t}function Lt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Sn=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new wa(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new El(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new gu(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Me(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Is),l.LFG(us),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class wa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(vt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=vt[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=vt[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lt(i)):this.eventManager.addEventListener(e,t,Lt(i))}}class El extends wa{constructor(e,t,i,r){super(e),this.component=i;const s=Me(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function fu(n){return"_ngcontent-%COMP%".replace(ba,n)}(r+"-"+i.id),this.hostAttr=function pu(n){return"_nghost-%COMP%".replace(ba,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class gu extends wa{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Me(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Vg=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const hc=["alt","control","meta","shift"],fc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},As={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Tl=(()=>{class n extends bl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,s.domEventName,c))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(hc.forEach(p=>{const y=i.indexOf(p);y>-1&&(i.splice(y,1),c+=p+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(t){let i="",r=function uo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Zn.hasOwnProperty(e)&&(e=Zn[e]))}return fc[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),hc.forEach(s=>{s!=r&&As[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:ko},{provide:l.g9A,useValue:function jr(){Oo.makeCurrent(),cs.init()},multi:!0},{provide:ne,useFactory:function pc(){return(0,l.RDi)(document),document},deps:[]}]),Sl=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function mu(){return new l.qLn},deps:[]},{provide:Po,useClass:Vg,multi:!0,deps:[ne,l.R0b,l.Lbi]},{provide:Po,useClass:Tl,multi:!0,deps:[ne]},{provide:Sn,useClass:Sn,deps:[Is,us,l.AFp]},{provide:l.FYo,useExisting:Sn},{provide:Hr,useExisting:us},{provide:us,useClass:us,deps:[ne]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Is,useClass:Is,deps:[Po,l.R0b]},{provide:mn,useClass:Si,deps:[]}];let Ca=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Ti,useExisting:l.AFp},Pn]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Sl,imports:[lo,l.hGG]}),n})();"undefined"!=typeof window&&window;let Lo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(bu),i},providedIn:"root"}),n})(),bu=(()=>{class n extends Lo{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(i),(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ho(n){return new bu(n.get(ne))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var bn=F(8996),Ia=F(3269);function Ze(...n){const e=(0,Ia.yG)(n);return(0,bn.D)(n,e)}var pt=F(7579);class Yn extends pt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var en=F(8306);const{isArray:wu}=Array,{getPrototypeOf:Od,prototype:fs,keys:Cu}=Object;function En(n){if(1===n.length){const e=n[0];if(wu(e))return{args:e,keys:null};if(function xl(n){return n&&"object"==typeof n&&Od(n)===fs}(e)){const t=Cu(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Ir=F(4671),st=F(4004);const{isArray:yc}=Array;function Eu(n){return(0,st.U)(e=>function Pd(n,e){return yc(e)?n(...e):n(e)}(n,e))}function Du(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var un=F(5403),Aa=F(9672);function ps(...n){const e=(0,Ia.yG)(n),t=(0,Ia.jO)(n),{args:i,keys:r}=En(n);if(0===i.length)return(0,bn.D)([],e);const s=new en.y(function fo(n,e,t=Ir.y){return i=>{Ii(e,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)Ii(e,()=>{const y=(0,bn.D)(n[p],e);let C=!1;y.subscribe((0,un.x)(i,D=>{s[p]=D,C||(C=!0,d--),d||i.next(t(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,e,r?c=>Du(r,c):Ir.y));return t?s.pipe(Eu(t)):s}function Ii(n,e,t){n?(0,Aa.f)(t,n,e):e()}var gr=F(576);function xs(n,e){const t=(0,gr.m)(n)?n:()=>n,i=r=>r.error(t());return new en.y(e?r=>e.schedule(i,0,r):i)}const po=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var xa=F(8189);function Vo(...n){return function Bo(){return(0,xa.J)(1)}()((0,bn.D)(n,(0,Ia.yG)(n)))}var gs=F(8421);function go(n){return new en.y(e=>{(0,gs.Xf)(n()).subscribe(e)})}var Ra=F(515),_i=F(727),Nn=F(4482);function Uo(){return(0,Nn.e)((n,e)=>{let t=null;n._refCount++;const i=(0,un.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class vc extends en.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Nn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _i.w0;const t=this.getSubject();e.add(this.source.subscribe((0,un.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_i.w0.EMPTY)}return e}refCount(){return Uo()(this)}}function In(n,e){return(0,Nn.e)((t,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();t.subscribe((0,un.x)(i,p=>{null==r||r.unsubscribe();let y=0;const C=s++;(0,gs.Xf)(n(p,C)).subscribe(r=(0,un.x)(i,D=>i.next(e?e(p,D,C,y++):D),()=>{r=null,d()}))},()=>{c=!0,d()}))})}var Fn=F(5698);function yi(...n){const e=(0,Ia.yG)(n);return(0,Nn.e)((t,i)=>{(e?Vo(n,t,e):Vo(n,t)).subscribe(i)})}function Rs(n,e,t,i,r){return(s,c)=>{let d=t,p=e,y=0;s.subscribe((0,un.x)(c,C=>{const D=y++;p=d?n(p,C,D):(d=!0,C),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function mr(n,e){return(0,Nn.e)(Rs(n,e,arguments.length>=2,!0))}function Ln(n,e){return(0,Nn.e)((t,i)=>{let r=0;t.subscribe((0,un.x)(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Xi(n){return(0,Nn.e)((e,t)=>{let s,i=null,r=!1;i=e.subscribe((0,un.x)(t,void 0,void 0,c=>{s=(0,gs.Xf)(n(c,Xi(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}var Bn=F(5577);function Rl(n,e){return(0,gr.m)(e)?(0,Bn.z)(n,e,1):(0,Bn.z)(n,1)}function kl(n){return n<=0?()=>Ra.E:(0,Nn.e)((e,t)=>{let i=[];e.subscribe((0,un.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Rn(n=Gg){return(0,Nn.e)((e,t)=>{let i=!1;e.subscribe((0,un.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Gg(){return new po}function zg(n){return(0,Nn.e)((e,t)=>{let i=!1;e.subscribe((0,un.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ka(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ln((r,s)=>n(r,s,i)):Ir.y,(0,Fn.q)(1),t?zg(e):Rn(()=>new po))}var vi=F(8505);function Tu(n){return(0,Nn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class mo{constructor(e,t){this.id=e,this.url=t}}class Ho extends mo{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bc extends mo{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vn extends mo{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wc extends mo{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jo extends mo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $g extends mo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ol extends mo{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class er extends mo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends mo{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _o{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ks{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Go{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pa{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nd{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Bt="primary";class Fd{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function kn(n){return new Fd(n)}const zo="ngNavigationCancelingError";function Os(n){const e=Error("NavigationCancelingError: "+n);return e[zo]=!0,e}function yo(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ai(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!Ec(n[r],e[r]))return!1;return!0}function Ec(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function cf(n){return Array.prototype.concat.apply([],n)}function Pl(n){return n.length>0?n[n.length-1]:null}function ei(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Mi(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,bn.D)(Promise.resolve(n)):Ze(n)}const I={exact:function ue(n,e,t){if(!_r(n.segments,e.segments)||!bt(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!ue(n.children[i],e.children[i],t))return!1;return!0},subset:ot},k={exact:function J(n,e){return Ai(n,e)},subset:function Ne(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ec(n[t],e[t]))},ignored:()=>!0};function U(n,e,t){return I[t.paths](n.root,e.root,t.matrixParams)&&k[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ot(n,e,t){return Tt(n,e,e.segments,t)}function Tt(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!_r(r,t)||e.hasChildren()||!bt(r,t,i))}if(n.segments.length===t.length){if(!_r(n.segments,t)||!bt(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ot(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(_r(n.segments,r)&&bt(n.segments,r,i)&&n.children[Bt])&&Tt(n.children[Bt],e,s,i)}}function bt(n,e,t){return e.every((i,r)=>k[t](n[r].parameters,i.parameters))}class Nt{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return Na.serialize(this)}}class qe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ei(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $o(this)}}class Zt{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=kn(this.parameters)),this._parameterMap}toString(){return Sc(this)}}function _r(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class ms{}class _s{parse(e){const t=new Yy(e);return new Nt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ps(e.root,!0)}`,i=function Zg(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Dc(t)}=${Dc(r)}`).join("&"):`${Dc(t)}=${Dc(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Fl(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Na=new _s;function $o(n){return n.segments.map(e=>Sc(e)).join("/")}function Ps(n,e){if(!n.hasChildren())return $o(n);if(e){const t=n.children[Bt]?Ps(n.children[Bt],!1):"",i=[];return ei(n.children,(r,s)=>{s!==Bt&&i.push(`${s}:${Ps(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Nl(n,e){let t=[];return ei(n.children,(i,r)=>{r===Bt&&(t=t.concat(e(i,r)))}),ei(n.children,(i,r)=>{r!==Bt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Bt?[Ps(n.children[Bt],!1)]:[`${r}:${Ps(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${$o(n)}/${t[0]}`:`${$o(n)}/(${t.join("//")})`}}function Fa(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dc(n){return Fa(n).replace(/%3B/gi,";")}function uf(n){return Fa(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tc(n){return decodeURIComponent(n)}function Au(n){return Tc(n.replace(/\+/g,"%20"))}function Sc(n){return`${uf(n.path)}${function Wg(n){return Object.keys(n).map(e=>`;${uf(e)}=${uf(n[e])}`).join("")}(n.parameters)}`}const df=/^[^\/()?;=#]+/;function qo(n){const e=n.match(df);return e?e[0]:""}const Mu=/^[^=?&#]+/,Yg=/^[^&#]+/;class Yy{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qe([],{}):new qe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Bt]=new qe(e,t)),i}parseSegment(){const e=qo(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Zt(Tc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qo(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=qo(this.remaining);r&&(i=r,this.capture(i))}e[Tc(t)]=Tc(i)}parseQueryParam(e){const t=function Zy(n){const e=n.match(Mu);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const c=function Kg(n){const e=n.match(Yg);return e?e[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Au(t),s=Au(i);if(e.hasOwnProperty(r)){let c=e[r];Array.isArray(c)||(c=[c],e[r]=c),c.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qo(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Bt);const c=this.parseChildren();t[s]=1===Object.keys(c).length?c[Bt]:new qe([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Qg{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=hf(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=hf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ic(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Ic(e,this._root).map(t=>t.value)}}function hf(n,e){if(n===e.value)return e;for(const t of e.children){const i=hf(n,t);if(i)return i}return null}function Ic(n,e){if(n===e.value)return[e];for(const t of e.children){const i=Ic(n,t);if(i.length)return i.unshift(e),i}return[]}class Wo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Ld extends Qg{constructor(e,t){super(e),this.snapshot=t,Vd(this,e)}toString(){return this.snapshot.toString()}}function Ll(n,e){const t=function Ky(n,e){const c=new La([],{},{},"",{},Bt,e,null,n.root,-1,{});return new ff("",new Wo(c,[]))}(n,e),i=new Yn([new Zt("",{})]),r=new Yn({}),s=new Yn({}),c=new Yn({}),d=new Yn(""),p=new Bl(i,r,c,d,s,Bt,e,t.root);return p.snapshot=t.root,new Ld(new Wo(p,[]),t)}class Bl{constructor(e,t,i,r,s,c,d,p){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,st.U)(e=>kn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,st.U)(e=>kn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qy(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Bd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class La{constructor(e,t,i,r,s,c,d,p,y,C,D){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=p,this._urlSegment=y,this._lastPathIndex=C,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ff extends Qg{constructor(e,t){super(t),this.url=e,Vd(this,t)}toString(){return pf(this._root)}}function Vd(n,e){e.value._routerState=n,e.children.forEach(t=>Vd(n,t))}function pf(n){const e=n.children.length>0?` { ${n.children.map(pf).join(", ")} } `:"";return`${n.value}${e}`}function Yo(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ai(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ai(e.params,t.params)||n.params.next(t.params),function Su(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ai(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ai(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gf(n,e){const t=Ai(n.params,e.params)&&function ai(n,e){return _r(n,e)&&n.every((t,i)=>Ai(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||gf(n.parent,e.parent))}function xu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Jy(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xu(n,i,r);return xu(n,i)})}(n,e,t);return new Wo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(d=>xu(n,d)),c}}const i=function Xy(n){return new Bl(new Yn(n.url),new Yn(n.params),new Yn(n.queryParams),new Yn(n.fragment),new Yn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>xu(n,s));return new Wo(i,r)}}function Ns(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ac(n){return"object"==typeof n&&null!=n&&n.outlets}function Ru(n,e,t,i,r){let s={};if(i&&ei(i,(d,p)=>{s[p]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),n===e)return new Nt(t,s,r);const c=Xg(n,e,t);return new Nt(c,s,r)}function Xg(n,e,t){const i={};return ei(n.children,(r,s)=>{i[s]=r===e?t:Xg(r,e,t)}),new qe(n.segments,i)}class mf{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ns(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Ac);if(r&&r!==Pl(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ku{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function im(n,e,t){if(n||(n=new qe([],{})),0===n.segments.length&&n.hasChildren())return Ud(n,e,t);const i=function dC(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const c=n.segments[r],d=t[i];if(Ac(d))break;const p=`${d}`,y=i<t.length-1?t[i+1]:null;if(r>0&&void 0===p)break;if(p&&y&&"object"==typeof y&&void 0===y.outlets){if(!Ls(p,y,c))return s;i+=2}else{if(!Ls(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new qe(n.segments.slice(0,i.pathIndex),{});return s.children[Bt]=new qe(n.segments.slice(i.pathIndex),n.children),Ud(s,0,r)}return i.match&&0===r.length?new qe(n.segments,{}):i.match&&!n.hasChildren()?rm(n,e,t):i.match?Ud(n,0,r):rm(n,e,t)}function Ud(n,e,t){if(0===t.length)return new qe(n.segments,{});{const i=function nm(n){return Ac(n[0])?n[0].outlets:{[Bt]:n}}(t),r={};return ei(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=im(n.children[c],e,s))}),ei(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new qe(n.segments,r)}}function rm(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Ac(s)){const p=Fs(s.outlets);return new qe(i,p)}if(0===r&&Ns(t[0])){i.push(new Zt(n.segments[e].path,_f(t[0]))),r++;continue}const c=Ac(s)?s.outlets[Bt]:`${s}`,d=r<t.length-1?t[r+1]:null;c&&d&&Ns(d)?(i.push(new Zt(c,_f(d))),r+=2):(i.push(new Zt(c,{})),r++)}return new qe(i,{})}function Fs(n){const e={};return ei(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=rm(new qe([],{}),0,t))}),e}function _f(n){const e={};return ei(n,(t,i)=>e[i]=`${t}`),e}function Ls(n,e,t){return n==t.path&&Ai(e,t.parameters)}class sm{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Yo(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Zo(t);e.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),ei(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Zo(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:d})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Zo(e);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Zo(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Pa(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Oa(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(Yo(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),Yo(d.route.value),this.activateChildRoutes(e,null,c.children)}else{const d=function Hd(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),p=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=p,c.outlet&&c.outlet.activateWith(r,p),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,i)}}class jd{constructor(e,t){this.routes=e,this.module=t}}function Ul(n){return"function"==typeof n}function Mc(n){return n instanceof Nt}const Gd=Symbol("INITIAL_VALUE");function xc(){return In(n=>ps(n.map(e=>e.pipe((0,Fn.q)(1),yi(Gd)))).pipe(mr((e,t)=>{let i=!1;return t.reduce((r,s,c)=>r!==Gd?r:(s===Gd&&(i=!0),i||!1!==s&&c!==t.length-1&&!Mc(s)?r:s),e)},Gd),Ln(e=>e!==Gd),(0,st.U)(e=>Mc(e)?e:!0===e),(0,Fn.q)(1)))}class tv{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rc,this.attachRef=null}}class Rc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new tv,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Pu=(()=>{class n{constructor(t,i,r,s,c){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=s||Bt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,p=new nv(t,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,p),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rc),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class nv{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Bl?this.route:e===Rc?this.childContexts:this.parent.get(e,t)}}let bf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},directives:[Pu],encapsulation:2}),n})();function Hl(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];zd(i,wf(e,i))}}function zd(n,e){n.children&&Hl(n.children,e)}function wf(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Cf(n){const e=n.children&&n.children.map(Cf),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=bf),t}function Yt(n){return n.outlet||Bt}function am(n,e){const t=n.filter(i=>Yt(i)===e);return t.push(...n.filter(i=>Yt(i)!==e)),t}const lm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kc(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},lm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||yo)(t,n,e);if(!s)return Object.assign({},lm);const c={};ei(s.posParams,(p,y)=>{c[y]=p.path});const d=s.consumed.length>0?Object.assign(Object.assign({},c),s.consumed[s.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:d,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Oc(n,e,t,i,r="corrected"){if(t.length>0&&function sv(n,e,t){return t.some(i=>Ba(n,e,i)&&Yt(i)!==Bt)}(n,t,i)){const c=new qe(e,function rv(n,e,t,i){const r={};r[Bt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&Yt(s)!==Bt){const c=new qe([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,r[Yt(s)]=c}return r}(n,e,i,new qe(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function ov(n,e,t){return t.some(i=>Ba(n,e,i))}(n,t,i)){const c=new qe(n.segments,function iv(n,e,t,i,r,s){const c={};for(const d of i)if(Ba(n,t,d)&&!r[Yt(d)]){const p=new qe([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:e.length,c[Yt(d)]=p}return Object.assign(Object.assign({},r),c)}(n,e,t,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const s=new qe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Ba(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function av(n,e,t,i){return!!(Yt(n)===i||i!==Bt&&Ba(e,t,n))&&("**"===n.path||kc(e,n,t).matched)}function cm(n,e,t){return 0===e.length&&!n.children[t]}class Va{constructor(e){this.segmentGroup=e||null}}class nr{constructor(e){this.urlTree=e}}function jl(n){return xs(new Va(n))}function Ef(n){return xs(new nr(n))}class $d{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(l.h0i)}apply(){const e=Oc(this.urlTree.root,[],[],this.config).segmentGroup,t=new qe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Bt).pipe((0,st.U)(s=>this.createUrlTree(Nu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xi(s=>{if(s instanceof nr)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Va?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Bt).pipe((0,st.U)(r=>this.createUrlTree(Nu(r),e.queryParams,e.fragment))).pipe(Xi(r=>{throw r instanceof Va?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new qe([],{[Bt]:e}):e;return new Nt(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,st.U)(s=>new qe([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,bn.D)(r).pipe(Rl(s=>{const c=i.children[s],d=am(t,s);return this.expandSegmentGroup(e,d,c,s).pipe((0,st.U)(p=>({segment:p,outlet:s})))}),mr((s,c)=>(s[c.outlet]=c.segment,s),{}),function Wy(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Ln((r,s)=>n(r,s,i)):Ir.y,kl(1),t?zg(e):Rn(()=>new po))}())}expandSegment(e,t,i,r,s,c){return(0,bn.D)(i).pipe(Rl(d=>this.expandSegmentAgainstRoute(e,t,i,d,r,s,c).pipe(Xi(y=>{if(y instanceof Va)return Ze(null);throw y}))),ka(d=>!!d),Xi((d,p)=>{if(d instanceof po||"EmptyError"===d.name)return cm(t,r,s)?Ze(new qe([],{})):jl(t);throw d}))}expandSegmentAgainstRoute(e,t,i,r,s,c,d){return av(r,t,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c):jl(t):jl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ef(s):this.lineralizeSegments(i,s).pipe((0,Bn.z)(c=>{const d=new qe(c,{});return this.expandSegment(e,d,t,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:y,positionalParamSegments:C}=kc(t,r,s);if(!d)return jl(t);const D=this.applyRedirectCommands(p,r.redirectTo,C);return r.redirectTo.startsWith("/")?Ef(D):this.lineralizeSegments(r,D).pipe((0,Bn.z)(x=>this.expandSegment(e,t,i,x.concat(y),c,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Ze(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe((0,st.U)(D=>(i._loadedConfig=D,new qe(r,{})))):Ze(new qe(r,{}));const{matched:c,consumedSegments:d,remainingSegments:p}=kc(t,i,r);return c?this.getChildConfig(e,i,r).pipe((0,Bn.z)(C=>{const D=C.module,x=C.routes,{segmentGroup:O,slicedSegments:L}=Oc(t,d,p,x),Z=new qe(O.segments,O.children);if(0===L.length&&Z.hasChildren())return this.expandChildren(D,x,Z).pipe((0,st.U)(Ue=>new qe(d,Ue)));if(0===x.length&&0===L.length)return Ze(new qe(d,{}));const ae=Yt(i)===s;return this.expandSegment(D,Z,x,L,ae?Bt:s,!0).pipe((0,st.U)(We=>new qe(d.concat(We.segments),We.children)))})):jl(t)}getChildConfig(e,t,i){return t.children?Ze(new jd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Ze(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe((0,Bn.z)(r=>r?this.configLoader.load(e.injector,t).pipe((0,st.U)(s=>(t._loadedConfig=s,s))):function xi(n){return xs(Os(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Ze(new jd([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?Ze(r.map(c=>{const d=e.get(c);let p;if(function yf(n){return n&&Ul(n.canLoad)}(d))p=d.canLoad(t,i);else{if(!Ul(d))throw new Error("Invalid CanLoad guard");p=d(t,i)}return Mi(p)})).pipe(xc(),(0,vi.b)(c=>{if(!Mc(c))return;const d=Os(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,st.U)(c=>!0===c)):Ze(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Ze(i);if(r.numberOfChildren>1||!r.children[Bt])return xs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Bt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Nt(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ei(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=t[d]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let c={};return ei(t.children,(d,p)=>{c[p]=this.createSegmentGroup(e,d,i,r)}),new qe(s,c)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function Nu(n){const e={};for(const i of Object.keys(n.children)){const s=Nu(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function lv(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new qe(n.segments.concat(e.segments),e.children)}return n}(new qe(n.segments,e))}class Ar{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qo{constructor(e,t){this.component=e,this.route=t}}function dm(n,e,t){const i=n._root;return zl(i,e?e._root:null,t,[i.value])}function Pc(n,e,t){const i=function Tf(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function zl(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zo(e);return n.children.forEach(c=>{(function fm(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=e?e.value:null,d=t?t.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function cv(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_r(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_r(n.url,e.url)||!Ai(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gf(n,e)||!Ai(n.queryParams,e.queryParams);default:return!gf(n,e)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new Ar(i)):(s.data=c.data,s._resolvedData=c._resolvedData),zl(n,e,s.component?d?d.children:null:t,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new Qo(d.outlet.component,c))}else c&&Mr(e,d,r),r.canActivateChecks.push(new Ar(i)),zl(n,null,s.component?d?d.children:null:t,i,r)})(c,s[c.value.outlet],t,i.concat([c.value]),r),delete s[c.value.outlet]}),ei(s,(c,d)=>Mr(c,t.getContext(d),r)),r}function Mr(n,e,t){const i=Zo(n),r=n.value;ei(i,(s,c)=>{Mr(s,r.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Qo(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class mm{}function vo(n){return new en.y(e=>e.error(n))}class _m{constructor(e,t,i,r,s,c){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const e=Oc(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Bt);if(null===t)return null;const i=new La([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Wo(i,t),s=new ff(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=Qy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const c=t.children[s],d=am(e,s),p=this.processSegmentGroup(d,c,s);if(null===p)return null;i.push(...p)}const r=vm(i);return function ym(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const c=this.processSegmentAgainstRoute(s,t,i,r);if(null!==c)return c}return cm(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!av(e,t,i,r))return null;let s,c=[],d=[];if("**"===e.path){const O=i.length>0?Pl(i).parameters:{};s=new La(i,O,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(e),Yt(e),e.component,e,$l(t),Bs(t)+i.length,g(e))}else{const O=kc(t,e,i);if(!O.matched)return null;c=O.consumedSegments,d=O.remainingSegments,s=new La(c,O.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(e),Yt(e),e.component,e,$l(t),Bs(t)+c.length,g(e))}const p=function hv(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:y,slicedSegments:C}=Oc(t,c,d,p.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution);if(0===C.length&&y.hasChildren()){const O=this.processChildren(p,y);return null===O?null:[new Wo(s,O)]}if(0===p.length&&0===C.length)return[new Wo(s,[])];const D=Yt(e)===r,x=this.processSegment(p,y,C,D?Bt:r);return null===x?null:[new Wo(s,x)]}}function Af(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function vm(n){const e=[],t=new Set;for(const i of n){if(!Af(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=vm(i.children);e.push(new Wo(i.value,r))}return e.filter(i=>!t.has(i))}function $l(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Bs(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function v(n){return n.data||{}}function g(n){return n.resolve||{}}function K(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Be(n){return In(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,st.U)(()=>e)):Ze(e)})}class _t extends class Ct{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const jn=new l.OlP("ROUTES");class Rr{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe((0,st.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=s.create(e);return new jd(cf(c.injector.get(jn,void 0,l.XFs.Self|l.XFs.Optional)).map(Cf),c)}),Xi(s=>{throw t._loader$=void 0,s}));return t._loader$=new vc(r,()=>new pt.x).pipe(Uo()),t._loader$}loadModuleFactory(e){return Mi(e()).pipe((0,Bn.z)(t=>t instanceof l.YKP?Ze(t):(0,bn.D)(this.compiler.compileModuleAsync(t))))}}class fv{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Ua(n){throw n}function Wd(n,e,t){return e.parse("/")}function Zd(n,e){return Ze(null)}const Mf={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let li=(()=>{class n{constructor(t,i,r,s,c,d,p){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new pt.x,this.errorHandler=Ua,this.malformedUriErrorHandler=Wd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Zd,afterPreactivation:Zd},this.urlHandlingStrategy=new fv,this.routeReuseStrategy=new _t,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(l.h0i),this.console=c.get(l.c2e);const D=c.get(l.R0b);this.isNgZoneEnabled=D instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function S(){return new Nt(new qe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rr(c,d,x=>this.triggerEvent(new _o(x)),x=>this.triggerEvent(new ks(x))),this.routerState=Ll(this.currentUrlTree,this.rootComponentType),this.transitions=new Yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Ln(r=>0!==r.id),(0,st.U)(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),In(r=>{let s=!1,c=!1;return Ze(r).pipe((0,vi.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),In(d=>{const p=this.browserUrlTree.toString(),y=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Rf(d.source)&&(this.browserUrlTree=d.extractedUrl),Ze(d).pipe(In(D=>{const x=this.transitions.getValue();return i.next(new Ho(D.id,this.serializeUrl(D.extractedUrl),D.source,D.restoredState)),x!==this.transitions.getValue()?Ra.E:Promise.resolve(D)}),function um(n,e,t,i){return In(r=>function Gl(n,e,t,i,r){return new $d(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,st.U)(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vi.b)(D=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:D.urlAfterRedirects})}),function _(n,e,t,i,r){return(0,Bn.z)(s=>function Fu(n,e,t,i,r="emptyOnly",s="legacy"){try{const c=new _m(n,e,t,i,r,s).recognize();return null===c?vo(new mm):Ze(c)}catch(c){return vo(c)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe((0,st.U)(c=>Object.assign(Object.assign({},s),{targetSnapshot:c}))))}(this.rootComponentType,this.config,D=>this.serializeUrl(D),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vi.b)(D=>{if("eager"===this.urlUpdateStrategy){if(!D.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);this.setBrowserUrl(O,D)}this.browserUrlTree=D.urlAfterRedirects}const x=new jo(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);i.next(x)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:O,source:L,restoredState:Z,extras:ae}=d,Le=new Ho(x,this.serializeUrl(O),L,Z);i.next(Le);const We=Ll(O,this.rootComponentType).snapshot;return Ze(Object.assign(Object.assign({},d),{targetSnapshot:We,urlAfterRedirects:O,extras:Object.assign(Object.assign({},ae),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=d.rawUrl,d.resolve(null),Ra.E}),Be(d=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:x,replaceUrl:O}}=d;return this.hooks.beforePreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!x,replaceUrl:!!O})}),(0,vi.b)(d=>{const p=new $g(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,st.U)(d=>Object.assign(Object.assign({},d),{guards:dm(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function pm(n,e){return(0,Bn.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=t;return 0===c.length&&0===s.length?Ze(Object.assign(Object.assign({},t),{guardsResult:!0})):function uv(n,e,t,i){return(0,bn.D)(n).pipe((0,Bn.z)(r=>function If(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Ze(s.map(d=>{const p=Pc(d,e,r);let y;if(function hC(n){return n&&Ul(n.canDeactivate)}(p))y=Mi(p.canDeactivate(n,e,t,i));else{if(!Ul(p))throw new Error("Invalid CanDeactivate guard");y=Mi(p(n,e,t,i))}return y.pipe(ka())})).pipe(xc()):Ze(!0)}(r.component,r.route,t,e,i)),ka(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Bn.z)(d=>d&&function om(n){return"boolean"==typeof n}(d)?function qd(n,e,t,i){return(0,bn.D)(e).pipe(Rl(r=>Vo(function gm(n,e){return null!==n&&e&&e(new Go(n)),Ze(!0)}(r.route.parent,i),function dv(n,e){return null!==n&&e&&e(new Cc(n)),Ze(!0)}(r.route,i),function Sf(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(c=>function hm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>go(()=>Ze(c.guards.map(p=>{const y=Pc(p,c.node,t);let C;if(function vf(n){return n&&Ul(n.canActivateChild)}(y))C=Mi(y.canActivateChild(i,n));else{if(!Ul(y))throw new Error("Invalid CanActivateChild guard");C=Mi(y(i,n))}return C.pipe(ka())})).pipe(xc())));return Ze(s).pipe(xc())}(n,r.path,t),function xr(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Ze(!0);const r=i.map(s=>go(()=>{const c=Pc(s,e,t);let d;if(function Ou(n){return n&&Ul(n.canActivate)}(c))d=Mi(c.canActivate(e,n));else{if(!Ul(c))throw new Error("Invalid CanActivate guard");d=Mi(c(e,n))}return d.pipe(ka())}));return Ze(r).pipe(xc())}(n,r.route,t))),ka(r=>!0!==r,!0))}(i,s,n,e):Ze(d)),(0,st.U)(d=>Object.assign(Object.assign({},t),{guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,vi.b)(d=>{if(Mc(d.guardsResult)){const y=Os(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw y.url=d.guardsResult,y}const p=new Ol(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),Ln(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),Be(d=>{if(d.guards.canActivateChecks.length)return Ze(d).pipe((0,vi.b)(p=>{const y=new er(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}),In(p=>{let y=!1;return Ze(p).pipe(function w(n,e){return(0,Bn.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Ze(t);let s=0;return(0,bn.D)(r).pipe(Rl(c=>function A(n,e,t,i){return function P(n,e,t,i){const r=K(n);if(0===r.length)return Ze({});const s={};return(0,bn.D)(r).pipe((0,Bn.z)(c=>function me(n,e,t,i){const r=Pc(n,e,i);return Mi(r.resolve?r.resolve(e,t):r(e,t))}(n[c],e,t,i).pipe((0,vi.b)(d=>{s[c]=d}))),kl(1),(0,Bn.z)(()=>K(s).length===r.length?Ze(s):Ra.E))}(n._resolve,n,e,i).pipe((0,st.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),Qy(n,t).resolve),null)))}(c.route,i,n,e)),(0,vi.b)(()=>s++),kl(1),(0,Bn.z)(c=>s===r.length?Ze(t):Ra.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vi.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(p),this.cancelNavigationTransition(p,"At least one route resolver didn't emit any value."))}}))}),(0,vi.b)(p=>{const y=new tr(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(y)}))}),Be(d=>{const{targetSnapshot:p,id:y,extractedUrl:C,rawUrl:D,extras:{skipLocationChange:x,replaceUrl:O}}=d;return this.hooks.afterPreactivation(p,{navigationId:y,appliedUrlTree:C,rawUrlTree:D,skipLocationChange:!!x,replaceUrl:!!O})}),(0,st.U)(d=>{const p=function Jg(n,e,t){const i=xu(n,e._root,t?t._root:void 0);return new Ld(i,e)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return Object.assign(Object.assign({},d),{targetRouterState:p})}),(0,vi.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,e,t)=>(0,st.U)(i=>(new sm(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,vi.b)({next(){s=!0},complete(){s=!0}}),Tu(()=>{var d;s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(d=this.currentNavigation)||void 0===d?void 0:d.id)===r.id&&(this.currentNavigation=null)}),Xi(d=>{if(c=!0,function qg(n){return n&&n[zo]}(d)){const p=Mc(d.url);p||(this.navigated=!0,this.restoreHistory(r,!0));const y=new Vn(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(y),p?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rf(r.source)};this.scheduleNavigation(C,"imperative",null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new wc(r.id,this.serializeUrl(r.extractedUrl),d);i.next(p);try{r.resolve(this.errorHandler(d))}catch(y){r.reject(y)}}return Ra.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},c=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(c){const p=Object.assign({},c);delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(s.state=p)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,i,c,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Hl(t),this.config=t.map(Cf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,y=r||this.routerState.root,C=p?this.currentUrlTree.fragment:c;let D=null;switch(d){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=s||null}return null!==D&&(D=this.removeEmptyProps(D)),function Ko(n,e,t,i,r){if(0===t.length)return Ru(e.root,e.root,e.root,i,r);const s=function ev(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new mf(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return ei(s.outlets,(p,y)=>{d[y]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?t=!0:".."===d?e++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new mf(t,e,i)}(t);if(s.toRoot())return Ru(e.root,e.root,new qe([],{}),i,r);const c=function em(n,e,t){if(n.isAbsolute)return new ku(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new ku(s,s===e.root,0)}const i=Ns(n.commands[0])?0:1;return function tm(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new ku(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),d=c.processChildren?Ud(c.segmentGroup,c.index,s.commands):im(c.segmentGroup,c.index,s.commands);return Ru(e.root,c.segmentGroup,d,i,r)}(y,this.currentUrlTree,t,D,null!=C?C:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Mc(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function xf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},Mf):!1===i?Object.assign({},Yd):i,Mc(t))return U(this.currentUrlTree,t,r);const s=this.parseUrl(t);return U(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,c){var d,p;if(this.disposed)return Promise.resolve(!1);let y,C,D;c?(y=c.resolve,C=c.reject,D=c.promise):D=new Promise((L,Z)=>{y=L,C=Z});const x=++this.navigationId;let O;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),O=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(d=this.browserPageId)&&void 0!==d?d:0:(null!==(p=this.browserPageId)&&void 0!==p?p:0)+1):O=0,this.setTransition({id:x,targetPageId:O,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:y,reject:C,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(L=>Promise.reject(L))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===c?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new Vn(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Rf(n){return"imperative"!==n}let Kd=(()=>{class n{constructor(t,i,r,s,c){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new pt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==t?i.setAttribute(r,"tabindex",t):i.removeAttribute(r,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Nc(this.skipLocationChange),replaceUrl:Nc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(li),l.Y36(Bl),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})(),Ha=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new pt.x,this.subscription=t.events.subscribe(s=>{s instanceof bc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,c){if(0!==t||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:Nc(this.skipLocationChange),replaceUrl:Nc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(li),l.Y36(Bl),l.Y36(pe))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&l.uIk("target",i.target)("href",i.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Nc(n){return""===n||!!n}class gv{}class gC{preload(e,t){return Ze(null)}}let mC=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new Rr(r,i,p=>t.triggerEvent(new _o(p)),p=>t.triggerEvent(new ks(p)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ln(t=>t instanceof bc),Rl(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(l.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return(0,bn.D)(r).pipe((0,xa.J)(),(0,st.U)(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Ze(i._loadedConfig):this.loader.load(t.injector,i)).pipe((0,Bn.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(li),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(gv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),bm=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ho?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nd&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Nd(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Vs=new l.OlP("ROUTER_CONFIGURATION"),_v=new l.OlP("ROUTER_FORROOT_GUARD"),_C=[we,{provide:ms,useClass:_s},{provide:li,useFactory:function vv(n,e,t,i,r,s,c={},d,p){const y=new li(null,n,e,t,i,r,cf(s));return d&&(y.urlHandlingStrategy=d),p&&(y.routeReuseStrategy=p),function bC(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,y),c.enableTracing&&y.events.subscribe(C=>{var D,x;null===(D=console.group)||void 0===D||D.call(console,`Router Event: ${C.constructor.name}`),console.log(C.toString()),console.log(C),null===(x=console.groupEnd)||void 0===x||x.call(console)}),y},deps:[ms,Rc,we,l.zs3,l.Sil,jn,Vs,[class Lu{},new l.FiY],[class Xe{},new l.FiY]]},Rc,{provide:Bl,useFactory:function wm(n){return n.routerState.root},deps:[li]},mC,gC,class mv{preload(e,t){return t().pipe(Xi(()=>Ze(null)))}},{provide:Vs,useValue:{enableTracing:!1}}];function OA(){return new l.PXZ("Router",li)}let kf=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[_C,yv(t),{provide:_v,useFactory:vC,deps:[[li,new l.FiY,new l.tp0]]},{provide:Vs,useValue:i||{}},{provide:pe,useFactory:yC,deps:[oe,[new l.tBr(Ke),new l.FiY],Vs]},{provide:bm,useFactory:PA,deps:[li,cu,Vs]},{provide:gv,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:gC},{provide:l.PXZ,multi:!0,useFactory:OA},[Qd,{provide:l.ip1,multi:!0,useFactory:wC,deps:[Qd]},{provide:wv,useFactory:bv,deps:[Qd]},{provide:l.tb,multi:!0,useExisting:wv}]]}}static forChild(t){return{ngModule:n,providers:[yv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_v,8),l.LFG(li,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function PA(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new bm(n,e,t)}function yC(n,e,t={}){return t.useHash?new Ae(n,e):new tt(n,e)}function vC(n){return"guarded"}function yv(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:jn,multi:!0,useValue:n}]}let Qd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new pt.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(li),c=this.injector.get(Vs);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?Ze(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(Vs),r=this.injector.get(mC),s=this.injector.get(bm),c=this.injector.get(li),d=this.injector.get(l.z2F);t===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function wC(n){return n.appInitializer.bind(n)}function bv(n){return n.bootstrapListener.bind(n)}const wv=new l.OlP("Router Initializer");function dn(n){return null!=n&&"false"!=`${n}`}function ja(n,e=0){return CC(n)?Number(n):e}function CC(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Em(n){return Array.isArray(n)?n:[n]}function bi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Jo(n){return n instanceof l.SBq?n.nativeElement:n}var hF=F(1144);const EC=["addListener","removeListener"],FA=["addEventListener","removeEventListener"],DC=["on","off"];function Dm(n,e,t,i){if((0,gr.m)(t)&&(i=t,t=void 0),i)return Dm(n,e,t).pipe(Eu(i));const[r,s]=function SC(n){return(0,gr.m)(n.addEventListener)&&(0,gr.m)(n.removeEventListener)}(n)?FA.map(c=>d=>n[c](e,d,t)):function Xo(n){return(0,gr.m)(n.addListener)&&(0,gr.m)(n.removeListener)}(n)?EC.map(TC(n,e)):function LA(n){return(0,gr.m)(n.on)&&(0,gr.m)(n.off)}(n)?DC.map(TC(n,e)):[];if(!r&&(0,hF.z)(n))return(0,Bn.z)(c=>Dm(c,e,t))((0,gs.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new en.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function TC(n,e){return t=>i=>n[t](e,i)}var IC=F(4408);const Of={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Of;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(s=>{t=void 0,n(s)});return new _i.w0(()=>null==t?void 0:t(r))},requestAnimationFrame(...n){const{delegate:e}=Of;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Of;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var AC=F(7565);new class MC extends AC.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class BA extends IC.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Of.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Of.cancelAnimationFrame(t),e._scheduled=void 0)}});let kt,UA=1;const Pf={};function Ev(n){return n in Pf&&(delete Pf[n],!0)}const xC={setImmediate(n){const e=UA++;return Pf[e]=!0,kt||(kt=Promise.resolve()),kt.then(()=>Ev(e)&&n()),e},clearImmediate(n){Ev(n)}},{setImmediate:ea,clearImmediate:RC}=xC,Tm={setImmediate(...n){const{delegate:e}=Tm;return((null==e?void 0:e.setImmediate)||ea)(...n)},clearImmediate(n){const{delegate:e}=Tm;return((null==e?void 0:e.clearImmediate)||RC)(n)},delegate:void 0};new class ql extends AC.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class Tv extends IC.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Tm.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(Tm.clearImmediate(t),e._scheduled=void 0)}});var Bu=F(4986),kC=F(3532);function Nf(n,e=Bu.z){return function pF(n){return(0,Nn.e)((e,t)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const y=r;r=null,t.next(y)}c&&t.complete()},p=()=>{s=null,c&&t.complete()};e.subscribe((0,un.x)(t,y=>{i=!0,r=y,s||(0,gs.Xf)(n(y)).subscribe(s=(0,un.x)(t,d,p))},()=>{c=!0,(!i||!s||s.closed)&&t.complete()}))})}(()=>function Sm(n=0,e,t=Bu.P){let i=-1;return null!=e&&((0,kC.K)(e)?t=e:i=e),new en.y(r=>{let s=function gF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let c=0;return t.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(n,e))}let Ff;try{Ff="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Ff=!1}let Lf,Ri=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Gi(n){return n===ko}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ff)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const PC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function NC(){if(Lf)return Lf;if("object"!=typeof document||!document)return Lf=new Set(PC),Lf;let n=document.createElement("input");return Lf=new Set(PC.filter(e=>(n.setAttribute("type",e),n.type===e))),Lf}let Bf,Vu,Im;function Jd(n){return function jA(){if(null==Bf&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Bf=!0}))}finally{Bf=Bf||!1}return Bf}()?n:!!n.capture}function mF(){if(null==Vu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Vu=!1,Vu;if("scrollBehavior"in document.documentElement.style)Vu=!0;else{const n=Element.prototype.scrollTo;Vu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Vu}function FC(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function Xd(n){return n.composedPath?n.composedPath()[0]:n.target}function LC(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const _F=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function yF(){return(0,l.f3M)(ne)}}),vF=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Uu=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function bF(n){const e=(null==n?void 0:n.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?vF.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_F,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Am=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),UC=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new pt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new en.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Nf(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ze()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ln(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,t)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Jo(i),s=t.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Dm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Ri),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mm=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new pt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,s=r.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Nf(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ri),l.LFG(l.R0b),l.LFG(ne,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Lc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Am,Fc],Am,Fc]}),n})();class Rm{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Bc extends Rm{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class eh extends Rm{constructor(e,t,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class zC extends Rm{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class Gu{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Bc?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof eh?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof zC?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class $C extends Gu{constructor(e,t,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let km=(()=>{class n extends Gu{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,s=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),c=i.createComponent(s,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=t,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(ne))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),xv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var ci=F(6451),qC=F(5032);function An(n){return(0,Nn.e)((e,t)=>{(0,gs.Xf)(n).subscribe((0,un.x)(t,()=>t.complete(),qC.Z)),!t.closed&&e.subscribe(t)})}function Wl(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}const ta=mF();class zf{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=bi(-this._previousScrollPosition.left),e.style.top=bi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),ta&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ta&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class zu{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $f{enable(){}disable(){}attach(){}}function ys(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function Lm(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class nh{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();ys(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ih=(()=>{class n{constructor(t,i,r,s){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new $f,this.close=c=>new zu(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new zf(this._viewportRuler,this._document),this.reposition=c=>new nh(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UC),l.LFG(Mm),l.LFG(l.R0b),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Zl{constructor(e){if(this.scrollStrategy=new $f,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class rh{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}class sh{constructor(e,t,i,r,s,c,d,p,y){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=y,this._backdropElement=null,this._backdropClick=new pt.x,this._attachments=new pt.x,this._detachments=new pt.x,this._locationChanges=_i.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new pt.x,this._outsidePointerEvents=new pt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Fn.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var e;const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(e=this._host)||void 0===e||e.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=bi(this._config.width),e.height=bi(this._config.height),e.minWidth=bi(this._config.minWidth),e.minHeight=bi(this._config.minHeight),e.maxWidth=bi(this._config.maxWidth),e.maxHeight=bi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;!e||(e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500)))}_toggleClasses(e,t,i){const r=Em(t||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(An((0,ci.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}let Bm=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){var t;null===(t=this._containerElement)||void 0===t||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||LC()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(t),LC()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(Ri))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lv="cdk-overlay-connected-position-bounding-box",uE=/([A-Za-z%]+)$/;class dE{constructor(e,t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new pt.x,this._resizeSubscription=_i.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(Lv),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(e,r,d),y=this._getOverlayPoint(p,t,d),C=this._getOverlayFit(y,t,i,d);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(C,y,i)?s.push({position:d,origin:p,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<C.visibleArea)&&(c={overlayFit:C,overlayPoint:y,originPoint:p,position:d,overlayRect:t})}if(s.length){let d=null,p=-1;for(const y of s){const C=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);C>p&&(p=C,d=y)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Uc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Lv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;r="start"==i.originX?c:d}return t.left<0&&(r-=t.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(s-=t.top),{x:r,y:s}}_getOverlayPoint(e,t,i){let r,s;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,s="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,t,i,r){const s=Vv(t);let{x:c,y:d}=e,p=this._getOffset(r,"x"),y=this._getOffset(r,"y");p&&(c+=p),y&&(d+=y);let x=0-d,O=d+s.height-i.height,L=this._subtractOverflows(s.width,0-c,c+s.width-i.width),Z=this._subtractOverflows(s.height,x,O),ae=L*Z;return{visibleArea:ae,isCompletelyWithinViewport:s.width*s.height===ae,fitsInViewportVertically:Z===s.height,fitsInViewportHorizontally:L==s.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,s=i.right-t.x,c=Bv(this._overlayRef.getConfig().minHeight),d=Bv(this._overlayRef.getConfig().minWidth),y=e.fitsInViewportHorizontally||null!=d&&d<=s;return(e.fitsInViewportVertically||null!=c&&c<=r)&&y}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Vv(t),s=this._viewportRect,c=Math.max(e.x+r.width-s.width,0),d=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),y=Math.max(s.left-i.left-e.x,0);let C=0,D=0;return C=r.width<=s.width?y||-c:e.x<this._viewportMargin?s.left-i.left-e.x:0,D=r.height<=s.height?p||-d:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:C,y:D},{x:e.x+C,y:e.y+D}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new rh(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<t.length;s++)t[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let s,c,d,C,D,x;if("top"===t.overlayY)c=e.y,s=i.height-c+this._viewportMargin;else if("bottom"===t.overlayY)d=i.height-e.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const O=Math.min(i.bottom-e.y+i.top,e.y),L=this._lastBoundingBoxSize.height;s=2*O,c=e.y-O,s>L&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-L/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)x=i.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)D=e.x,C=i.right-e.x;else{const O=Math.min(i.right-e.x+i.left,e.x),L=this._lastBoundingBoxSize.width;C=2*O,D=e.x-O,C>L&&!this._isInitialRender&&!this._growAfterOpen&&(D=e.x-L/2)}return{top:c,left:D,bottom:d,right:x,width:C,height:s}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=bi(i.height),r.top=bi(i.top),r.bottom=bi(i.bottom),r.width=bi(i.width),r.left=bi(i.left),r.right=bi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=bi(s)),c&&(r.maxWidth=bi(c))}this._lastBoundingBoxSize=i,Uc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Uc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Uc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const C=this._viewportRuler.getViewportScrollPosition();Uc(i,this._getExactOverlayY(t,e,C)),Uc(i,this._getExactOverlayX(t,e,C))}else i.position="static";let d="",p=this._getOffset(t,"x"),y=this._getOffset(t,"y");p&&(d+=`translateX(${p}px) `),y&&(d+=`translateY(${y}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=bi(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=bi(c.maxWidth):s&&(i.maxWidth="")),Uc(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=bi(s.y),r}_getExactOverlayX(e,t,i){let c,r={left:"",right:""},s=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=bi(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Lm(e,i),isOriginOutsideView:ys(e,i),isOverlayClipped:Lm(t,i),isOverlayOutsideView:ys(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Em(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Uc(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Bv(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(uE);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Vv(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Uv="cdk-global-overlay-wrapper";class hE{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Uv),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),y=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);e.position=this._cssPosition,e.marginLeft=p?"0":this._leftOffset,e.marginTop=y?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,p?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=y?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Uv),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let MM=(()=>{class n{constructor(t,i,r,s){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new hE}flexibleConnectedTo(t){return new dE(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Mm),l.LFG(ne),l.LFG(Ri),l.LFG(Bm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hv=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xM=(()=>{class n extends Hv{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fE=(()=>{class n extends Hv{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Xd(s)},this._clickListener=s=>{const c=Xd(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let y=p.length-1;y>-1;y--){const C=p[y];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(c)||C.overlayElement.contains(d))break;const D=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(s)):D.next(s)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(Ri),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pE=0,$a=(()=>{class n{constructor(t,i,r,s,c,d,p,y,C,D,x){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=y,this._directionality=C,this._location=D,this._outsideClickDispatcher=x}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new Zl(t);return c.direction=c.direction||this._directionality.value,new sh(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+pE++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new $C(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ih),l.LFG(Bm),l.LFG(l._Vd),l.LFG(MM),l.LFG(xM),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(ne),l.LFG(Uu),l.LFG(we),l.LFG(fE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const RM=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],jv=new l.OlP("cdk-connected-overlay-scroll-strategy");let gE=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Gv=(()=>{class n{constructor(t,i,r,s,c){this._overlay=t,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=_i.w0.EMPTY,this._attachSubscription=_i.w0.EMPTY,this._detachSubscription=_i.w0.EMPTY,this._positionSubscription=_i.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new l.vpe,this.positionChange=new l.vpe,this.attach=new l.vpe,this.detach=new l.vpe,this.overlayKeydown=new l.vpe,this.overlayOutsideClick=new l.vpe,this._templatePortal=new eh(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=dn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=dn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=dn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=dn(t)}get push(){return this._push}set push(t){this._push=dn(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=RM);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Wl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Zl({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(t){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof gE?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function AF(n,e=!1){return(0,Nn.e)((t,i)=>{let r=0;t.subscribe((0,un.x)(i,s=>{const c=n(s,r++);(c||e)&&i.next(s),!c&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($a),l.Y36(l.Rgc),l.Y36(l.s_b),l.Y36(jv),l.Y36(Uu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[l.TTD]}),n})();const OM={provide:jv,deps:[$a],useFactory:function kM(n){return()=>n.scrollStrategies.reposition()}};let zv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$a,OM],imports:[[Am,xv,Lc],Lc]}),n})();function oh(n,e=Bu.z){return(0,Nn.e)((t,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,i.next(y)}};function p(){const y=c+n,C=e.now();if(C<y)return r=this.schedule(void 0,y-C),void i.add(r);d()}t.subscribe((0,un.x)(i,y=>{s=y,c=e.now(),r||(r=e.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function mE(n){return Ln((e,t)=>n<=t)}function Um(n,e=Ir.y){return n=null!=n?n:vL,(0,Nn.e)((t,i)=>{let r,s=!0;t.subscribe((0,un.x)(i,c=>{const d=e(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function vL(n,e){return n===e}let PM=(()=>{class n{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NM=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=Jo(t);return new en.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new pt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(PM))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$v=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=dn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=ja(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(oh(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(NM),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),_E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[PM]}),n})();function Kf(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const qv="cdk-describedby-message",$u="cdk-describedby-host";let vE=0,bE=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+vE++,this._document=t}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const s=Wv(i,r);"string"!=typeof i?(wE(i),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,s)||this._addMessageReference(t,s)}removeDescription(t,i,r){var s;if(!i||!this._isElementNode(t))return;const c=Wv(i,r);if(this._isElementDescribedByMessage(t,c)&&this._removeMessageReference(t,c),"string"==typeof i){const d=this._messageRegistry.get(c);d&&0===d.referenceCount&&this._deleteMessageElement(c)}0===(null===(s=this._messagesContainer)||void 0===s?void 0:s.childNodes.length)&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){var t;const i=this._document.querySelectorAll(`[${$u}="${this._id}"]`);for(let r=0;r<i.length;r++)this._removeCdkDescribedByReferenceIds(i[r]),i[r].removeAttribute($u);null===(t=this._messagesContainer)||void 0===t||t.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");wE(r),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Wv(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){var i,r;null===(r=null===(i=this._messageRegistry.get(t))||void 0===i?void 0:i.messageElement)||void 0===r||r.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=Kf(t,"aria-describedby").filter(r=>0!=r.indexOf(qv));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function ah(n,e,t){const i=Kf(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute($u,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function FM(n,e,t){const r=Kf(n,e).filter(s=>s!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute($u)}_isElementDescribedByMessage(t,i){const r=Kf(t,"aria-describedby"),s=this._messageRegistry.get(i),c=s&&s.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=t.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(Ri))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Wv(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function wE(n){n.id||(n.id=`${qv}-${vE++}`)}class BM extends class LM{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new pt.x,this._typeaheadSubscription=_i.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new pt.x,this.change=new pt.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,vi.b)(t=>this._pressedLetters.push(t)),oh(e),Ln(()=>this._pressedLetters.length>0),(0,st.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!e[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Wl(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e),r=t[i];this._activeItem=null==r?null:r,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}let CE=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function DE(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function EE(n){try{return n.frameElement}catch(e){return null}}(function HM(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===Kv(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),s=Kv(t);return t.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Qv(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function Jv(n){return!function CL(n){return function UM(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Zv(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function Yv(n){return function EL(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||lh(n))}(t)&&!this.isDisabled(t)&&((null==i?void 0:i.ignoreVisibility)||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ri))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lh(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Kv(n){if(!lh(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Hm{constructor(e,t,i,r,s=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return null==i||i.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Fn.q)(1)).subscribe(e)}}let jm=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new Hm(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(CE),l.LFG(l.R0b),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Gm(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const IE=new l.OlP("cdk-input-modality-detector-options"),AE={ignoreKeys:[18,17,224,91,16]},Hc=Jd({passive:!0,capture:!0});let jM=(()=>{class n{constructor(t,i,r,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Yn(null),this._lastTouchMs=0,this._onKeydown=c=>{var d,p;(null===(p=null===(d=this._options)||void 0===d?void 0:d.ignoreKeys)||void 0===p?void 0:p.some(y=>y===c.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Xd(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(tb(c)?"keyboard":"mouse"),this._mostRecentTarget=Xd(c))},this._onTouchstart=c=>{Gm(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Xd(c))},this._options=Object.assign(Object.assign({},AE),s),this.modalityDetected=this._modality.pipe(mE(1)),this.modalityChanged=this.modalityDetected.pipe(Um()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Hc),r.addEventListener("mousedown",this._onMousedown,Hc),r.addEventListener("touchstart",this._onTouchstart,Hc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hc),document.removeEventListener("mousedown",this._onMousedown,Hc),document.removeEventListener("touchstart",this._onTouchstart,Hc))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ri),l.LFG(l.R0b),l.LFG(ne),l.LFG(IE,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ME=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function xE(){return null}}),nb=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let $m=(()=>{class n{constructor(t,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t,i;clearTimeout(this._previousTimeout),null===(t=this._liveElement)||void 0===t||t.remove(),this._liveElement=null,null===(i=this._currentResolve)||void 0===i||i.call(this),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ME,8),l.LFG(l.R0b),l.LFG(ne),l.LFG(nb,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RE=new l.OlP("cdk-focus-monitor-default-options"),Qf=Jd({passive:!0,capture:!0});let ch=(()=>{class n{constructor(t,i,r,s,c){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pt.x,this._rootNodeFocusAndBlurListener=d=>{const p=Xd(d),y="focus"===d.type?this._onFocus:this._onBlur;for(let C=p;C;C=C.parentElement)y.call(this,d,C)},this._document=s,this._detectionMode=(null==c?void 0:c.detectionMode)||0}monitor(t,i=!1){const r=Jo(t);if(!this._platform.isBrowser||1!==r.nodeType)return Ze(null);const s=function Av(n){if(function zA(){if(null==Im){const n="undefined"!=typeof document?document.head:null;Im=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Im}()){const e=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new pt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(t){const i=Jo(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const s=Jo(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),s=Xd(t);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(t,i){this._ngZone.run(()=>t.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qf),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qf)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(An(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qf),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qf),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,s)=>{(s===t||r.checkChildren&&s.contains(t))&&i.push([s,r])}),i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(Ri),l.LFG(jM),l.LFG(ne,8),l.LFG(RE,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rb="cdk-high-contrast-black-on-white",sb="cdk-high-contrast-white-on-black",qm="cdk-high-contrast-active";let ob=(()=>{class n{constructor(t,i){this._platform=t,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(qm),t.remove(rb),t.remove(sb),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(t.add(qm),t.add(rb)):2===i&&(t.add(qm),t.add(sb))}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ri),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kE=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ob))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[_E]]}),n})();class ab{}const qa="*";function na(n,e){return{type:7,name:n,definitions:e,options:{}}}function ir(n,e=null){return{type:4,styles:e,timings:n}}function PE(n,e=null){return{type:3,steps:n,options:e}}function lb(n,e=null){return{type:2,steps:n,options:e}}function Vt(n){return{type:6,styles:n,offset:null}}function Gt(n,e,t){return{type:0,name:n,styles:e,options:t}}function ki(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Jf(n=null){return{type:9,options:n}}function Xf(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function qu(n){Promise.resolve(null).then(n)}class ep{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qu(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class NE{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?qu(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const tn=!1;function zM(n){return new l.vHH(3e3,tn)}function KE(){return"undefined"!=typeof window&&void 0!==window.document}function fb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function jc(n){switch(n.length){case 0:return new ep;case 1:return n[0];default:return new NE(n)}}function QE(n,e,t,i,r={},s={}){const c=[],d=[];let p=-1,y=null;if(i.forEach(C=>{const D=C.offset,x=D==p,O=x&&y||{};Object.keys(C).forEach(L=>{let Z=L,ae=C[L];if("offset"!==L)switch(Z=e.normalizePropertyName(Z,c),ae){case"!":ae=r[L];break;case qa:ae=s[L];break;default:ae=e.normalizeStyleValue(L,Z,ae,c)}O[Z]=ae}),x||d.push(O),y=O,p=D}),c.length)throw function HE(n){return new l.vHH(3502,tn)}();return d}function pb(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&gb(t,"start",n)));break;case"done":n.onDone(()=>i(t&&gb(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&gb(t,"destroy",n)))}}function gb(n,e,t){const i=t.totalTime,s=mb(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),c=n._data;return null!=c&&(s._data=c),s}function mb(n,e,t,i,r="",s=0,c){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Us(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function JE(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let _b=(n,e)=>!1,XE=(n,e,t)=>[],eD=null;function yb(n){const e=n.parentNode||n.host;return e===eD?null:e}(fb()||"undefined"!=typeof Element)&&(KE()?(eD=(()=>document.documentElement)(),_b=(n,e)=>{for(;e;){if(e===n)return!0;e=yb(e)}return!1}):_b=(n,e)=>n.contains(e),XE=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Wu=null,tD=!1;function nD(n){Wu||(Wu=function iD(){return"undefined"!=typeof document?document.body:null}()||{},tD=!!Wu.style&&"WebkitAppearance"in Wu.style);let e=!0;return Wu.style&&!function ex(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Wu.style,!e&&tD&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Wu.style)),e}const vb=_b,bb=XE;let wb=(()=>{class n{validateStyleProperty(t){return nD(t)}matchesElement(t,i){return!1}containsElement(t,i){return vb(t,i)}getParentElement(t){return yb(t)}query(t,i,r){return bb(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,c,d=[],p){return new ep(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Km=(()=>{class n{}return n.NOOP=new wb,n})();const ip="ng-enter",dh="ng-leave",Ya="ng-trigger",Qm=".ng-trigger",oD="ng-animating",Gc=".ng-animating";function hh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:rp(parseFloat(e[1]),e[2])}function rp(n,e){return"s"===e?1e3*n:n}function Eb(n,e,t){return n.hasOwnProperty("duration")?n:function aD(n,e,t){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return e.push(zM()),{duration:0,delay:0,easing:""};r=rp(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=rp(parseFloat(p),d[4]));const y=d[5];y&&(c=y)}else r=n;if(!t){let d=!1,p=e.length;r<0&&(e.push(function cb(){return new l.vHH(3100,tn)}()),d=!0),s<0&&(e.push(function ub(){return new l.vHH(3101,tn)}()),d=!0),d&&e.splice(p,0,zM())}return{duration:r,delay:s,easing:c}}(n,e,t)}function Zu(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function gt(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else Zu(n,t);return t}function lD(n,e,t){return t?e+":"+t+";":""}function cD(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=lD(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=lD(0,uD(t),n.style[t]));n.setAttribute("style",e)}function Ka(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=Tb(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),fb()&&cD(n))}function Qa(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=Tb(t);n.style[i]=""}),fb()&&cD(n))}function sp(n){return Array.isArray(n)?1==n.length?n[0]:lb(n):n}const fh=new RegExp("{{\\s*(.+?)\\s*}}","g");function ti(n){let e=[];if("string"==typeof n){let t;for(;t=fh.exec(n);)e.push(t[1]);fh.lastIndex=0}return e}function Db(n,e,t){const i=n.toString(),r=i.replace(fh,(s,c)=>{let d=e[c];return e.hasOwnProperty(c)||(t.push(function $M(n){return new l.vHH(3003,tn)}()),d=""),d.toString()});return r==i?n:r}function op(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const ix=/-+([a-z0-9])/g;function Tb(n){return n.replace(ix,(...e)=>e[1].toUpperCase())}function uD(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function qM(n){return new l.vHH(3004,tn)}()}}function fD(n,e){return window.getComputedStyle(n)[e]}function pD(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function gD(n,e,t){if(":"==n[0]){const p=function ox(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function VE(n){return new l.vHH(3016,tn)}()),"* => *"}}(n,t);if("function"==typeof p)return void e.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function QM(n){return new l.vHH(3015,tn)}()),e;const r=i[1],s=i[2],c=i[3];e.push(mD(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&e.push(mD(c,r))}(i,t,e)):t.push(n),t}const zc=new Set(["true","1"]),$c=new Set(["false","0"]);function mD(n,e){const t=zc.has(n)||$c.has(n),i=zc.has(e)||$c.has(e);return(r,s)=>{let c="*"==n||n==r,d="*"==e||e==s;return!c&&t&&"boolean"==typeof r&&(c=r?zc.has(n):$c.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?zc.has(e):$c.has(e)),c&&d}}const ax=new RegExp("s*:selfs*,?","g");function t_(n,e,t,i){return new yD(n).build(e,t,i)}class yD{constructor(e){this._driver=e}build(e,t,i){const r=new cx(t);this._resetContextStyleTimingState(r);const s=vs(this,sp(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function ia(){return new l.vHH(3006,tn)}()),e.definitions.forEach(d=>{if(this._resetContextStyleTimingState(t),0==d.type){const p=d,y=p.name;y.toString().split(/\s*,\s*/).forEach(C=>{p.name=C,s.push(this.visitState(p,t))}),p.name=y}else if(1==d.type){const p=this.visitTransition(d,t);i+=p.queryCount,r+=p.depCount,c.push(p)}else t.errors.push(function ra(){return new l.vHH(3007,tn)}())}),{type:7,name:e.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{if(Ab(d)){const p=d;Object.keys(p).forEach(y=>{ti(p[y]).forEach(C=>{c.hasOwnProperty(C)||s.add(C)})})}}),s.size&&(op(s.values()),t.errors.push(function FE(n,e){return new l.vHH(3008,tn)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=vs(this,sp(e.animation),t);return{type:1,matchers:pD(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:ph(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>vs(this,i,t)),options:ph(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(c=>{t.currentTime=i;const d=vs(this,c,t);return r=Math.max(r,t.currentTime),d});return t.currentTime=r,{type:3,steps:s,options:ph(e.options)}}visitAnimate(e,t){const i=function RL(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return bD(Eb(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=bD(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||Eb(i,e),bD(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Vt({});if(5==s.type)r=this.visitKeyframes(s,t);else{let c=e.styles,d=!1;if(!c){d=!0;const y={};i.easing&&(y.easing=i.easing),c=Vt(y)}t.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,t);p.isEmptyStep=d,r=p}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==qa?i.push(c):t.errors.push(function LE(n){return new l.vHH(3002,tn)}()):i.push(c)}):i.push(e.styles);let r=!1,s=null;return i.forEach(c=>{if(Ab(c)){const d=c,p=d.easing;if(p&&(s=p,delete d.easing),!r)for(let y in d)if(d[y].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return delete c[d],void t.unsupportedCSSPropertiesFound.add(d);const p=t.collectedStyles[t.currentQuerySelector],y=p[d];let C=!0;y&&(s!=r&&s>=y.startTime&&r<=y.endTime&&(t.errors.push(function WM(n,e,t,i,r){return new l.vHH(3010,tn)}()),C=!1),s=y.startTime),C&&(p[d]={startTime:s,endTime:r}),t.options&&function Jm(n,e,t){const i=e.params||{},r=ti(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function Wa(n){return new l.vHH(3001,tn)}())})}(c[d],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ZM(){return new l.vHH(3011,tn)}()),i;let s=0;const c=[];let d=!1,p=!1,y=0;const C=e.steps.map(Le=>{const We=this._makeStyleAst(Le,t);let Ue=null!=We.offset?We.offset:function ux(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Ab(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Ab(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(We.styles),je=0;return null!=Ue&&(s++,je=We.offset=Ue),p=p||je<0||je>1,d=d||je<y,y=je,c.push(je),We});p&&t.errors.push(function YM(){return new l.vHH(3012,tn)}()),d&&t.errors.push(function db(){return new l.vHH(3200,tn)}());const D=e.steps.length;let x=0;s>0&&s<D?t.errors.push(function np(){return new l.vHH(3202,tn)}()):0==s&&(x=1/(D-1));const O=D-1,L=t.currentTime,Z=t.currentAnimateTimings,ae=Z.duration;return C.forEach((Le,We)=>{const Ue=x>0?We==O?1:x*We:c[We],je=Ue*ae;t.currentTime=L+Z.delay+je,Z.duration=je,this._validateStyleAst(Le,t),Le.offset=Ue,i.styles.push(Le)}),i}visitReference(e,t){return{type:8,animation:vs(this,sp(e.animation),t),options:ph(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ph(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ph(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,c]=function lx(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ax,"")),n=n.replace(/@\*/g,Qm).replace(/@\w+/g,t=>Qm+"-"+t.substr(1)).replace(/:animating/g,Gc),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Us(t.collectedStyles,t.currentQuerySelector,{});const d=vs(this,sp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:e.selector,options:ph(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function KM(){return new l.vHH(3013,tn)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Eb(e.timings,t.errors,!0);return{type:12,animation:vs(this,sp(e.animation),t),timings:i,options:null}}}class cx{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ab(n){return!Array.isArray(n)&&"object"==typeof n}function ph(n){return n?(n=Zu(n)).params&&(n.params=function vD(n){return n?Zu(n):null}(n.params)):n={},n}function bD(n,e,t){return{duration:n,delay:e,easing:t}}function n_(n,e,t,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class Yu{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const wD=new RegExp(":enter","g"),fx=new RegExp(":leave","g");function Mb(n,e,t,i,r,s={},c={},d,p,y=[]){return(new px).buildKeyframes(n,e,t,i,r,s,c,d,p,y)}class px{buildKeyframes(e,t,i,r,s,c,d,p,y,C=[]){y=y||new Yu;const D=new xb(e,t,y,r,s,C,[]);D.options=p,D.currentTimeline.setStyles([c],null,D.errors,p),vs(this,i,D);const x=D.timelines.filter(O=>O.containsAnimation());if(Object.keys(d).length){let O;for(let L=x.length-1;L>=0;L--){const Z=x[L];if(Z.element===t){O=Z;break}}O&&!O.allowOnlyTimelineStyles()&&O.setStyles([d],null,D.errors,p)}return x.length?x.map(O=>O.buildKeyframes()):[n_(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const c=null!=i.duration?hh(i.duration):null,d=null!=i.delay?hh(i.delay):null;return 0!==c&&e.forEach(p=>{const y=t.appendInstructionToTimeline(p,c,d);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),vs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=i_);const c=hh(s.delay);r.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>vs(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?hh(e.options.delay):0;e.steps.forEach(c=>{const d=t.createSubContext(e.options);s&&d.delayNextStep(s),vs(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Eb(t.params?Db(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,d=t.createSubContext().currentTimeline;d.easing=i.easing,e.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,t.errors,t.options),d.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(d),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?hh(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=i_);let c=i;const d=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=d.length;let p=null;d.forEach((y,C)=>{t.currentQueryIndex=C;const D=t.createSubContext(e.options,y);s&&D.delayNextStep(s),y===t.element&&(p=D.currentTimeline),vs(this,e.animation,D),D.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,D.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),p&&(t.currentTimeline.mergeTimelineCollectedStyles(p),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,c=Math.abs(s.duration),d=c*(t.currentQueryTotal-1);let p=c*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const C=t.currentTimeline;p&&C.delayNextStep(p);const D=C.currentTime;vs(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const i_={};class xb{constructor(e,t,i,r,s,c,d,p){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=i_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new up(this._driver,t,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=hh(i.duration)),null!=i.delay&&(r.delay=hh(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!t||!c.hasOwnProperty(d))&&(c[d]=Db(s[d],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new xb(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=i_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new gx(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,c){let d=[];if(r&&d.push(this.element),e.length>0){e=(e=e.replace(wD,"."+this._enterClassName)).replace(fx,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=i);0!==i&&(y=i<0?y.slice(y.length+i,y.length):y.slice(0,i)),d.push(...y)}return!s&&0==d.length&&c.push(function BE(n){return new l.vHH(3014,tn)}()),d}}class up{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new up(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||qa,this._currentKeyframe[t]=qa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},c=function gh(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=qa})):gt(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const p=Db(c[d],s,i);this._pendingStyles[d]=p,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:qa),this._updateStyle(d,p)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const y=gt(d,!0);Object.keys(y).forEach(C=>{const D=y[C];"!"==D?e.add(C):D==qa&&t.add(C)}),i||(y.offset=p/this.duration),r.push(y)});const s=e.size?op(e.values()):[],c=t.size?op(t.values()):[];if(i){const d=r[0],p=Zu(d);d.offset=0,p.offset=1,r=[d,p]}return n_(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class gx extends up{constructor(e,t,i,r,s,c,d=!1){super(e,t,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],c=i+t,d=t/c,p=gt(e[0],!1);p.offset=0,s.push(p);const y=gt(e[0],!1);y.offset=CD(d),s.push(y);const C=e.length-1;for(let D=1;D<=C;D++){let x=gt(e[D],!1);x.offset=CD((t+x.offset*i)/c),s.push(x)}i=c,t=0,r="",e=s}return n_(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function CD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class r_{}class ED extends r_{normalizePropertyName(e,t){return Tb(e)}normalizeStyleValue(e,t,i,r){let s="";const c=i.toString().trim();if(mx[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Za(n,e){return new l.vHH(3005,tn)}())}return c+s}}const mx=(()=>function DD(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function TD(n,e,t,i,r,s,c,d,p,y,C,D,x){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:y,postStyleProps:C,totalTime:D,errors:x}}const dp={};class SD{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function ID(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],c=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):c}build(e,t,i,r,s,c,d,p,y,C){const D=[],x=this.ast.options&&this.ast.options.params||dp,L=this.buildStyles(i,d&&d.params||dp,D),Z=p&&p.params||dp,ae=this.buildStyles(r,Z,D),Le=new Set,We=new Map,Ue=new Map,je="void"===r,At={params:Object.assign(Object.assign({},x),Z)},xt=C?[]:Mb(e,t,this.ast.animation,s,c,L,ae,At,y,D);let sn=0;if(xt.forEach(ua=>{sn=Math.max(ua.duration+ua.delay,sn)}),D.length)return TD(t,this._triggerName,i,r,je,L,ae,[],[],We,Ue,sn,D);xt.forEach(ua=>{const gd=ua.element,Vq=Us(We,gd,{});ua.preStyleProps.forEach(Rg=>Vq[Rg]=!0);const uC=Us(Ue,gd,{});ua.postStyleProps.forEach(Rg=>uC[Rg]=!0),gd!==t&&Le.add(gd)});const Wi=op(Le.values());return TD(t,this._triggerName,i,r,je,L,ae,xt,Wi,We,Ue,sn)}}class AD{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=Zu(this.defaultParams);return Object.keys(e).forEach(s=>{const c=e[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let p=c[d];p.length>1&&(p=Db(p,r,t));const y=this.normalizer.normalizePropertyName(d,t);p=this.normalizer.normalizeStyleValue(d,y,p,t),i[y]=p})}}),i}}class yx{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new AD(r.style,r.options&&r.options.params||{},i)}),s_(this.states,"true","1"),s_(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new SD(e,r,this.states))}),this.fallbackTransition=function vx(n,e,t){return new SD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(c=>c.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function s_(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const bx=new Yu;class MD{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=t_(this._driver,t,i,[]);if(i.length)throw function jE(n){return new l.vHH(3503,tn)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=QE(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let c;const d=new Map;if(s?(c=Mb(this._driver,t,s,ip,dh,{},{},i,bx,r),c.forEach(C=>{const D=Us(d,C.element,{});C.postStyleProps.forEach(x=>D[x]=null)})):(r.push(function hb(){return new l.vHH(3300,tn)}()),c=[]),r.length)throw function Ym(n){return new l.vHH(3504,tn)}();d.forEach((C,D)=>{Object.keys(C).forEach(x=>{C[x]=this._driver.computeStyle(D,x,qa)})});const y=jc(c.map(C=>{const D=d.get(C.element);return this._buildPlayer(C,{},D)}));return this._playersById[e]=y,y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function GE(n){return new l.vHH(3301,tn)}();return t}listen(e,t,i,r){const s=mb(t,"","","");return pb(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const xD="ng-animate-queued",Rb="ng-animate-disabled",Tx=[],RD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},kD={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hs="__ng_removed";class kb{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function Nb(n){return null!=n?n:null}(i?e.value:e),i){const s=Zu(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hp="void",o_=new kb(hp);class Sx{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wo(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function zE(n,e){return new l.vHH(3302,tn)}();if(null==i||0==i.length)throw function $E(n){return new l.vHH(3303,tn)}();if(!function Fb(n){return"start"==n||"done"==n}(i))throw function qE(n,e){return new l.vHH(3400,tn)}();const s=Us(this._elementListeners,e,[]),c={name:t,phase:i,callback:r};s.push(c);const d=Us(this._engine.statesByElement,e,{});return d.hasOwnProperty(t)||(wo(e,Ya),wo(e,Ya+"-"+t),d[t]=o_),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers[t]||delete d[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function WE(n){return new l.vHH(3401,tn)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),c=new Ob(this.id,t,e);let d=this._engine.statesByElement.get(e);d||(wo(e,Ya),wo(e,Ya+"-"+t),this._engine.statesByElement.set(e,d={}));let p=d[t];const y=new kb(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&y.absorbOptions(p.options),d[t]=y,p||(p=o_),y.value!==hp&&p.value===y.value){if(!function LD(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(p.params,y.params)){const Z=[],ae=s.matchStyles(p.value,p.params,Z),Le=s.matchStyles(y.value,y.params,Z);Z.length?this._engine.reportError(Z):this._engine.afterFlush(()=>{Qa(e,ae),Ka(e,Le)})}return}const x=Us(this._engine.playersByElement,e,[]);x.forEach(Z=>{Z.namespaceId==this.id&&Z.triggerName==t&&Z.queued&&Z.destroy()});let O=s.matchTransition(p.value,y.value,e,y.params),L=!1;if(!O){if(!r)return;O=s.fallbackTransition,L=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:O,fromState:p,toState:y,player:c,isFallbackTransition:L}),L||(wo(e,xD),c.onStart(()=>{Ku(e,xD)})),c.onDone(()=>{let Z=this.players.indexOf(c);Z>=0&&this.players.splice(Z,1);const ae=this._engine.playersByElement.get(e);if(ae){let Le=ae.indexOf(c);Le>=0&&ae.splice(Le,1)}}),this.players.push(c),x.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Qm,!0);i.forEach(r=>{if(r[Hs])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),c=new Map;if(s){const d=[];if(Object.keys(s).forEach(p=>{if(c.set(p,s[p].value),this._triggers[p]){const y=this.trigger(e,p,hp,r);y&&d.push(y)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),i&&jc(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers[c].fallbackTransition,y=i[c]||o_,C=new kb(hp),D=new Ob(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:p,fromState:y,toState:C,player:D,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let c=e;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Hs];(!s||s===RD)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=mb(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,pb(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class Ix{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new Sx(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let d=this.driver.getParentElement(t);for(;d;){const p=r.get(d);if(p){const y=i.indexOf(p);i.splice(y+1,0,e),c=!0;break}d=this.driver.getParentElement(d)}}else for(let d=s;d>=0;d--)if(this.driver.containsElement(i[d].hostElement,t)){i.splice(d+1,0,e),c=!0;break}c||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&t.add(d)}}}return t}trigger(e,t,i,r){if(fp(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!fp(t))return;const s=t[Hs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wo(e,Rb)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ku(e,Rb))}removeNode(e,t,i,r){if(fp(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[Hs]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return fp(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Qm,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Gc,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return jc(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[Hs];if(i&&i.setForRemoval){if(e[Hs]=RD,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Rb))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wo(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?jc(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function ZE(n){return new l.vHH(3402,tn)}()}_flushAnimations(e,t){const i=new Yu,r=[],s=new Map,c=[],d=new Map,p=new Map,y=new Map,C=new Set;this.disabledNodes.forEach(ht=>{C.add(ht);const St=this.driver.query(ht,".ng-animate-queued",!0);for(let Ot=0;Ot<St.length;Ot++)C.add(St[Ot])});const D=this.bodyNode,x=Array.from(this.statesByElement.keys()),O=a_(x,this.collectedEnterElements),L=new Map;let Z=0;O.forEach((ht,St)=>{const Ot=ip+Z++;L.set(St,Ot),ht.forEach(yn=>wo(yn,Ot))});const ae=[],Le=new Set,We=new Set;for(let ht=0;ht<this.collectedLeaveElements.length;ht++){const St=this.collectedLeaveElements[ht],Ot=St[Hs];Ot&&Ot.setForRemoval&&(ae.push(St),Le.add(St),Ot.hasAnimation?this.driver.query(St,".ng-star-inserted",!0).forEach(yn=>Le.add(yn)):We.add(St))}const Ue=new Map,je=a_(x,Array.from(Le));je.forEach((ht,St)=>{const Ot=dh+Z++;Ue.set(St,Ot),ht.forEach(yn=>wo(yn,Ot))}),e.push(()=>{O.forEach((ht,St)=>{const Ot=L.get(St);ht.forEach(yn=>Ku(yn,Ot))}),je.forEach((ht,St)=>{const Ot=Ue.get(St);ht.forEach(yn=>Ku(yn,Ot))}),ae.forEach(ht=>{this.processLeaveNode(ht)})});const At=[],xt=[];for(let ht=this._namespaceList.length-1;ht>=0;ht--)this._namespaceList[ht].drainQueuedTransitions(t).forEach(Ot=>{const yn=Ot.player,Br=Ot.element;if(At.push(yn),this.collectedEnterElements.length){const eo=Br[Hs];if(eo&&eo.setForMove){if(eo.previousTriggersValues&&eo.previousTriggersValues.has(Ot.triggerName)){const kg=eo.previousTriggersValues.get(Ot.triggerName),Xh=this.statesByElement.get(Ot.element);Xh&&Xh[Ot.triggerName]&&(Xh[Ot.triggerName].value=kg)}return void yn.destroy()}}const su=!D||!this.driver.containsElement(D,Br),da=Ue.get(Br),Jh=L.get(Br),Ei=this._buildInstruction(Ot,i,Jh,da,su);if(Ei.errors&&Ei.errors.length)return void xt.push(Ei);if(su)return yn.onStart(()=>Qa(Br,Ei.fromStyles)),yn.onDestroy(()=>Ka(Br,Ei.toStyles)),void r.push(yn);if(Ot.isFallbackTransition)return yn.onStart(()=>Qa(Br,Ei.fromStyles)),yn.onDestroy(()=>Ka(Br,Ei.toStyles)),void r.push(yn);const jq=[];Ei.timelines.forEach(eo=>{eo.stretchStartingKeyframe=!0,this.disabledNodes.has(eo.element)||jq.push(eo)}),Ei.timelines=jq,i.append(Br,Ei.timelines),c.push({instruction:Ei,player:yn,element:Br}),Ei.queriedElements.forEach(eo=>Us(d,eo,[]).push(yn)),Ei.preStyleProps.forEach((eo,kg)=>{const Xh=Object.keys(eo);if(Xh.length){let Og=p.get(kg);Og||p.set(kg,Og=new Set),Xh.forEach(dF=>Og.add(dF))}}),Ei.postStyleProps.forEach((eo,kg)=>{const Xh=Object.keys(eo);let Og=y.get(kg);Og||y.set(kg,Og=new Set),Xh.forEach(dF=>Og.add(dF))})});if(xt.length){const ht=[];xt.forEach(St=>{ht.push(function YE(n,e){return new l.vHH(3505,tn)}())}),At.forEach(St=>St.destroy()),this.reportError(ht)}const sn=new Map,Wi=new Map;c.forEach(ht=>{const St=ht.element;i.has(St)&&(Wi.set(St,St),this._beforeAnimationBuild(ht.player.namespaceId,ht.instruction,sn))}),r.forEach(ht=>{const St=ht.element;this._getPreviousPlayers(St,!1,ht.namespaceId,ht.triggerName,null).forEach(yn=>{Us(sn,St,[]).push(yn),yn.destroy()})});const ua=ae.filter(ht=>Mx(ht,p,y)),gd=new Map;PD(gd,this.driver,We,y,qa).forEach(ht=>{Mx(ht,p,y)&&ua.push(ht)});const uC=new Map;O.forEach((ht,St)=>{PD(uC,this.driver,new Set(ht),p,"!")}),ua.forEach(ht=>{const St=gd.get(ht),Ot=uC.get(ht);gd.set(ht,Object.assign(Object.assign({},St),Ot))});const Rg=[],Uq=[],Hq={};c.forEach(ht=>{const{element:St,player:Ot,instruction:yn}=ht;if(i.has(St)){if(C.has(St))return Ot.onDestroy(()=>Ka(St,yn.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(yn.totalTime),void r.push(Ot);let Br=Hq;if(Wi.size>1){let da=St;const Jh=[];for(;da=da.parentNode;){const Ei=Wi.get(da);if(Ei){Br=Ei;break}Jh.push(da)}Jh.forEach(Ei=>Wi.set(Ei,Br))}const su=this._buildAnimation(Ot.namespaceId,yn,sn,s,uC,gd);if(Ot.setRealPlayer(su),Br===Hq)Rg.push(Ot);else{const da=this.playersByElement.get(Br);da&&da.length&&(Ot.parentPlayer=jc(da)),r.push(Ot)}}else Qa(St,yn.fromStyles),Ot.onDestroy(()=>Ka(St,yn.toStyles)),Uq.push(Ot),C.has(St)&&r.push(Ot)}),Uq.forEach(ht=>{const St=s.get(ht.element);if(St&&St.length){const Ot=jc(St);ht.setRealPlayer(Ot)}}),r.forEach(ht=>{ht.parentPlayer?ht.syncPlayerEvents(ht.parentPlayer):ht.destroy()});for(let ht=0;ht<ae.length;ht++){const St=ae[ht],Ot=St[Hs];if(Ku(St,dh),Ot&&Ot.hasAnimation)continue;let yn=[];if(d.size){let su=d.get(St);su&&su.length&&yn.push(...su);let da=this.driver.query(St,Gc,!0);for(let Jh=0;Jh<da.length;Jh++){let Ei=d.get(da[Jh]);Ei&&Ei.length&&yn.push(...Ei)}}const Br=yn.filter(su=>!su.destroyed);Br.length?Ax(this,St,Br):this.processLeaveNode(St)}return ae.length=0,Rg.forEach(ht=>{this.players.push(ht),ht.onDone(()=>{ht.destroy();const St=this.players.indexOf(ht);this.players.splice(St,1)}),ht.play()}),Rg}elementContainsData(e,t){let i=!1;const r=t[Hs];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let c=[];if(t){const d=this.playersByQueriedElement.get(e);d&&(c=d)}else{const d=this.playersByElement.get(e);if(d){const p=!s||s==hp;d.forEach(y=>{y.queued||!p&&y.triggerName!=r||c.push(y)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(e,t,i){const s=t.element,c=t.isRemovalTransition?void 0:e,d=t.isRemovalTransition?void 0:t.triggerName;for(const p of t.timelines){const y=p.element,C=y!==s,D=Us(i,y,[]);this._getPreviousPlayers(y,C,c,d,t.toState).forEach(O=>{const L=O.getRealPlayer();L.beforeDestroy&&L.beforeDestroy(),O.destroy(),D.push(O)})}Qa(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,c){const d=t.triggerName,p=t.element,y=[],C=new Set,D=new Set,x=t.timelines.map(L=>{const Z=L.element;C.add(Z);const ae=Z[Hs];if(ae&&ae.removedBeforeQueried)return new ep(L.duration,L.delay);const Le=Z!==p,We=function ND(n){const e=[];return FD(n,e),e}((i.get(Z)||Tx).map(sn=>sn.getRealPlayer())).filter(sn=>!!sn.element&&sn.element===Z),Ue=s.get(Z),je=c.get(Z),At=QE(0,this._normalizer,0,L.keyframes,Ue,je),xt=this._buildPlayer(L,At,We);if(L.subTimeline&&r&&D.add(Z),Le){const sn=new Ob(e,d,Z);sn.setRealPlayer(xt),y.push(sn)}return xt});y.forEach(L=>{Us(this.playersByQueriedElement,L.element,[]).push(L),L.onDone(()=>function Pb(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,L.element,L))}),C.forEach(L=>wo(L,oD));const O=jc(x);return O.onDestroy(()=>{C.forEach(L=>Ku(L,oD)),Ka(p,t.toStyles)}),D.forEach(L=>{Us(r,L,[]).push(O)}),O}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new ep(e.duration,e.delay)}}class Ob{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new ep,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>pb(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Us(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function fp(n){return n&&1===n.nodeType}function OD(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function PD(n,e,t,i,r){const s=[];t.forEach(p=>s.push(OD(p)));const c=[];i.forEach((p,y)=>{const C={};p.forEach(D=>{const x=C[D]=e.computeStyle(y,D,r);(!x||0==x.length)&&(y[Hs]=kD,c.push(y))}),n.set(y,C)});let d=0;return t.forEach(p=>OD(p,s[d++])),c}function a_(n,e){const t=new Map;if(n.forEach(d=>t.set(d,[])),0==e.length)return t;const r=new Set(e),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const y=d.parentNode;return p=t.has(y)?y:r.has(y)?1:c(y),s.set(d,p),p}return e.forEach(d=>{const p=c(d);1!==p&&t.get(p).push(d)}),t}function wo(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Ku(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Ax(n,e,t){jc(t).onDone(()=>n.processLeaveNode(e))}function FD(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof NE?FD(i.players,e):e.push(i)}}function Mx(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class l_{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Ix(e,t,i),this._timelineEngine=new MD(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const c=e+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],C=t_(this._driver,s,p,[]);if(p.length)throw function JM(n,e){return new l.vHH(3404,tn)}();d=function _x(n,e,t){return new yx(n,e,t)}(r,C,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(t,r,d)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,c]=JE(i);this._timelineEngine.command(s,t,c,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[c,d]=JE(i);return this._timelineEngine.listen(c,t,d,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xx=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ka(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ka(this._element,this._initialStyles),this._endStyles&&(Ka(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qa(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qa(this._element,this._endStyles),this._endStyles=null),Ka(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qc(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];pp(r)&&(e=e||{},e[r]=n[r])}return e}function pp(n){return"display"===n||"position"===n}class BD{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:fD(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class PL{validateStyleProperty(e){return nD(e)}matchesElement(e,t){return!1}containsElement(e,t){return vb(e,t)}getParentElement(e){return yb(e)}query(e,t,i){return bb(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const y={},C=c.filter(x=>x instanceof BD);(function dD(n,e){return 0===n||0===e})(i,r)&&C.forEach(x=>{let O=x.currentSnapshot;Object.keys(O).forEach(L=>y[L]=O[L])}),t=function hD(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=t[d]}),c.length)for(var r=1;r<e.length;r++){let d=e[r];c.forEach(function(p){d[p]=fD(n,p)})}}return e}(e,t=t.map(x=>gt(x,!1)),y);const D=function c_(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=qc(e[0]),e.length>1&&(i=qc(e[e.length-1]))):e&&(t=qc(e)),t||i?new xx(n,t,i):null}(e,t);return new BD(e,t,p,D)}}let VD=(()=>{class n extends ab{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?lb(t):t;return UD(this._renderer,null,i,"register",[r]),new Rx(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(ne))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Rx extends class OE{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new kx(this._id,e,t||{},this._renderer)}}class kx{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return UD(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function UD(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Lb="@.disabled";let HD=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=null==c?void 0:c.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let C=this._rendererCache.get(s);return C||(C=new d_("",s,this.engine),this._rendererCache.set(s,C)),C}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);const p=C=>{Array.isArray(C)?C.forEach(p):this.engine.registerTrigger(c,d,t,C.name,C)};return i.data.animation.forEach(p),new h_(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(l_),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class d_{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Lb?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class h_ extends d_{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Lb?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function gp(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Ox(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(e,t,i)}}let jD=(()=>{class n extends l_{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(Km),l.LFG(r_))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ja=new l.OlP("AnimationModuleType"),f_=[{provide:ab,useClass:VD},{provide:r_,useFactory:function GD(){return new ED}},{provide:l_,useClass:jD},{provide:l.FYo,useFactory:function Px(n,e,t){return new HD(n,e,t)},deps:[Sn,l_,l.R0b]}],zD=[{provide:Km,useFactory:()=>new PL},{provide:Ja,useValue:"BrowserAnimations"},...f_],NL=[{provide:Km,useClass:wb},{provide:Ja,useValue:"NoopAnimations"},...f_];let Nx=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?NL:zD}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:zD,imports:[Ca]}),n})();function mh(n,e){if(1&n&&l._UZ(0,"mat-pseudo-checkbox",4),2&n){const t=l.oxw();l.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function LL(n,e){if(1&n&&(l.TgZ(0,"span",5),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(",t.group.label,")")}}const $D=["*"],ZD=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function VL(){return!0}});let wn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!LC()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ob),l.LFG(ZD,8),l.LFG(ne))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Am],Am]}),n})();function _p(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=dn(e)}}}function p_(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function g_(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=dn(e)}}}function YD(n,e=0){return class extends n{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?ja(t):this.defaultTabIndex}}}function KD(n){return class extends n{constructor(...e){super(...e),this.stateChanges=new pt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}}}function QD(n){return class extends n{constructor(...e){super(...e),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new en.y(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(e){e.next(),e.complete()}}}let Bb=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Vb{constructor(e,t,i){this._renderer=e,this.element=t,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const sa={enterDuration:225,exitDuration:150},_h=Jd({passive:!0}),yh=["mousedown","touchstart"],JD=["mouseup","mouseleave","touchend","touchcancel"];class Wx{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Jo(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=Object.assign(Object.assign({},sa),i.animation);i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const c=i.radius||function m_(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),d=e-r.left,p=t-r.top,y=s.enterDuration,C=document.createElement("div");C.classList.add("mat-ripple-element"),C.style.left=d-c+"px",C.style.top=p-c+"px",C.style.height=2*c+"px",C.style.width=2*c+"px",null!=i.color&&(C.style.backgroundColor=i.color),C.style.transitionDuration=`${y}ms`,this._containerElement.appendChild(C),function Zx(n){window.getComputedStyle(n).getPropertyValue("opacity")}(C),C.style.transform="scale(1)";const D=new Vb(this,C,i);return D.state=0,this._activeRipples.add(D),i.persistent||(this._mostRecentTransientRipple=D),this._runTimeoutOutsideZone(()=>{const x=D===this._mostRecentTransientRipple;D.state=1,!i.persistent&&(!x||!this._isPointerDown)&&D.fadeOut()},y),D}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const i=e.element,r=Object.assign(Object.assign({},sa),e.config.animation);i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Jo(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(yh))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(JD),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=tb(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Gm(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,_h)})})}_removeTriggerEvents(){this._triggerElement&&(yh.forEach(e=>{this._triggerElement.removeEventListener(e,this,_h)}),this._pointerUpEventsRegistered&&JD.forEach(e=>{this._triggerElement.removeEventListener(e,this,_h)}))}}const __=new l.OlP("mat-ripple-global-options");let vp=(()=>{class n{constructor(t,i,r,s,c){this._elementRef=t,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Wx(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,Object.assign(Object.assign({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Ri),l.Y36(__,8),l.Y36(Ja,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),y_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[wn],wn]}),n})(),XD=(()=>{class n{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ja,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,i){2&t&&l.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),eT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[wn]]}),n})();const v_=new l.OlP("MAT_OPTION_PARENT_COMPONENT"),Kx=new l.OlP("MatOptgroup");let Ub=0;class nT{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let Hb=(()=>{class n{constructor(t,i,r,s){this._element=t,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Ub++,this.onSelectionChange=new l.vpe,this._stateChanges=new pt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=dn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Wl(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new nT(this,t))}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),b_=(()=>{class n extends Hb{constructor(t,i,r,s){super(t,i,r,s)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(v_,8),l.Y36(Kx,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&t&&(l.Ikx("id",i.id),l.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),l.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[l.qOj],ngContentSelectors:$D,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,mh,1,2,"mat-pseudo-checkbox",0),l.TgZ(1,"span",1),l.Hsn(2),l.qZA(),l.YNc(3,LL,2,1,"span",2),l._UZ(4,"div",3)),2&t&&(l.Q6J("ngIf",i.multiple),l.xp6(3),l.Q6J("ngIf",i.group&&i.group._inert),l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[XD,On,vp],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function iT(n,e,t){if(t.length){let i=e.toArray(),r=t.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let rT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[y_,lo,wn,eT]]}),n})();const Jx=["mat-button",""],sT=["*"],lT=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],cT=p_(_p(g_(class{constructor(n){this._elementRef=n}})));let Xa=(()=>{class n extends cT{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of lT)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ch),l.Y36(Ja,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.Gf(vp,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Jx,ngContentSelectors:sT,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[vp],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),bp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[y_,wn],wn]}),n})();const uT=new Set;let Qu,eR=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):vh}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function zr(n){if(!uT.has(n))try{Qu||(Qu=document.createElement("style"),Qu.setAttribute("type","text/css"),document.head.appendChild(Qu)),Qu.sheet&&(Qu.sheet.insertRule(`@media ${n} {body{ }}`,0),uT.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ri))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vh(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let jb=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new pt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return dT(Em(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=ps(dT(Em(t)).map(c=>this._registerQuery(c).observable));return s=Vo(s.pipe((0,Fn.q)(1)),s.pipe(mE(1),oh(0))),s.pipe((0,st.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:y})=>{d.matches=d.matches||p,d.breakpoints[y]=p}),d}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new en.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(yi(i),(0,st.U)(({matches:c})=>({query:t,matches:c})),An(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eR),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dT(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function wp(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){return l.CHM(t),l.oxw().action()}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.data.action)}}function nR(n,e){}const w_=new l.OlP("MatSnackBarData");class C_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const hT=Math.pow(2,31)-1;class Gb{constructor(e,t){this._overlayRef=t,this._afterDismissed=new pt.x,this._afterOpened=new pt.x,this._onAction=new pt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,hT))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let iR=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gb),l.Y36(w_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"span",0),l._uU(1),l.qZA(),l.YNc(2,wp,3,1,"div",1)),2&t&&(l.xp6(1),l.Oqu(i.data.message),l.xp6(1),l.Q6J("ngIf",i.hasAction))},directives:[Xa,On],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const zb={snackBarState:na("state",[Gt("void, hidden",Vt({transform:"scale(0.8)",opacity:0})),Gt("visible",Vt({transform:"scale(1)",opacity:1})),ki("* => visible",ir("150ms cubic-bezier(0, 0, 0.2, 1)")),ki("* => void, * => hidden",ir("75ms cubic-bezier(0.4, 0.0, 1, 1)",Vt({opacity:0})))])};let fT=(()=>{class n extends Gu{constructor(t,i,r,s,c){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new pt.x,this._onExit=new pt.x,this._onEnter=new pt.x,this._animationState="void",this.attachDomPortal=d=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(d)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,Fn.q)(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),null==r||r.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Ri),l.Y36(C_))},n.\u0275cmp=l.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(km,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,i){1&t&&l.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&t&&l.d8E("@state",i._animationState)},features:[l.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,nR,0,0,"ng-template",1),l.qZA(),l._UZ(2,"div")),2&t&&(l.xp6(2),l.uIk("aria-live",i._live)("role",i._role))},directives:[km],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[zb.snackBarState]}}),n})(),E_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[zv,xv,lo,bp,wn],wn]}),n})();const Cp=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function $b(){return new C_}});let KL=(()=>{class n{constructor(t,i,r,s,c,d){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const s=Object.assign(Object.assign({},this._defaultConfig),r);return s.data={message:t,action:i},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const s=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:C_,useValue:i}]}),c=new Bc(this.snackBarContainerComponent,i.viewContainerRef,s),d=t.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(t,i){const r=Object.assign(Object.assign(Object.assign({},new C_),this._defaultConfig),i),s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new Gb(c,s);if(t instanceof l.Rgc){const p=new eh(t,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),y=new Bc(t,void 0,p),C=c.attachComponentPortal(y);d.instance=C.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(An(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new Zl;i.direction=t.direction;let r=this._overlay.position().global();const s="rtl"===t.direction,c="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!s||"end"===t.horizontalPosition&&s,d=!c&&"center"!==t.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return l.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Gb,useValue:i},{provide:w_,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($a),l.LFG($m),l.LFG(l.zs3),l.LFG(jb),l.LFG(n,12),l.LFG(Cp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),pT=(()=>{class n extends KL{constructor(t,i,r,s,c,d){super(t,i,r,s,c,d),this.simpleSnackBarComponent=iR,this.snackBarContainerComponent=fT,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($a),l.LFG($m),l.LFG(l.zs3),l.LFG(jb),l.LFG(n,12),l.LFG(Cp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:E_}),n})();var Ep=F(5363),gT=F(6063);class D_ extends pt.x{constructor(e=1/0,t=1/0,i=gT.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;t||(i.push(e),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!e.closed;c+=i?1:2)e.next(s[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=t.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}var T_=F(3099);function mT(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=null!=n?n:1/0,(0,T_.B)({connector:()=>new D_(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function S_(n,e){return(0,gr.m)(e)?In(()=>n,e):In(()=>n)}var Dp=F(9468),_n=F(6351),zi=F(2011);F(5867);var Ce=F(5861),bs=F(9681),el=F(4859),N=F(2090),tl=F(1877);const uR=new Map,nB={activated:!1,tokenObservers:[]},iB={initialized:!1,enabled:!1};function wi(n){return uR.get(n)||nB}function nl(n,e){uR.set(n,e)}function Sp(){return iB}class DT{constructor(e,t,i,r,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new N.BH,yield function TT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new N.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const kr=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function x_(n){if(!wi(n).activated)throw kr.create("use-before-activation",{appName:n.name})}function IT(n,e){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,Ce.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const s={method:"POST",body:JSON.stringify(e),headers:i};let c,d;try{c=yield fetch(n,s)}catch(D){throw kr.create("fetch-network-error",{originalErrorMessage:D.message})}if(200!==c.status)throw kr.create("fetch-status-error",{httpStatus:c.status});try{d=yield c.json()}catch(D){throw kr.create("fetch-parse-error",{originalErrorMessage:D.message})}const p=d.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw kr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});const y=1e3*Number(p[1]),C=Date.now();return{token:d.token,expireTimeMillis:C+y,issuedAtTimeMillis:C}})).apply(this,arguments)}function oB(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Ap="firebase-app-check-store";let R_=null;function k_(){return R_||(R_=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(kr.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Ap,{keyPath:"compositeKey"})}}catch(t){e(kr.create("storage-open",{originalErrorMessage:t.message}))}}),R_)}function Qb(){return(Qb=(0,Ce.Z)(function*(n,e){const i=(yield k_()).transaction(Ap,"readwrite"),s=i.objectStore(Ap).put({compositeKey:n,value:e});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var y;d(kr.create("storage-set",{originalErrorMessage:null===(y=p.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const Mp=new tl.Yd("@firebase/app-check");function xT(n,e){return(0,N.hl)()?function mR(n,e){return function Kb(n,e){return Qb.apply(this,arguments)}(function MT(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Mp.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function tw(){return Sp().enabled}function RT(){return nw.apply(this,arguments)}function nw(){return(nw=(0,Ce.Z)(function*(){const n=Sp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _R={error:"UNKNOWN_ERROR"};function lB(n){return N.US.encodeString(JSON.stringify(n),!1)}function xp(n){return P_.apply(this,arguments)}function P_(){return(P_=(0,Ce.Z)(function*(n,e=!1){const t=n.app;x_(t);const i=wi(t);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&Rp(p)&&(r=p)}if(!e&&r&&Rp(r))return{token:r.token};let d,c=!1;if(tw()){i.exchangeTokenPromise||(i.exchangeTokenPromise=IT(oB(t,yield RT()),n.heartbeatServiceProvider).then(y=>(i.exchangeTokenPromise=void 0,y)),c=!0);const p=yield i.exchangeTokenPromise;return yield xT(t,p),nl(t,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Mp.warn(p.message):Mp.error(p),s=p}return r?(d={token:r.token},nl(t,Object.assign(Object.assign({},i),{token:r})),yield xT(t,r)):d=yR(s),c&&N_(t,d),d})).apply(this,arguments)}function rw(n,e){const t=wi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),nl(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function sw(n){const{app:e}=n,t=wi(e);let i=t.tokenRefresher;i||(i=function ow(n){const{app:e}=n;return new DT((0,Ce.Z)(function*(){let i;if(i=wi(e).token?yield xp(n,!0):yield xp(n),i.error)throw i.error}),()=>!0,()=>{const t=wi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),nl(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function N_(n,e){const t=wi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function Rp(n){return n.expireTimeMillis-Date.now()>0}function yR(n){return{token:lB(_R),error:n}}class OT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=wi(this.app);for(const t of e)rw(this.app,t.next);return Promise.resolve()}}const IR="app-check-internal";!function pB(){(0,bs._registerComponent)(new el.wA("app-check",n=>function PT(n,e){return new OT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(IR).initialize()})),(0,bs._registerComponent)(new el.wA(IR,n=>function vR(n){return{getToken:e=>xp(n,e),addTokenListener:e=>function iw(n,e,t,i){const{app:r}=n,s=wi(r),c={next:t,error:i,type:e};if(nl(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&Rp(s.token)){const d=s.token;Promise.resolve().then(()=>{t({token:d.token}),sw(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>sw(n))}(n,"INTERNAL",e),removeTokenListener:e=>rw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bs.registerVersion)("@firebase/app-check","0.5.8")}();class bh{constructor(){return(0,_n.vb)("app-check")}}"undefined"!=typeof window&&window;var B_=F(127);const WT=new l.OlP("angularfire2.auth.use-emulator"),ZT=new l.OlP("angularfire2.auth.settings"),uw=new l.OlP("angularfire2.auth.tenant-id"),dw=new l.OlP("angularfire2.auth.langugage-code"),YT=new l.OlP("angularfire2.auth.use-device-language"),KT=new l.OlP("angularfire.auth.persistence"),QT=(n,e,t,i,r,s,c,d)=>(0,zi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=e.runOutsideAngular(()=>n.auth());if(t&&p.useEmulator(...t),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[y,C]of Object.entries(c))p.settings[y]=C;return d&&p.setPersistence(d),p},[t,i,r,s,c,d]);let V_=(()=>{class n{constructor(t,i,r,s,c,d,p,y,C,D,x,O){const L=new pt.x,Z=Ze(void 0).pipe((0,Ep.Q)(c.outsideAngular),In(()=>s.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8775)))),(0,st.U)(()=>(0,zi.on)(t,s,i)),(0,st.U)(ae=>QT(ae,s,d,y,C,D,p,x)),mT({bufferSize:1,refCount:!1}));if(_a(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ze(null);else{Z.pipe(ka()).subscribe();const Le=Z.pipe(In(je=>je.getRedirectResult().then(At=>At,()=>null)),_n.iC,mT({bufferSize:1,refCount:!1})),We=Z.pipe(In(je=>new en.y(At=>({unsubscribe:s.runOutsideAngular(()=>je.onAuthStateChanged(xt=>At.next(xt),xt=>At.error(xt),()=>At.complete()))})))),Ue=Z.pipe(In(je=>new en.y(At=>({unsubscribe:s.runOutsideAngular(()=>je.onIdTokenChanged(xt=>At.next(xt),xt=>At.error(xt),()=>At.complete()))}))));this.authState=Le.pipe(S_(We),(0,Dp.R)(c.outsideAngular),(0,Ep.Q)(c.insideAngular)),this.user=Le.pipe(S_(Ue),(0,Dp.R)(c.outsideAngular),(0,Ep.Q)(c.insideAngular)),this.idToken=this.user.pipe(In(je=>je?(0,bn.D)(je.getIdToken()):Ze(null))),this.idTokenResult=this.user.pipe(In(je=>je?(0,bn.D)(je.getIdTokenResult()):Ze(null))),this.credential=(0,ci.T)(Le,L,this.authState.pipe(Ln(je=>!je))).pipe((0,st.U)(je=>(null==je?void 0:je.user)?je:null),(0,Dp.R)(c.outsideAngular),(0,Ep.Q)(c.insideAngular))}return(0,zi.pX)(this,Z,s,{spy:{apply:(ae,Le,We)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&We.then(Ue=>L.next(Ue))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zi.Dh),l.LFG(zi.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_n.HU),l.LFG(WT,8),l.LFG(ZT,8),l.LFG(uw,8),l.LFG(dw,8),l.LFG(YT,8),l.LFG(KT,8),l.LFG(bh,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),wB=(()=>{class n{constructor(){B_.Z.registerVersion("angularfire",_n.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[V_]}),n})();function JT(...n){const e=(0,Ia.jO)(n);return(0,Nn.e)((t,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,gs.Xf)(n[p]).subscribe((0,un.x)(i,y=>{s[p]=y,!d&&!c[p]&&(c[p]=!0,(d=c.every(Ir.y))&&(c=null))},qC.Z));t.subscribe((0,un.x)(i,p=>{if(d){const y=[p,...s];i.next(e?e(...y):y)}}))})}F(8775);var XT=F(3942);const kR="@firebase/database",o="0.13.0";let a="";function u(n){a=n}class h{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,N.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,N.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class f{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,N.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const m=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(e){}return new f},b=m("localStorage"),E=m("sessionStorage"),T=new tl.Yd("@firebase/database"),M=function(){let n=1;return function(){return n++}}(),R=function(n){const e=(0,N.dS)(n),t=new N.gQ;t.update(e);const i=t.digest();return N.US.encodeByteArray(i)},V=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=V.apply(null,i):e+="object"==typeof i?(0,N.Pz)(i):i,e+=" "}return e};let j=null,X=!0;const be=function(n,e){(0,N.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(T.logLevel=tl.in.VERBOSE,j=T.log.bind(T),e&&E.set("logging_enabled",!0)):"function"==typeof n?j=n:(j=null,E.remove("logging_enabled"))},Re=function(...n){if(!0===X&&(X=!1,null===j&&!0===E.get("logging_enabled")&&be(!0)),j){const e=V.apply(null,n);j(e)}},$e=function(n){return function(...e){Re(n,...e)}},lt=function(...n){const e="FIREBASE INTERNAL ERROR: "+V(...n);T.error(e)},Te=function(...n){const e=`FIREBASE FATAL ERROR: ${V(...n)}`;throw T.error(e),new Error(e)},at=function(...n){const e="FIREBASE WARNING: "+V(...n);T.warn(e)},an=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},$r="[MIN_NAME]",Eo="[MAX_NAME]",Kl=function(n,e){if(n===e)return 0;if(n===$r||e===Eo)return-1;if(e===$r||n===Eo)return 1;{const t=eS(n),i=eS(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},hw=function(n,e){return n===e?0:n<e?-1:1},Ju=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Pz)(e))},Pp=function(n){if("object"!=typeof n||null===n)return(0,N.Pz)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,N.Pz)(e[i]),t+=":",t+=Pp(n[e[i]]);return t+="}",t},U_=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Oi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const H_=function(n){(0,N.hu)(!an(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const y=[];for(p=52;p;p-=1)y.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)y.push(s%2?1:0),s=Math.floor(s/2);y.push(r?1:0),y.reverse();const C=y.join("");let D="";for(p=0;p<64;p+=8){let x=parseInt(C.substr(p,8),2).toString(16);1===x.length&&(x="0"+x),D+=x}return D.toLowerCase()},d6=new RegExp("^-?(0*)\\d{1,10}$"),EB=-2147483648,OR=2147483647,eS=function(n){if(d6.test(n)){const e=Number(n);if(e>=EB&&e<=OR)return e}return null},j_=function(n){try{n()}catch(e){setTimeout(()=>{throw at("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},pw=function(n,e){const t=setTimeout(n,e);return"object"==typeof t&&t.unref&&t.unref(),t};class f6{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){at(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class p6{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',at(e)}}let gw=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const AB=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RB="websocket",kB="long_polling";class NR{constructor(e,t,i,r,s=!1,c="",d=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=b.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&b.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function OB(n,e,t){let i;if((0,N.hu)("string"==typeof e,"typeof type must == string"),(0,N.hu)("object"==typeof t,"typeof params must == object"),e===RB)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==kB)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function g6(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Oi(t,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class m6{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,N.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,N.p$)(this.counters_)}}const FR={},LR={};function BR(n){const e=n.toString();return FR[e]||(FR[e]=new m6),FR[e]}class y6{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&j_(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wh{constructor(e,t,i,r,s,c,d){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$e(e),this.stats_=BR(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),OB(t,kB,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new y6(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VR((...s)=>{const[c,d,p,y,C]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&AB.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wh.forceAllow_=!0}static forceDisallow(){wh.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!wh.forceAllow_&&(wh.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,N.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,N.h$)(t),r=U_(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,N.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class VR{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=M(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=VR.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Re("frame writing exception"),d.stack&&Re(d.stack),Re(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Re("No IE domain setting required")}catch(t){const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,N.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{Re("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch(i){}},Math.floor(1))}}let nS=null;"undefined"!=typeof MozWebSocket?nS=MozWebSocket:"undefined"!=typeof WebSocket&&(nS=WebSocket);let G_=(()=>{class n{constructor(t,i,r,s,c,d,p){this.connId=t,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$e(this.connId),this.stats_=BR(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,s,c){const d={v:"5"};return!(0,N.Yr)()&&"undefined"!=typeof location&&location.hostname&&AB.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),OB(t,RB,d)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,b.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${a}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,p=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;p&&(c.proxy={origin:p})}this.mySock=new nS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==nS&&!n.forceDisallow_}static previouslyFailed(){return b.isInMemoryStorage||!0===b.get("previous_websocket_failure")}markConnectionHealthy(){b.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,N.Pz)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=U_(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),UB=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[wh,G_]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=G_&&G_.isAvailable();let r=i&&!G_.previouslyFailed();if(t.webSocketOnly&&(i||at("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[G_];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class WB{constructor(e,t,i,r,s,c,d,p,y,C){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=y,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$e("c:"+this.id+":"),this.transportManager_=new UB(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=pw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Ju("t",e),i=Ju("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Ju("t",e),i=Ju("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Ju("t",e);if("d"in e){const i=e.d;if("h"===t)this.onHandshake_(i);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?lt("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lt("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&at("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),pw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(b.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ZB{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class YB{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,N.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===t&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,N.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class iS extends YB{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new iS}getInitialEvent(e){return(0,N.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Mn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Cn(){return new Mn("")}function Qt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ch(n){return n.pieces_.length-n.pieceNum_}function Gn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Mn(n.pieces_,e)}function HR(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function mw(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function JB(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Mn(e,0)}function ui(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Mn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Mn(t,0)}function Jt(n){return n.pieceNum_>=n.pieces_.length}function zs(n,e){const t=Qt(n),i=Qt(e);if(null===t)return e;if(t===i)return zs(Gn(n),Gn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function U6(n,e){const t=mw(n,0),i=mw(e,0);for(let r=0;r<t.length&&r<i.length;r++){const s=Kl(t[r],i[r]);if(0!==s)return s}return t.length===i.length?0:t.length<i.length?-1:1}function jR(n,e){if(Ch(n)!==Ch(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function il(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(Ch(n)>Ch(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class H6{constructor(e,t){this.errorPrefix_=t,this.parts_=mw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);XB(this)}}function XB(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Np(n))}function Np(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class GR extends YB{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new GR}getInitialEvent(e){return(0,N.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const _w=1e3;let sS,Fp=(()=>{class n extends ZB{constructor(t,i,r,s,c,d,p,y){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=y,this.id=n.nextPersistentConnectionId_++,this.log_=$e("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_w,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,y&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");GR.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&iS.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const s=++this.requestNumber_,c={r:s,a:t,b:i};this.log_((0,N.Pz)(c)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(t){this.initConnection_();const i=new N.BH,r={p:t._path.toString(),q:t._queryObject},s={action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?(this.onDataUpdate_(r.p,p,!1,null),i.resolve(p)):i.reject(p)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const d=this.outstandingGets_[c];void 0===d||s!==d||(delete this.outstandingGets_[c],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+c+" timed out on connection"),i.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(c),i.promise}listen(t,i,r,s){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,N.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:t,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest("q",c,p=>{const y=p.d,C=p.s;n.warnOnListenWarnings_(y,i),(this.listens.get(r)&&this.listens.get(r).get(s))===t&&(this.log_("listen response",p),"ok"!==C&&this.removeListen_(r,s),t.onComplete&&t.onComplete(C,y))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,N.r3)(t,"w")){const r=(0,N.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();at(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,N.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,N.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===t&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,N.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,t._queryObject,i)}sendUnlisten_(t,i,r,s){this.log_("Unlisten on "+t+" for "+i);const c={p:t};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(t,i,r,s){this.putInternal("p",t,i,r,s)}merge(t,i,r,s){this.putInternal("m",t,i,r,s)}putInternal(t,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,N.Pz)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):lt("Unrecognized action received from server: "+(0,N.Pz)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_w,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=_w,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=_w),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Ce.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),c=t.id+":"+n.nextConnectionId_++,d=t.lastSessionId;let p=!1,y=null;const C=function(){y?y.close():(p=!0,s())};t.realtime_={close:C,sendRequest:function(O){(0,N.hu)(y,"sendRequest call when we're not connected not allowed."),y.sendRequest(O)}};const x=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[O,L]=yield Promise.all([t.authTokenProvider_.getToken(x),t.appCheckTokenProvider_.getToken(x)]);p?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),t.authToken_=O&&O.accessToken,t.appCheckToken_=L&&L.token,y=new WB(c,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,s,Z=>{at(Z+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},d))}catch(O){t.log_("Failed to get token: "+O),p||(t.repoInfo_.nodeAdmin&&at(O),C())}}})()}interrupt(t){Re("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Re("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=_w,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(c=>Pp(c)).join("$"):"default";const s=this.removeListen_(t,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,i){const r=new Mn(t).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(t,i){Re("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){Re("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+a.replace(/\./g,"-")]=1,(0,N.uI)()?t["framework.cordova"]=1:(0,N.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=iS.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class nn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new nn(e,t)}}class rS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new nn($r,e),r=new nn($r,t);return 0!==this.compare(i,r)}minPost(){return nn.MIN}}class nV extends rS{static get __EMPTY_NODE(){return sS}static set __EMPTY_NODE(e){sS=e}compare(e,t){return Kl(e.name,t.name)}isDefinedOn(e){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return nn.MIN}maxPost(){return new nn(Eo,sS)}makePost(e,t){return(0,N.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new nn(e,sS)}toString(){return".key"}}const Zc=new nV;class oS{constructor(e,t,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!e.isEmpty();)if(e=e,c=t?i(e.key,t):1,r&&(c*=-1),c<0)e=this.isReverse_?e.left:e.right;else{if(0===c){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let $R,Ql=(()=>{class n{constructor(t,i,r,s,c){this.key=t,this.value=i,this.color=null!=r?r:n.RED,this.left=null!=s?s:Do.EMPTY_NODE,this.right=null!=c?c:Do.EMPTY_NODE}copy(t,i,r,s,c){return new n(null!=t?t:this.key,null!=i?i:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=c?c:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let s=this;const c=r(t,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(t,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(t,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Do.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,s;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Do.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Do{constructor(e,t=Do.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Do(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ql.BLACK,null,null))}remove(e){return new Do(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ql.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new oS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new oS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new oS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new oS(this.root_,null,this.comparator_,!0,e)}}function K6(n,e){return Kl(n.name,e.name)}function zR(n,e){return Kl(n,e)}Do.EMPTY_NODE=new class Y6{copy(e,t,i,r,s){return this}insert(e,t,i){return new Ql(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const iV=function(n){return"number"==typeof n?"number:"+H_(n):"string:"+n},rV=function(n){if(n.isLeafNode()){const e=n.val();(0,N.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,N.r3)(e,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===$R||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===$R||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let sV,oV,aV,z_=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),rV(this.priorityNode_)}static set __childrenNodeConstructor(t){sV=t}static get __childrenNodeConstructor(){return sV}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Jt(t)?this:".priority"===Qt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Qt(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===Ch(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Gn(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+iV(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?H_(this.value_):this.value_,this.lazyHash_=R(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(s>=0,"Unknown leaf type: "+i),(0,N.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const Kn=new class eW extends rS{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),s=i.compareTo(r);return 0===s?Kl(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return nn.MIN}maxPost(){return new nn(Eo,new z_("[PRIORITY-POST]",aV))}makePost(e,t){const i=oV(e);return new nn(t,new z_("[PRIORITY-POST]",i))}toString(){return".priority"}},tW=Math.log(2);class nW{constructor(e){this.count=parseInt(Math.log(e+1)/tW,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const aS=function(n,e,t,i){n.sort(e);const r=function(p,y){const C=y-p;let D,x;if(0===C)return null;if(1===C)return D=n[p],x=t?t(D):D,new Ql(x,D.node,Ql.BLACK,null,null);{const O=parseInt(C/2,10)+p,L=r(p,O),Z=r(O+1,y);return D=n[O],x=t?t(D):D,new Ql(x,D.node,Ql.BLACK,L,Z)}},d=function(p){let y=null,C=null,D=n.length;const x=function(L,Z){const ae=D-L,Le=D;D-=L;const We=r(ae+1,Le),Ue=n[ae],je=t?t(Ue):Ue;O(new Ql(je,Ue.node,Z,null,We))},O=function(L){y?(y.left=L,y=L):(C=L,y=L)};for(let L=0;L<p.count;++L){const Z=p.nextBitIsOne(),ae=Math.pow(2,p.count-(L+1));Z?x(ae,Ql.BLACK):(x(ae,Ql.BLACK),x(ae,Ql.RED))}return C}(new nW(n.length));return new Do(i||e,d)};let qR;const $_={};class Xu{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,N.hu)($_&&Kn,"ChildrenNode.ts has not been loaded"),qR=qR||new Xu({".priority":$_},{".priority":Kn}),qR}get(e){const t=(0,N.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Do?t:null}hasIndex(e){return(0,N.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,N.hu)(e!==Zc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=t.getIterator(nn.Wrap);let d,c=s.getNext();for(;c;)r=r||e.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?aS(i,e.getCompare()):$_;const p=e.toString(),y=Object.assign({},this.indexSet_);y[p]=e;const C=Object.assign({},this.indexes_);return C[p]=d,new Xu(C,y)}addToIndexes(e,t){const i=(0,N.UI)(this.indexes_,(r,s)=>{const c=(0,N.DV)(this.indexSet_,s);if((0,N.hu)(c,"Missing index implementation for "+s),r===$_){if(c.isDefinedOn(e.node)){const d=[],p=t.getIterator(nn.Wrap);let y=p.getNext();for(;y;)y.name!==e.name&&d.push(y),y=p.getNext();return d.push(e),aS(d,c.getCompare())}return $_}{const d=t.get(e.name);let p=r;return d&&(p=p.remove(new nn(e.name,d))),p.insert(e,e.node)}});return new Xu(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,N.UI)(this.indexes_,r=>{if(r===$_)return r;{const s=t.get(e.name);return s?r.remove(new nn(e.name,s)):r}});return new Xu(i,this.indexSet_)}}let yw,Ut=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rV(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yw||(yw=new n(new Do(zR),null,Xu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yw}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?yw:i}}getChild(t){const i=Qt(t);return null===i?this:this.getImmediateChild(i).getChild(Gn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new nn(t,i);let s,c;i.isEmpty()?(s=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?yw:this.priorityNode_;return new n(s,d,c)}}updateChild(t,i){const r=Qt(t);if(null===r)return i;{(0,N.hu)(".priority"!==Qt(t)||1===Ch(t),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Gn(t),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(Kn,(d,p)=>{i[d]=p.val(t),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!t&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+iV(this.getPriority().val())+":"),this.forEachChild(Kn,(i,r)=>{const s=r.hash();""!==s&&(t+=":"+i+":"+s)}),this.lazyHash_=""===t?"":R(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new nn(t,i));return c?c.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new nn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new nn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,nn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,nn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,t)>0;)s.getNext(),c=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===vw?-1:0}withIndex(t){if(t===Zc||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Zc||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(Kn),s=i.getIterator(Kn);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(t){return t===Zc?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const vw=new class iW extends Ut{constructor(){super(new Do(zR),Ut.EMPTY_NODE,Xu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ut.EMPTY_NODE}isEmpty(){return!1}};function Ci(n,e=null){if(null===n)return Ut.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,N.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new z_(n,Ci(e));if(n instanceof Array){let t=Ut.EMPTY_NODE;return Oi(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const s=Ci(r);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(i,s))}}),t.updatePriority(Ci(e))}{const t=[];let i=!1;if(Oi(n,(c,d)=>{if("."!==c.substring(0,1)){const p=Ci(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),t.push(new nn(c,p)))}}),0===t.length)return Ut.EMPTY_NODE;const s=aS(t,K6,c=>c.name,zR);if(i){const c=aS(t,Kn.getCompare());return new Ut(s,Ci(e),new Xu({".priority":c},{".priority":Kn}))}return new Ut(s,Ci(e),Xu.Default)}}Object.defineProperties(nn,{MIN:{value:new nn($r,Ut.EMPTY_NODE)},MAX:{value:new nn(Eo,vw)}}),nV.__EMPTY_NODE=Ut.EMPTY_NODE,z_.__childrenNodeConstructor=Ut,function Q6(n){$R=n}(vw),function X6(n){aV=n}(vw),function J6(n){oV=n}(Ci);class WR extends rS{constructor(e){super(),this.indexPath_=e,(0,N.hu)(!Jt(e)&&".priority"!==Qt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),s=i.compareTo(r);return 0===s?Kl(e.name,t.name):s}makePost(e,t){const i=Ci(e),r=Ut.EMPTY_NODE.updateChild(this.indexPath_,i);return new nn(t,r)}maxPost(){const e=Ut.EMPTY_NODE.updateChild(this.indexPath_,vw);return new nn(Eo,e)}toString(){return mw(this.indexPath_,0).join("/")}}const ZR=new class sW extends rS{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Kl(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return nn.MIN}maxPost(){return nn.MAX}makePost(e,t){const i=Ci(e);return new nn(t,i)}toString(){return".value"}},q_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",oW=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const s=new Array(8);for(r=7;r>=0;r--)s[r]=q_.charAt(t%64),t=Math.floor(t/64);(0,N.hu)(0===t,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=q_.charAt(e[r]);return(0,N.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),uV=function(n){if(n===""+OR)return"-";const e=eS(n);if(null!=e)return""+(e+1);const t=new Array(n.length);for(let c=0;c<t.length;c++)t[c]=n.charAt(c);if(t.length<786)return t.push("-"),t.join("");let i=t.length-1;for(;i>=0&&"z"===t[i];)i--;if(-1===i)return Eo;const s=q_.charAt(q_.indexOf(t[i])+1);return t[i]=s,t.slice(0,i+1).join("")},dV=function(n){if(n===""+EB)return $r;const e=eS(n);if(null!=e)return""+(e-1);const t=new Array(n.length);for(let i=0;i<t.length;i++)t[i]=n.charAt(i);return"-"===t[t.length-1]?1===t.length?""+OR:(delete t[t.length-1],t.join("")):(t[t.length-1]=q_.charAt(q_.indexOf(t[t.length-1])-1),t.join("")+"z".repeat(786-t.length))};function hV(n){return{type:"value",snapshotNode:n}}function W_(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function bw(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ww(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class KR{constructor(e){this.index_=e}updateChild(e,t,i,r,s,c){(0,N.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(t);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?e.hasChild(t)?c.trackChildChange(bw(t,d)):(0,N.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(W_(t,i)):c.trackChildChange(ww(t,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(Kn,(r,s)=>{t.hasChild(r)||i.trackChildChange(bw(r,s))}),t.isLeafNode()||t.forEachChild(Kn,(r,s)=>{if(e.hasChild(r)){const c=e.getImmediateChild(r);c.equals(s)||i.trackChildChange(ww(r,s,c))}else i.trackChildChange(W_(r,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ut.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Cw{constructor(e){this.indexedFilter_=new KR(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Cw.getStartPost_(e),this.endPost_=Cw.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,i,r,s,c){return this.matches(new nn(t,i))||(i=Ut.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,s,c)}updateFullNode(e,t,i){t.isLeafNode()&&(t=Ut.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ut.EMPTY_NODE);const s=this;return t.forEachChild(Kn,(c,d)=>{s.matches(new nn(c,d))||(r=r.updateImmediateChild(c,Ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class lW{constructor(e){this.rangedFilter_=new Cw(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,i,r,s,c){return this.rangedFilter_.matches(new nn(t,i))||(i=Ut.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,s,c):this.fullLimitUpdateChild_(e,t,i,s,c)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=Ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let s;r=Ut.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=t.withIndex(this.index_),r=r.updatePriority(Ut.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const D=this.index_.getCompare();d=(x,O)=>D(O,x)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let y=0,C=!1;for(;p.hasNext();){const D=p.getNext();!C&&d(s,D)<=0&&(C=!0),C&&y<this.limit_&&d(D,c)<=0?y++:r=r.updateImmediateChild(D.name,Ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,s){let c;if(this.reverse_){const D=this.index_.getCompare();c=(x,O)=>D(O,x)}else c=this.index_.getCompare();const d=e;(0,N.hu)(d.numChildren()===this.limit_,"");const p=new nn(t,i),y=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),C=this.rangedFilter_.matches(p);if(d.hasChild(t)){const D=d.getImmediateChild(t);let x=r.getChildAfterChild(this.index_,y,this.reverse_);for(;null!=x&&(x.name===t||d.hasChild(x.name));)x=r.getChildAfterChild(this.index_,x,this.reverse_);const O=null==x?1:c(x,p);if(C&&!i.isEmpty()&&O>=0)return null!=s&&s.trackChildChange(ww(t,i,D)),d.updateImmediateChild(t,i);{null!=s&&s.trackChildChange(bw(t,D));const Z=d.updateImmediateChild(t,Ut.EMPTY_NODE);return null!=x&&this.rangedFilter_.matches(x)?(null!=s&&s.trackChildChange(W_(x.name,x.node)),Z.updateImmediateChild(x.name,x.node)):Z}}return i.isEmpty()?e:C&&c(y,p)>=0?(null!=s&&(s.trackChildChange(bw(y.name,y.node)),s.trackChildChange(W_(t,i))),d.updateImmediateChild(t,i).updateImmediateChild(y.name,Ut.EMPTY_NODE)):e}}class lS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$r}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Eo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kn}copy(){const e=new lS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QR(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function JR(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function cS(n,e){const t=n.copy();return t.index_=e,t}function fV(n){const e={};if(n.isDefault())return e;let t;return n.index_===Kn?t="$priority":n.index_===ZR?t="$value":n.index_===Zc?t="$key":((0,N.hu)(n.index_ instanceof WR,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,N.Pz)(t),n.startSet_&&(e.startAt=(0,N.Pz)(n.indexStartValue_),n.startNameSet_&&(e.startAt+=","+(0,N.Pz)(n.indexStartName_))),n.endSet_&&(e.endAt=(0,N.Pz)(n.indexEndValue_),n.endNameSet_&&(e.endAt+=","+(0,N.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function pV(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_)),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_)),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==Kn&&(e.i=n.index_.toString()),e}class uS extends ZB{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=$e("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,N.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const c=uS.getListenId_(e,i),d={};this.listens_[c]=d;const p=fV(e._queryParams);this.restRequest_(s+".json",p,(y,C)=>{let D=C;if(404===y&&(D=null,y=null),null===y&&this.onDataUpdate_(s,D,!1,i),(0,N.DV)(this.listens_,c)===d){let x;x=y?401===y?"permission_denied":"rest_error:"+y:"ok",r(x,null)}})}unlisten(e,t){const i=uS.getListenId_(e,t);delete this.listens_[i]}get(e){const t=fV(e._queryParams),i=e._path.toString(),r=new N.BH;return this.restRequest_(i+".json",t,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(t.auth=r.accessToken),s&&s.token&&(t.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,N.xO)(t);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,N.cI)(d.responseText)}catch(y){at("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&at("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class pW{constructor(){this.rootNode_=Ut.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function dS(){return{value:null,children:new Map}}function Z_(n,e,t){if(Jt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Qt(e);n.children.has(i)||n.children.set(i,dS()),Z_(n.children.get(i),e=Gn(e),t)}}function XR(n,e){if(Jt(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(Kn,(i,r)=>{Z_(n,new Mn(i),r)}),XR(n,e)}}if(n.children.size>0){const t=Qt(e);return e=Gn(e),n.children.has(t)&&XR(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function ek(n,e,t){null!==n.value?t(e,n.value):function gW(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{ek(r,new Mn(e.toString()+"/"+i),t)})}class mW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Oi(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class vW{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new mW(e);const i=1e4+2e4*Math.random();pw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Oi(e,(r,s)=>{s>0&&(0,N.r3)(this.statsToReport_,r)&&(t[r]=s,i=!0)}),i&&this.server_.reportStats(t),pw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rl=(()=>{return(n=rl||(rl={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",rl;var n})();function ik(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class hS{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=rl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Jt(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Mn(e));return new hS(Cn(),t,this.revert)}}return(0,N.hu)(Qt(this.path)===e,"operationForChild called for unrelated child."),new hS(Gn(this.path),this.affectedTree,this.revert)}}class Ew{constructor(e,t){this.source=e,this.path=t,this.type=rl.LISTEN_COMPLETE}operationForChild(e){return Jt(this.path)?new Ew(this.source,Cn()):new Ew(this.source,Gn(this.path))}}class Lp{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=rl.OVERWRITE}operationForChild(e){return Jt(this.path)?new Lp(this.source,Cn(),this.snap.getImmediateChild(e)):new Lp(this.source,Gn(this.path),this.snap)}}class Y_{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=rl.MERGE}operationForChild(e){if(Jt(this.path)){const t=this.children.subtree(new Mn(e));return t.isEmpty()?null:t.value?new Lp(this.source,Cn(),t.value):new Y_(this.source,Cn(),t)}return(0,N.hu)(Qt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Y_(this.source,Gn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Eh{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Jt(e))return this.isFullyInitialized()&&!this.filtered_;const t=Qt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class bW{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Dw(n,e,t,i,r,s){const c=i.filter(d=>d.type===t);c.sort((d,p)=>function EW(n,e,t){if(null==e.childName||null==t.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new nn(e.childName,e.snapshotNode),r=new nn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function CW(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,d,s);r.forEach(y=>{y.respondsTo(d.type)&&e.push(y.createEvent(p,n.query_))})})}function fS(n,e){return{eventCache:n,serverCache:e}}function Tw(n,e,t,i){return fS(new Eh(e,t,i),n.serverCache)}function mV(n,e,t,i){return fS(n.eventCache,new Eh(e,t,i))}function pS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Bp(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let rk;class Qn{constructor(e,t=(()=>(rk||(rk=new Do(hw)),rk))()){this.value=e,this.children=t}static fromObject(e){let t=new Qn(null);return Oi(e,(i,r)=>{t=t.set(new Mn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Cn(),value:this.value};if(Jt(e))return null;{const i=Qt(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Gn(e),t);return null!=s?{path:ui(new Mn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Jt(e))return this;{const t=Qt(e),i=this.children.get(t);return null!==i?i.subtree(Gn(e)):new Qn(null)}}set(e,t){if(Jt(e))return new Qn(t,this.children);{const i=Qt(e),s=(this.children.get(i)||new Qn(null)).set(Gn(e),t),c=this.children.insert(i,s);return new Qn(this.value,c)}}remove(e){if(Jt(e))return this.children.isEmpty()?new Qn(null):new Qn(null,this.children);{const t=Qt(e),i=this.children.get(t);if(i){const r=i.remove(Gn(e));let s;return s=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&s.isEmpty()?new Qn(null):new Qn(this.value,s)}return this}}get(e){if(Jt(e))return this.value;{const t=Qt(e),i=this.children.get(t);return i?i.get(Gn(e)):null}}setTree(e,t){if(Jt(e))return t;{const i=Qt(e),s=(this.children.get(i)||new Qn(null)).setTree(Gn(e),t);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new Qn(this.value,c)}}fold(e){return this.fold_(Cn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ui(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Cn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Jt(e))return null;{const s=Qt(e),c=this.children.get(s);return c?c.findOnPath_(Gn(e),ui(t,s),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Cn(),t)}foreachOnPath_(e,t,i){if(Jt(e))return this;{this.value&&i(t,this.value);const r=Qt(e),s=this.children.get(r);return s?s.foreachOnPath_(Gn(e),ui(t,r),i):new Qn(null)}}foreach(e){this.foreach_(Cn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(ui(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Jl{constructor(e){this.writeTree_=e}static empty(){return new Jl(new Qn(null))}}function Sw(n,e,t){if(Jt(e))return new Jl(new Qn(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const c=zs(r,e);return s=s.updateChild(c,t),new Jl(n.writeTree_.set(r,s))}{const r=new Qn(t),s=n.writeTree_.setTree(e,r);return new Jl(s)}}}function sk(n,e,t){let i=n;return Oi(t,(r,s)=>{i=Sw(i,ui(e,r),s)}),i}function _V(n,e){if(Jt(e))return Jl.empty();{const t=n.writeTree_.setTree(e,new Qn(null));return new Jl(t)}}function ok(n,e){return null!=Vp(n,e)}function Vp(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(zs(t.path,e)):null}function yV(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Kn,(i,r)=>{e.push(new nn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new nn(i,r.value))}),e}function Dh(n,e){if(Jt(e))return n;{const t=Vp(n,e);return new Jl(null!=t?new Qn(t):n.writeTree_.subtree(e))}}function ak(n){return n.writeTree_.isEmpty()}function K_(n,e){return vV(Cn(),n.writeTree_,e)}function vV(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,N.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):t=vV(ui(n,r),s,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(ui(n,".priority"),i)),t}}function gS(n,e){return DV(e,n)}function MW(n,e){if(n.snap)return il(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&il(ui(n.path,t),e))return!0;return!1}function RW(n){return n.visible}function bV(n,e,t){let i=Jl.empty();for(let r=0;r<n.length;++r){const s=n[r];if(e(s)){const c=s.path;let d;if(s.snap)il(t,c)?(d=zs(t,c),i=Sw(i,d,s.snap)):il(c,t)&&(d=zs(c,t),i=Sw(i,Cn(),s.snap.getChild(d)));else{if(!s.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(il(t,c))d=zs(t,c),i=sk(i,d,s.children);else if(il(c,t))if(d=zs(c,t),Jt(d))i=sk(i,Cn(),s.children);else{const p=(0,N.DV)(s.children,Qt(d));if(p){const y=p.getChild(Gn(d));i=Sw(i,Cn(),y)}}}}}return i}function wV(n,e,t,i,r){if(i||r){const s=Dh(n.visibleWrites,e);return!r&&ak(s)?t:r||null!=t||ok(s,Cn())?K_(bV(n.allWrites,function(y){return(y.visible||r)&&(!i||!~i.indexOf(y.writeId))&&(il(y.path,e)||il(e,y.path))},e),t||Ut.EMPTY_NODE):null}{const s=Vp(n.visibleWrites,e);if(null!=s)return s;{const c=Dh(n.visibleWrites,e);return ak(c)?t:null!=t||ok(c,Cn())?K_(c,t||Ut.EMPTY_NODE):null}}}function mS(n,e,t,i){return wV(n.writeTree,n.treePath,e,t,i)}function lk(n,e){return function kW(n,e,t){let i=Ut.EMPTY_NODE;const r=Vp(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Kn,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(t){const s=Dh(n.visibleWrites,e);return t.forEachChild(Kn,(c,d)=>{const p=K_(Dh(s,new Mn(c)),d);i=i.updateImmediateChild(c,p)}),yV(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return yV(Dh(n.visibleWrites,e)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,e)}function CV(n,e,t,i){return function OW(n,e,t,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=ui(e,t);if(ok(n.visibleWrites,s))return null;{const c=Dh(n.visibleWrites,s);return ak(c)?r.getChild(t):K_(c,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function _S(n,e){return function NW(n,e){return Vp(n.visibleWrites,e)}(n.writeTree,ui(n.treePath,e))}function ck(n,e,t){return function PW(n,e,t,i){const r=ui(e,t),s=Vp(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(t)?K_(Dh(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function EV(n,e){return DV(ui(n.treePath,e),n.writeTree)}function DV(n,e){return{treePath:n,writeTree:e}}class VW{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,N.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(i,ww(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(i,bw(i,r.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(i,W_(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw(0,N.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,ww(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const TV=new class UW{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class uk{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Eh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ck(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Bp(this.viewCache_),s=function BW(n,e,t,i,r,s){return function FW(n,e,t,i,r,s,c){let d;const p=Dh(n.visibleWrites,e),y=Vp(p,Cn());if(null!=y)d=y;else{if(null==t)return[];d=K_(p,t)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const C=[],D=c.getCompare(),x=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let O=x.getNext();for(;O&&C.length<r;)0!==D(O,i)&&C.push(O),O=x.getNext();return C}}(n.writeTree,n.treePath,e,t,i,r,s)}(this.writes_,r,t,1,i,e);return 0===s.length?null:s[0]}}function SV(n,e,t,i,r,s){const c=e.eventCache;if(null!=_S(i,t))return e;{let d,p;if(Jt(t))if((0,N.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=Bp(e),D=lk(i,y instanceof Ut?y:Ut.EMPTY_NODE);d=n.filter.updateFullNode(e.eventCache.getNode(),D,s)}else{const y=mS(i,Bp(e));d=n.filter.updateFullNode(e.eventCache.getNode(),y,s)}else{const y=Qt(t);if(".priority"===y){(0,N.hu)(1===Ch(t),"Can't have a priority with additional path components");const C=c.getNode();p=e.serverCache.getNode();const D=CV(i,t,C,p);d=null!=D?n.filter.updatePriority(C,D):c.getNode()}else{const C=Gn(t);let D;if(c.isCompleteForChild(y)){p=e.serverCache.getNode();const x=CV(i,t,c.getNode(),p);D=null!=x?c.getNode().getImmediateChild(y).updateChild(C,x):c.getNode().getImmediateChild(y)}else D=ck(i,y,e.serverCache);d=null!=D?n.filter.updateChild(c.getNode(),y,D,C,r,s):c.getNode()}}return Tw(e,d,c.isFullyInitialized()||Jt(t),n.filter.filtersNodes())}}function yS(n,e,t,i,r,s,c,d){const p=e.serverCache;let y;const C=c?n.filter:n.filter.getIndexedFilter();if(Jt(t))y=C.updateFullNode(p.getNode(),i,null);else if(C.filtersNodes()&&!p.isFiltered()){const O=p.getNode().updateChild(t,i);y=C.updateFullNode(p.getNode(),O,null)}else{const O=Qt(t);if(!p.isCompleteForPath(t)&&Ch(t)>1)return e;const L=Gn(t),ae=p.getNode().getImmediateChild(O).updateChild(L,i);y=".priority"===O?C.updatePriority(p.getNode(),ae):C.updateChild(p.getNode(),O,ae,L,TV,null)}const D=mV(e,y,p.isFullyInitialized()||Jt(t),C.filtersNodes());return SV(n,D,t,r,new uk(r,D,s),d)}function dk(n,e,t,i,r,s,c){const d=e.eventCache;let p,y;const C=new uk(r,e,s);if(Jt(t))y=n.filter.updateFullNode(e.eventCache.getNode(),i,c),p=Tw(e,y,!0,n.filter.filtersNodes());else{const D=Qt(t);if(".priority"===D)y=n.filter.updatePriority(e.eventCache.getNode(),i),p=Tw(e,y,d.isFullyInitialized(),d.isFiltered());else{const x=Gn(t),O=d.getNode().getImmediateChild(D);let L;if(Jt(x))L=i;else{const Z=C.getCompleteChild(D);L=null!=Z?".priority"===HR(x)&&Z.getChild(JB(x)).isEmpty()?Z:Z.updateChild(x,i):Ut.EMPTY_NODE}p=O.equals(L)?e:Tw(e,n.filter.updateChild(d.getNode(),D,L,x,C,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function IV(n,e){return n.eventCache.isCompleteForChild(e)}function AV(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function hk(n,e,t,i,r,s,c,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let y,p=e;y=Jt(t)?i:new Qn(null).setTree(t,i);const C=e.serverCache.getNode();return y.children.inorderTraversal((D,x)=>{if(C.hasChild(D)){const L=AV(0,e.serverCache.getNode().getImmediateChild(D),x);p=yS(n,p,new Mn(D),L,r,s,c,d)}}),y.children.inorderTraversal((D,x)=>{const O=!e.serverCache.isCompleteForChild(D)&&void 0===x.value;if(!C.hasChild(D)&&!O){const Z=AV(0,e.serverCache.getNode().getImmediateChild(D),x);p=yS(n,p,new Mn(D),Z,r,s,c,d)}}),p}class YW{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new KR(i.getIndex()),s=function cW(n){return n.loadsAllData()?new KR(n.getIndex()):n.hasLimit()?new lW(n):new Cw(n)}(i);this.processor_=function HW(n){return{filter:n}}(s);const c=t.serverCache,d=t.eventCache,p=r.updateFullNode(Ut.EMPTY_NODE,c.getNode(),null),y=s.updateFullNode(Ut.EMPTY_NODE,d.getNode(),null),C=new Eh(p,c.isFullyInitialized(),r.filtersNodes()),D=new Eh(y,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=fS(D,C),this.eventGenerator_=new bW(this.query_)}get query(){return this.query_}}function JW(n,e){const t=Bp(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Jt(e)&&!t.getImmediateChild(Qt(e)).isEmpty())?t.getChild(e):null}function MV(n){return 0===n.eventRegistrations_.length}function xV(n,e,t){const i=[];if(t){(0,N.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(t,r);c&&i.push(c)})}if(e){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function RV(n,e,t,i){e.type===rl.MERGE&&null!==e.source.queryId&&((0,N.hu)(Bp(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(pS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function GW(n,e,t,i,r){const s=new VW;let c,d;if(t.type===rl.OVERWRITE){const y=t;y.source.fromUser?c=dk(n,e,y.path,y.snap,i,r,s):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||e.serverCache.isFiltered()&&!Jt(y.path),c=yS(n,e,y.path,y.snap,i,r,d,s))}else if(t.type===rl.MERGE){const y=t;y.source.fromUser?c=function $W(n,e,t,i,r,s,c){let d=e;return i.foreach((p,y)=>{const C=ui(t,p);IV(e,Qt(C))&&(d=dk(n,d,C,y,r,s,c))}),i.foreach((p,y)=>{const C=ui(t,p);IV(e,Qt(C))||(d=dk(n,d,C,y,r,s,c))}),d}(n,e,y.path,y.children,i,r,s):((0,N.hu)(y.source.fromServer,"Unknown source."),d=y.source.tagged||e.serverCache.isFiltered(),c=hk(n,e,y.path,y.children,i,r,d,s))}else if(t.type===rl.ACK_USER_WRITE){const y=t;c=y.revert?function ZW(n,e,t,i,r,s){let c;if(null!=_S(i,t))return e;{const d=new uk(i,e,r),p=e.eventCache.getNode();let y;if(Jt(t)||".priority"===Qt(t)){let C;if(e.serverCache.isFullyInitialized())C=mS(i,Bp(e));else{const D=e.serverCache.getNode();(0,N.hu)(D instanceof Ut,"serverChildren would be complete if leaf node"),C=lk(i,D)}C=C,y=n.filter.updateFullNode(p,C,s)}else{const C=Qt(t);let D=ck(i,C,e.serverCache);null==D&&e.serverCache.isCompleteForChild(C)&&(D=p.getImmediateChild(C)),y=null!=D?n.filter.updateChild(p,C,D,Gn(t),d,s):e.eventCache.getNode().hasChild(C)?n.filter.updateChild(p,C,Ut.EMPTY_NODE,Gn(t),d,s):p,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(c=mS(i,Bp(e)),c.isLeafNode()&&(y=n.filter.updateFullNode(y,c,s)))}return c=e.serverCache.isFullyInitialized()||null!=_S(i,Cn()),Tw(e,y,c,n.filter.filtersNodes())}}(n,e,y.path,i,r,s):function qW(n,e,t,i,r,s,c){if(null!=_S(r,t))return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(Jt(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return yS(n,e,t,p.getNode().getChild(t),r,s,d,c);if(Jt(t)){let y=new Qn(null);return p.getNode().forEachChild(Zc,(C,D)=>{y=y.set(new Mn(C),D)}),hk(n,e,t,y,r,s,d,c)}return e}{let y=new Qn(null);return i.foreach((C,D)=>{const x=ui(t,C);p.isCompleteForPath(x)&&(y=y.set(C,p.getNode().getChild(x)))}),hk(n,e,t,y,r,s,d,c)}}(n,e,y.path,y.affectedTree,i,r,s)}else{if(t.type!==rl.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+t.type);c=function WW(n,e,t,i,r){const s=e.serverCache;return SV(n,mV(e,s.getNode(),s.isFullyInitialized()||Jt(t),s.isFiltered()),t,i,TV,r)}(n,e,t.path,i,s)}const p=s.getChanges();return function zW(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=pS(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&t.push(hV(pS(e)))}}(e,c,p),{viewCache:c,changes:p}}(n.processor_,r,e,t,i);return function jW(n,e){(0,N.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,N.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,kV(n,s.changes,s.viewCache.eventCache.getNode(),null)}function kV(n,e,t,i){return function wW(n,e,t,i){const r=[],s=[];return e.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function aW(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(c.childName,c.snapshotNode))}),Dw(n,r,"child_removed",e,i,t),Dw(n,r,"child_added",e,i,t),Dw(n,r,"child_moved",s,i,t),Dw(n,r,"child_changed",e,i,t),Dw(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let vS,wS;class OV{constructor(){this.views=new Map}}function fk(n,e,t,i){const r=e.source.queryId;if(null!==r){const s=n.views.get(r);return(0,N.hu)(null!=s,"SyncTree gave us an op for an invalid query."),RV(s,e,t,i)}{let s=[];for(const c of n.views.values())s=s.concat(RV(c,e,t,i));return s}}function PV(n,e,t,i,r){const c=n.views.get(e._queryIdentifier);if(!c){let d=mS(t,r?i:null),p=!1;d?p=!0:i instanceof Ut?(d=lk(t,i),p=!1):(d=Ut.EMPTY_NODE,p=!1);const y=fS(new Eh(d,p,!1),new Eh(i,r,!1));return new YW(e,y)}return c}function NV(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function Th(n,e){let t=null;for(const i of n.views.values())t=t||JW(i,e);return t}function FV(n,e){return e._queryParams.loadsAllData()?bS(n):n.views.get(e._queryIdentifier)}function LV(n,e){return null!=FV(n,e)}function Sh(n){return null!=bS(n)}function bS(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let c4=1;class BV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Qn(null),this.pendingWriteTree_=function LW(){return{visibleWrites:Jl.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function pk(n,e,t,i,r){return function TW(n,e,t,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=Sw(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?Q_(n,new Lp({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Ih(n,e,t=!1){const i=function IW(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function AW(n,e){const t=n.allWrites.findIndex(d=>d.writeId===e);(0,N.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=t&&MW(d,i.path)?r=!1:il(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function xW(n){n.visibleWrites=bV(n.allWrites,RW,Cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=_V(n.visibleWrites,i.path):Oi(i.children,p=>{n.visibleWrites=_V(n.visibleWrites,ui(i.path,p))}),!0))}(n.pendingWriteTree_,e)){let s=new Qn(null);return null!=i.snap?s=s.set(Cn(),!0):Oi(i.children,c=>{s=s.set(new Mn(c),!0)}),Q_(n,new hS(i.path,s,t))}return[]}function Iw(n,e,t){return Q_(n,new Lp({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function gk(n,e,t,i){const r=e._path,s=n.syncPointTree_.get(r);let c=[];if(s&&("default"===e._queryIdentifier||LV(s,e))){const d=function o4(n,e,t,i){const r=e._queryIdentifier,s=[];let c=[];const d=Sh(n);if("default"===r)for(const[p,y]of n.views.entries())c=c.concat(xV(y,t,i)),MV(y)&&(n.views.delete(p),y.query._queryParams.loadsAllData()||s.push(y.query));else{const p=n.views.get(r);p&&(c=c.concat(xV(p,t,i)),MV(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!Sh(n)&&s.push(new(function n4(){return(0,N.hu)(vS,"Reference.ts has not been loaded"),vS}())(e._repo,e._path)),{removed:s,events:c}}(s,e,t,i);(function r4(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const p=d.removed;c=d.events;const y=-1!==p.findIndex(D=>D._queryParams.loadsAllData()),C=n.syncPointTree_.findOnPath(r,(D,x)=>Sh(x));if(y&&!C){const D=n.syncPointTree_.subtree(r);if(!D.isEmpty()){const x=function _4(n){return n.fold((e,t,i)=>{if(t&&Sh(t))return[bS(t)];{let r=[];return t&&(r=NV(t)),Oi(i,(s,c)=>{r=r.concat(c)}),r}})}(D);for(let O=0;O<x.length;++O){const L=x[O],Z=L.query,ae=jV(n,L);n.listenProvider_.startListening(Aw(Z),ES(n,Z),ae.hashFn,ae.onComplete)}}}!C&&p.length>0&&!i&&(y?n.listenProvider_.stopListening(Aw(e),null):p.forEach(D=>{const x=n.queryToTagMap.get(DS(D));n.listenProvider_.stopListening(Aw(D),x)})),function y4(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=DS(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,p)}return c}function VV(n,e,t){const i=e._path;let r=null,s=!1;n.syncPointTree_.foreachOnPath(i,(D,x)=>{const O=zs(D,i);r=r||Th(x,O),s=s||Sh(x)});let d,c=n.syncPointTree_.get(i);c?(s=s||Sh(c),r=r||Th(c,Cn())):(c=new OV,n.syncPointTree_=n.syncPointTree_.set(i,c)),null!=r?d=!0:(d=!1,r=Ut.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((x,O)=>{const L=Th(O,Cn());L&&(r=r.updateImmediateChild(x,L))}));const p=LV(c,e);if(!p&&!e._queryParams.loadsAllData()){const D=DS(e);(0,N.hu)(!n.queryToTagMap.has(D),"View does not exist, but we have a tag");const x=function v4(){return c4++}();n.queryToTagMap.set(D,x),n.tagToQueryMap.set(x,D)}let C=function s4(n,e,t,i,r,s){const c=PV(n,e,i,r,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,c),function XW(n,e){n.eventRegistrations_.push(e)}(c,t),function e4(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(Kn,(s,c)=>{i.push(W_(s,c))}),t.isFullyInitialized()&&i.push(hV(t.getNode())),kV(n,i,t.getNode(),e)}(c,t)}(c,e,t,gS(n.pendingWriteTree_,i),r,d);if(!p&&!s){const D=FV(c,e);C=C.concat(function b4(n,e,t){const i=e._path,r=ES(n,e),s=jV(n,t),c=n.listenProvider_.startListening(Aw(e),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!Sh(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((y,C,D)=>{if(!Jt(y)&&C&&Sh(C))return[bS(C).query];{let x=[];return C&&(x=x.concat(NV(C).map(O=>O.query))),Oi(D,(O,L)=>{x=x.concat(L)}),x}});for(let y=0;y<p.length;++y){const C=p[y];n.listenProvider_.stopListening(Aw(C),ES(n,C))}}return c}(n,e,D))}return C}function CS(n,e,t){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(c,d)=>{const y=Th(d,zs(c,e));if(y)return y});return wV(r,e,s,t,!0)}function Q_(n,e){return UV(e,n.syncPointTree_,null,gS(n.pendingWriteTree_,Cn()))}function UV(n,e,t,i){if(Jt(n.path))return HV(n,e,t,i);{const r=e.get(Cn());null==t&&null!=r&&(t=Th(r,Cn()));let s=[];const c=Qt(n.path),d=n.operationForChild(c),p=e.children.get(c);if(p&&d){const y=t?t.getImmediateChild(c):null,C=EV(i,c);s=s.concat(UV(d,p,y,C))}return r&&(s=s.concat(fk(r,n,i,t))),s}}function HV(n,e,t,i){const r=e.get(Cn());null==t&&null!=r&&(t=Th(r,Cn()));let s=[];return e.children.inorderTraversal((c,d)=>{const p=t?t.getImmediateChild(c):null,y=EV(i,c),C=n.operationForChild(c);C&&(s=s.concat(HV(C,d,p,y)))}),r&&(s=s.concat(fk(r,n,i,t))),s}function jV(n,e){const t=e.query,i=ES(n,t);return{hashFn:()=>(function KW(n){return n.viewCache_.serverCache.getNode()}(e)||Ut.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function f4(n,e,t){const i=mk(n,t);if(i){const r=_k(i),s=r.path,c=r.queryId,d=zs(s,e);return yk(n,s,new Ew(ik(c),d))}return[]}(n,t._path,i):function h4(n,e){return Q_(n,new Ew({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const s=function u6(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return gk(n,t,null,s)}}}}function ES(n,e){const t=DS(e);return n.queryToTagMap.get(t)}function DS(n){return n._path.toString()+"$"+n._queryIdentifier}function mk(n,e){return n.tagToQueryMap.get(e)}function _k(n){const e=n.indexOf("$");return(0,N.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Mn(n.substr(0,e))}}function yk(n,e,t){const i=n.syncPointTree_.get(e);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),fk(i,t,gS(n.pendingWriteTree_,e),null)}function Aw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function l4(){return(0,N.hu)(wS,"Reference.ts has not been loaded"),wS}())(n._repo,n._path):n}class vk{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new vk(t)}node(){return this.node_}}class bk{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ui(this.path_,e);return new bk(this.syncTree_,t)}node(){return CS(this.syncTree_,this.path_)}}const GV=function(n,e,t){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?C4(n[".sv"],e,t):"object"==typeof n[".sv"]?E4(n[".sv"],e):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},C4=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},E4=function(n,e,t){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,N.hu)(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},zV=function(n,e,t,i){return Ck(e,new bk(t,n),i)},wk=function(n,e,t){return Ck(n,new vk(e),t)};function Ck(n,e,t){const i=n.getPriority().val(),r=GV(i,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const c=n,d=GV(c.getValue(),e,t);return d!==c.getValue()||r!==c.getPriority().val()?new z_(d,Ci(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new z_(r))),c.forEachChild(Kn,(d,p)=>{const y=Ck(p,e.getImmediateChild(d),t);y!==p&&(s=s.updateImmediateChild(d,y))}),s}}class Ek{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function TS(n,e){let t=e instanceof Mn?e:new Mn(e),i=n,r=Qt(t);for(;null!==r;){const s=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new Ek(r,i,s),t=Gn(t),r=Qt(t)}return i}function Up(n){return n.node.value}function Dk(n,e){n.node.value=e,Tk(n)}function $V(n){return n.node.childCount>0}function SS(n,e){Oi(n.node.children,(t,i)=>{e(new Ek(t,n,i))})}function qV(n,e,t,i){t&&!i&&e(n),SS(n,r=>{qV(r,e,!0,i)}),t&&i&&e(n)}function Mw(n){return new Mn(null===n.parent?n.name:Mw(n.parent)+"/"+n.name)}function Tk(n){null!==n.parent&&function S4(n,e,t){const i=function D4(n){return void 0===Up(n)&&!$V(n)}(t),r=(0,N.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,Tk(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,Tk(n))}(n.parent,n.name,n)}const I4=/[\[\].#$\/\u0000-\u001F\u007F]/,A4=/[\[\].#$\u0000-\u001F\u007F]/,Sk=10485760,IS=function(n){return"string"==typeof n&&0!==n.length&&!I4.test(n)},WV=function(n){return"string"==typeof n&&0!==n.length&&!A4.test(n)},xw=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!an(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},Yc=function(n,e,t,i){i&&void 0===e||Rw((0,N.gK)(n,"value"),e,t)},Rw=function(n,e,t){const i=t instanceof Mn?new H6(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Np(i));if("function"==typeof e)throw new Error(n+"contains a function "+Np(i)+" with contents = "+e.toString());if(an(e))throw new Error(n+"contains "+e.toString()+" "+Np(i));if("string"==typeof e&&e.length>Sk/3&&(0,N.ug)(e)>Sk)throw new Error(n+"contains a string greater than "+Sk+" utf8 bytes "+Np(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Oi(e,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!IS(c)))throw new Error(n+" contains an invalid key ("+c+") "+Np(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function j6(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,N.ug)(e),XB(n)})(i,c),Rw(n,d,i),function G6(n){const e=n.parts_.pop();n.byteLength_-=(0,N.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Np(i)+" in addition to actual children.")}},ZV=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,N.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const s=[];Oi(e,(c,d)=>{const p=new Mn(c);if(Rw(r,d,ui(t,p)),".priority"===HR(p)&&!xw(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const s=mw(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!IS(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(U6);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&il(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},Ik=function(n,e,t){if(!t||void 0!==e){if(an(e))throw new Error((0,N.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xw(e))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},kw=function(n,e,t,i){if(!(i&&void 0===t||IS(t)))throw new Error((0,N.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ow=function(n,e,t,i){if(!(i&&void 0===t||WV(t)))throw new Error((0,N.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sl=function(n,e){if(".info"===Qt(e))throw new Error(n+" failed = Can't modify data under /.info/")},YV=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!IS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),WV(n)}(t))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class k4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function AS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==t&&!jR(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(r)}t&&n.eventLists_.push(t)}function Ak(n,e,t){AS(n,t),KV(n,i=>jR(i,e))}function ol(n,e,t){AS(n,t),KV(n,i=>il(i,e)||il(e,i))}function KV(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(O4(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function O4(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();j&&Re("event: "+t.toString()),j_(i)}}}const QV="repo_interrupt";class N4{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new k4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=dS(),this.transactionQueueTree_=new Ek,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JV(n){const t=n.infoData_.getNode(new Mn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Pw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:JV(n)})}function XV(n,e,t,i,r){n.dataUpdateCount++;const s=new Mn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let c=[];if(r)if(i){const p=(0,N.UI)(t,y=>Ci(y));c=function g4(n,e,t,i){const r=mk(n,i);if(r){const s=_k(r),c=s.path,d=s.queryId,p=zs(c,e),y=Qn.fromObject(t);return yk(n,c,new Y_(ik(d),p,y))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Ci(t);c=function p4(n,e,t,i){const r=mk(n,i);if(null!=r){const s=_k(r),c=s.path,d=s.queryId,p=zs(c,e);return yk(n,c,new Lp(ik(d),p,t))}return[]}(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,N.UI)(t,y=>Ci(y));c=function d4(n,e,t){const i=Qn.fromObject(t);return Q_(n,new Y_({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,s,p)}else{const p=Ci(t);c=Iw(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=X_(n,s)),ol(n.eventQueue_,d,c)}function eU(n,e){Mk(n,"connected",e),!1===e&&function U4(n){J_(n,"onDisconnectEvents");const e=Pw(n),t=dS();ek(n.onDisconnect_,Cn(),(r,s)=>{const c=zV(r,s,n.serverSyncTree_,e);Z_(t,r,c)});let i=[];ek(t,Cn(),(r,s)=>{i=i.concat(Iw(n.serverSyncTree_,r,s));const c=Ok(n,r);X_(n,c)}),n.onDisconnect_=dS(),ol(n.eventQueue_,Cn(),i)}(n)}function Mk(n,e,t){const i=new Mn("/.info/"+e),r=Ci(t);n.infoData_.updateSnapshot(i,r);const s=Iw(n.infoSyncTree_,i,r);ol(n.eventQueue_,i,s)}function MS(n){return n.nextWriteId_++}function xk(n,e,t,i,r){J_(n,"set",{path:e.toString(),value:t,priority:i});const s=Pw(n),c=Ci(t,i),d=CS(n.serverSyncTree_,e),p=wk(c,d,s),y=MS(n),C=pk(n.serverSyncTree_,e,p,y,!0);AS(n.eventQueue_,C),n.server_.put(e.toString(),c.val(!0),(x,O)=>{const L="ok"===x;L||at("set at "+e+" failed: "+x);const Z=Ih(n.serverSyncTree_,y,!L);ol(n.eventQueue_,e,Z),Ah(0,r,x,O)});const D=Ok(n,e);X_(n,D),ol(n.eventQueue_,D,[])}function H4(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&XR(n.onDisconnect_,e),Ah(0,t,i,r)})}function tU(n,e,t,i){const r=Ci(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(s,c)=>{"ok"===s&&Z_(n.onDisconnect_,e,r),Ah(0,i,s,c)})}function Rk(n,e,t){let i;i=".info"===Qt(e._path)?gk(n.infoSyncTree_,e,t):gk(n.serverSyncTree_,e,t),Ak(n.eventQueue_,e._path,i)}function nU(n){n.persistentConnection_&&n.persistentConnection_.interrupt(QV)}function J_(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Re(t,...e)}function Ah(n,e,t,i){e&&j_(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,e(c)}})}function kk(n,e,t){return CS(n.serverSyncTree_,e,t)||Ut.EMPTY_NODE}function xS(n,e=n.transactionQueueTree_){if(e||RS(n,e),Up(e)){const t=rU(n,e);(0,N.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function W4(n,e,t){const i=t.map(y=>y.currentWriteId),r=kk(n,e,i);let s=r;const c=r.hash();for(let y=0;y<t.length;y++){const C=t[y];(0,N.hu)(0===C.status,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const D=zs(e,C.path);s=s.updateChild(D,C.currentOutputSnapshotRaw)}const d=s.val(!0),p=e;n.server_.put(p.toString(),d,y=>{J_(n,"transaction put response",{path:p.toString(),status:y});let C=[];if("ok"===y){const D=[];for(let x=0;x<t.length;x++)t[x].status=2,C=C.concat(Ih(n.serverSyncTree_,t[x].currentWriteId)),t[x].onComplete&&D.push(()=>t[x].onComplete(null,!0,t[x].currentOutputSnapshotResolved)),t[x].unwatcher();RS(n,TS(n.transactionQueueTree_,e)),xS(n,n.transactionQueueTree_),ol(n.eventQueue_,e,C);for(let x=0;x<D.length;x++)j_(D[x])}else{if("datastale"===y)for(let D=0;D<t.length;D++)t[D].status=3===t[D].status?4:0;else{at("transaction at "+p.toString()+" failed: "+y);for(let D=0;D<t.length;D++)t[D].status=4,t[D].abortReason=y}X_(n,e)}},c)}(n,Mw(e),t)}else $V(e)&&SS(e,t=>{xS(n,t)})}function X_(n,e){const t=iU(n,e),i=Mw(t);return function Z4(n,e,t){if(0===e.length)return;const i=[];let r=[];const c=e.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],y=zs(t,p.path);let D,C=!1;if((0,N.hu)(null!==y,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)C=!0,D=p.abortReason,r=r.concat(Ih(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)C=!0,D="maxretry",r=r.concat(Ih(n.serverSyncTree_,p.currentWriteId,!0));else{const x=kk(n,p.path,c);p.currentInputSnapshot=x;const O=e[d].update(x.val());if(void 0!==O){Rw("transaction failed: Data returned ",O,p.path);let L=Ci(O);"object"==typeof O&&null!=O&&(0,N.r3)(O,".priority")||(L=L.updatePriority(x.getPriority()));const ae=p.currentWriteId,Le=Pw(n),We=wk(L,x,Le);p.currentOutputSnapshotRaw=L,p.currentOutputSnapshotResolved=We,p.currentWriteId=MS(n),c.splice(c.indexOf(ae),1),r=r.concat(pk(n.serverSyncTree_,p.path,We,p.currentWriteId,p.applyLocally)),r=r.concat(Ih(n.serverSyncTree_,ae,!0))}else C=!0,D="nodata",r=r.concat(Ih(n.serverSyncTree_,p.currentWriteId,!0))}ol(n.eventQueue_,t,r),r=[],C&&(e[d].status=2,setTimeout(e[d].unwatcher,Math.floor(0)),e[d].onComplete&&i.push("nodata"===D?()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot):()=>e[d].onComplete(new Error(D),!1,null)))}RS(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)j_(i[d]);xS(n,n.transactionQueueTree_)}(n,rU(n,t),i),i}function iU(n,e){let t,i=n.transactionQueueTree_;for(t=Qt(e);null!==t&&void 0===Up(i);)i=TS(i,t),t=Qt(e=Gn(e));return i}function rU(n,e){const t=[];return sU(n,e,t),t.sort((i,r)=>i.order-r.order),t}function sU(n,e,t){const i=Up(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);SS(e,r=>{sU(n,r,t)})}function RS(n,e){const t=Up(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,Dk(e,t.length>0?t:void 0)}SS(e,i=>{RS(n,i)})}function Ok(n,e){const t=Mw(iU(n,e)),i=TS(n.transactionQueueTree_,e);return function T4(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{Pk(n,r)}),Pk(n,i),qV(i,r=>{Pk(n,r)}),t}function Pk(n,e){const t=Up(e);if(t){const i=[];let r=[],s=-1;for(let c=0;c<t.length;c++)3===t[c].status||(1===t[c].status?((0,N.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,t[c].status=3,t[c].abortReason="set"):((0,N.hu)(0===t[c].status,"Unexpected transaction status in abort"),t[c].unwatcher(),r=r.concat(Ih(n.serverSyncTree_,t[c].currentWriteId,!0)),t[c].onComplete&&i.push(t[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Dk(e,void 0):t.length=s+1,ol(n.eventQueue_,Mw(e),r);for(let c=0;c<i.length;c++)j_(i[c])}}const Nk=function(n,e){const t=Q4(n),i=t.namespace;return"firebase.com"===t.domain&&Te(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Te("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&at("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new NR(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Mn(t.pathString)}},Q4=function(n){let e="",t="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let y=n.indexOf("//");y>=0&&(d=n.substring(0,y-1),n=n.substring(y+2));let C=n.indexOf("/");-1===C&&(C=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),e=n.substring(0,Math.min(C,D)),C<D&&(r=function Y4(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(s){}e+="/"+r}return e}(n.substring(C,D)));const x=function K4(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):at(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,D)));y=e.indexOf(":"),y>=0?(c="https"===d||"wss"===d,p=parseInt(e.substring(y+1),10)):y=e.length;const O=e.slice(0,y);if("localhost"===O.toLowerCase())t="localhost";else if(O.split(".").length<=2)t=O;else{const L=e.indexOf(".");i=e.substring(0,L).toLowerCase(),t=e.substring(L+1),s=i}"ns"in x&&(s=x.ns)}return{host:e,port:p,domain:t,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class oU{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Pz)(this.snapshot.exportVal())}}class aU{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class lU{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class cU{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new N.BH;return H4(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){sl("OnDisconnect.remove",this._path);const e=new N.BH;return tU(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){sl("OnDisconnect.set",this._path),Yc("OnDisconnect.set",e,this._path,!1);const t=new N.BH;return tU(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){sl("OnDisconnect.setWithPriority",this._path),Yc("OnDisconnect.setWithPriority",e,this._path,!1),Ik("OnDisconnect.setWithPriority",t,!1);const i=new N.BH;return function j4(n,e,t,i,r){const s=Ci(t,i);n.server_.onDisconnectPut(e.toString(),s.val(!0),(c,d)=>{"ok"===c&&Z_(n.onDisconnect_,e,s),Ah(0,r,c,d)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){sl("OnDisconnect.update",this._path),ZV("OnDisconnect.update",e,this._path,!1);const t=new N.BH;return function G4(n,e,t,i){if((0,N.xb)(t))return Re("onDisconnect().update() called with empty data.  Don't do anything."),void Ah(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,s)=>{"ok"===r&&Oi(t,(c,d)=>{const p=Ci(d);Z_(n.onDisconnect_,ui(e,c),p)}),Ah(0,i,r,s)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class To{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Jt(this._path)?null:HR(this._path)}get ref(){return new al(this._repo,this._path)}get _queryIdentifier(){const e=pV(this._queryParams),t=Pp(e);return"{}"===t?"default":t}get _queryObject(){return pV(this._queryParams)}isEqual(e){if(!((e=(0,N.m9)(e))instanceof To))return!1;const t=this._repo===e._repo,i=jR(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function V6(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function kS(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Mh(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Zc){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==$r)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==Eo)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===Kn){if(null!=e&&!xw(e)||null!=t&&!xw(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof WR||n.getIndex()===ZR,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function OS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class al extends To{constructor(e,t){super(e,t,new lS,!1)}get parent(){const e=JB(this._path);return null===e?null:new al(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Hp{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Mn(e),i=jp(this.ref,e);return new Hp(this._node.getChild(t),i,Kn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Hp(r,jp(this.ref,i),Kn)))}hasChild(e){const t=new Mn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function uU(n,e){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==e?jp(n._root,e):n._root}function dU(n,e){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const t=Nk(e,n._repo.repoInfo_.nodeAdmin);YV("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Te("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),uU(n,t.path.toString())}function jp(n,e){return null===Qt((n=(0,N.m9)(n))._path)?(t=e,t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ow("child","path",t,!1)):Ow("child","path",e,!1),new al(n._repo,ui(n._path,e));var t}function Fk(n,e){n=(0,N.m9)(n),sl("set",n._path),Yc("set",e,n._path,!1);const t=new N.BH;return xk(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function nZ(n,e){ZV("update",e,n._path,!1);const t=new N.BH;return function V4(n,e,t,i){J_(n,"update",{path:e.toString(),value:t});let r=!0;const s=Pw(n),c={};if(Oi(t,(d,p)=>{r=!1,c[d]=zV(ui(e,d),Ci(p),n.serverSyncTree_,s)}),r)Re("update() called with empty data.  Don't do anything."),Ah(0,i,"ok",void 0);else{const d=MS(n),p=function u4(n,e,t,i){!function SW(n,e,t,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=sk(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=Qn.fromObject(t);return Q_(n,new Y_({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,c,d);AS(n.eventQueue_,p),n.server_.merge(e.toString(),t,(y,C)=>{const D="ok"===y;D||at("update at "+e+" failed: "+y);const x=Ih(n.serverSyncTree_,d,!D),O=x.length>0?X_(n,e):e;ol(n.eventQueue_,O,x),Ah(0,i,y,C)}),Oi(t,y=>{const C=Ok(n,ui(e,y));X_(n,C)}),ol(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function iZ(n){return function B4(n,e){const t=function m4(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(y,C)=>{const D=zs(y,t);i=i||Th(C,D)});let r=n.syncPointTree_.get(t);r?i=i||Th(r,Cn()):(r=new OV,n.syncPointTree_=n.syncPointTree_.set(t,r));const s=null!=i,c=s?new Eh(i,!0,!1):null;return function QW(n){return pS(n.viewCache_)}(PV(r,e,gS(n.pendingWriteTree_,e._path),s?c.getNode():Ut.EMPTY_NODE,s))}(n.serverSyncTree_,e);return null!=t?Promise.resolve(t):n.server_.get(e).then(i=>{const r=Ci(i).withIndex(e._queryParams.getIndex()),s=Iw(n.serverSyncTree_,e._path,r);return Ak(n.eventQueue_,e._path,s),Promise.resolve(r)},i=>(J_(n,"get for query "+(0,N.Pz)(e)+" failed: "+i),Promise.reject(new Error(i))))}((n=(0,N.m9)(n))._repo,n).then(e=>new Hp(e,new al(n._repo,n._path),n._queryParams.getIndex()))}class PS{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new oU("value",this,new Hp(e.snapshotNode,new al(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new aU(this,e,t):null}matches(e){return e instanceof PS&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class NS{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new aU(this,e,t):null}createEvent(e,t){(0,N.hu)(null!=e.childName,"Child events should have a childName.");const i=jp(new al(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new oU(e.type,this,new Hp(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof NS&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Nw(n,e,t,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=t,y=(C,D)=>{Rk(n._repo,n,d),p(C,D)};y.userCallback=t.userCallback,y.context=t.context,t=y}const c=new lU(t,s||void 0),d="value"===e?new PS(c):new NS(e,c);return function z4(n,e,t){let i;i=".info"===Qt(e._path)?VV(n.infoSyncTree_,e,t):VV(n.serverSyncTree_,e,t),Ak(n.eventQueue_,e._path,i)}(n._repo,n,d),()=>Rk(n._repo,n,d)}function Lk(n,e,t,i){return Nw(n,"value",e,t,i)}function hU(n,e,t,i){return Nw(n,"child_added",e,t,i)}function fU(n,e,t,i){return Nw(n,"child_changed",e,t,i)}function pU(n,e,t,i){return Nw(n,"child_moved",e,t,i)}function gU(n,e,t,i){return Nw(n,"child_removed",e,t,i)}function mU(n,e,t){let i=null;const r=t?new lU(t):null;"value"===e?i=new PS(r):e&&(i=new NS(e,r)),Rk(n._repo,n,i)}class Xl{}class _U extends Xl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Yc("endAt",this._value,e._path,!0);const t=JR(e._queryParams,this._value,this._key);if(OS(t),Mh(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new To(e._repo,e._path,t,e._orderByCalled)}}class sZ extends Xl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Yc("endBefore",this._value,e._path,!1);const t=function fW(n,e,t){let i,r;return n.index_===Zc?("string"==typeof e&&(e=dV(e)),r=JR(n,e,t)):(i=null==t?$r:dV(t),r=JR(n,e,i)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(OS(t),Mh(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new To(e._repo,e._path,t,e._orderByCalled)}}class yU extends Xl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Yc("startAt",this._value,e._path,!0);const t=QR(e._queryParams,this._value,this._key);if(OS(t),Mh(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new To(e._repo,e._path,t,e._orderByCalled)}}class lZ extends Xl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Yc("startAfter",this._value,e._path,!1);const t=function hW(n,e,t){let i;if(n.index_===Zc)"string"==typeof e&&(e=uV(e)),i=QR(n,e,t);else{let r;r=null==t?Eo:uV(t),i=QR(n,e,r)}return i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(OS(t),Mh(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new To(e._repo,e._path,t,e._orderByCalled)}}class uZ extends Xl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new To(e._repo,e._path,function uW(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class hZ extends Xl{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new To(e._repo,e._path,function dW(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class pZ extends Xl{constructor(e){super(),this._path=e}_apply(e){kS(e,"orderByChild");const t=new Mn(this._path);if(Jt(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new WR(t),r=cS(e._queryParams,i);return Mh(r),new To(e._repo,e._path,r,!0)}}class mZ extends Xl{_apply(e){kS(e,"orderByKey");const t=cS(e._queryParams,Zc);return Mh(t),new To(e._repo,e._path,t,!0)}}class yZ extends Xl{_apply(e){kS(e,"orderByPriority");const t=cS(e._queryParams,Kn);return Mh(t),new To(e._repo,e._path,t,!0)}}class bZ extends Xl{_apply(e){kS(e,"orderByValue");const t=cS(e._queryParams,ZR);return Mh(t),new To(e._repo,e._path,t,!0)}}class CZ extends Xl{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Yc("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _U(this._value,this._key)._apply(new yU(this._value,this._key)._apply(e))}}function ec(n,...e){let t=(0,N.m9)(n);for(const i of e)t=i._apply(t);return t}(function t4(n){(0,N.hu)(!vS,"__referenceConstructor has already been defined"),vS=n})(al),function a4(n){(0,N.hu)(!wS,"__referenceConstructor has already been defined"),wS=n}(al);const Bk={};function bU(n,e,t,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Te("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,y,c=Nk(s,r),d=c.repoInfo;"undefined"!=typeof process&&process.env&&(y=process.env.FIREBASE_DATABASE_EMULATOR_HOST),y?(p=!0,s=`http://${y}?ns=${d.namespace}`,c=Nk(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const C=r&&p?new gw(gw.OWNER):new p6(n.name,n.options,e);YV("Invalid Firebase Database URL",c),Jt(c.path)||Te("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function IZ(n,e,t,i){let r=Bk[e.name];r||(r={},Bk[e.name]=r);let s=r[n.toURLString()];return s&&Te("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new N4(n,false,t,i),r[n.toURLString()]=s,s}(d,n,C,new f6(n.name,t));return new MZ(D,n)}class MZ{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function F4(n,e,t){if(n.stats_=BR(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new uS(n.repoInfo_,(i,r,s,c)=>{XV(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>eU(n,!0),0);else{if(null!=t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Pz)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Fp(n.repoInfo_,e,(i,r,s,c)=>{XV(n,i,r,s,c)},i=>{eU(n,i)},i=>{!function L4(n,e){Oi(e,(t,i)=>{Mk(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function _6(n,e){const t=n.toString();return LR[t]||(LR[t]=e()),LR[t]}(n.repoInfo_,()=>new vW(n.stats_,n.server_)),n.infoData_=new pW,n.infoSyncTree_=new BV({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=Iw(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),Mk(n,"connected",!1),n.serverSyncTree_=new BV({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const y=c(d,p);ol(n.eventQueue_,i._path,y)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new al(this._repo,Cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function SZ(n,e){const t=Bk[e];(!t||t[n.key]!==n)&&Te(`Database ${e}(${n.repoInfo_}) has already been deleted.`),nU(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Te("Cannot call "+e+" on a deleted database.")}}function wU(){UB.IS_TRANSPORT_INITIALIZED&&at("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xZ(){wU(),wh.forceDisallow()}function RZ(){wU(),G_.forceDisallow(),wh.forceAllow()}function NZ(n,e){be(n,e)}const LZ={".sv":"timestamp"};class UZ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Fp.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Fp.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function FZ(n){u(bs.SDK_VERSION),(0,bs._registerComponent)(new el.wA("database",(e,{instanceIdentifier:t})=>bU(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,bs.registerVersion)(kR,o,n),(0,bs.registerVersion)(kR,o,"esm2017")}();const zZ=new tl.Yd("@firebase/database-compat"),CU=function(n){zZ.warn("FIREBASE WARNING: "+n)};class WZ{constructor(e){this._delegate=e}cancel(e){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,t){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,CU("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class ZZ{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class xh{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Ow("DataSnapshot.child","path",e,!1),new xh(this._database,this._delegate.child(e))}hasChild(e){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Ow("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new xh(this._database,t)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new oa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class qr{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var s;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",t,!1);const c=qr.getCancelAndContextArgs_("Query.on",i,r),d=(y,C)=>{t.call(c.context,new xh(this.database,y),C)};d.userCallback=t,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return Lk(this._delegate,d,p),t;case"child_added":return hU(this._delegate,d,p),t;case"child_removed":return gU(this._delegate,d,p),t;case"child_changed":return fU(this._delegate,d,p),t;case"child_moved":return pU(this._delegate,d,p),t;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,N.Wj)("Query.off","callback",t,!0),(0,N.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,mU(this._delegate,e,r)}else mU(this._delegate,e)}get(){return iZ(this._delegate).then(e=>new xh(this.database,e))}once(e,t,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",t,!0);const s=qr.getCancelAndContextArgs_("Query.once",i,r),c=new N.BH,d=(y,C)=>{const D=new xh(this.database,y);t&&t.call(s.context,D,C),c.resolve(D)};d.userCallback=t,d.context=s.context;const p=y=>{s.cancel&&s.cancel.call(s.context,y),c.reject(y)};switch(e){case"value":Lk(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":hU(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":gU(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":fU(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":pU(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(e){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new qr(this.database,ec(this._delegate,function dZ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new uZ(n)}(e)))}limitToLast(e){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new qr(this.database,ec(this._delegate,function fZ(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new hZ(n)}(e)))}orderByChild(e){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new qr(this.database,ec(this._delegate,function gZ(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ow("orderByChild","path",n,!1),new pZ(n)}(e)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new qr(this.database,ec(this._delegate,function _Z(){return new mZ}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new qr(this.database,ec(this._delegate,function vZ(){return new yZ}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new qr(this.database,ec(this._delegate,function wZ(){return new bZ}()))}startAt(e=null,t){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new qr(this.database,ec(this._delegate,function aZ(n=null,e){return kw("startAt","key",e,!0),new yU(n,e)}(e,t)))}startAfter(e=null,t){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new qr(this.database,ec(this._delegate,function cZ(n,e){return kw("startAfter","key",e,!0),new lZ(n,e)}(e,t)))}endAt(e=null,t){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new qr(this.database,ec(this._delegate,function rZ(n,e){return kw("endAt","key",e,!0),new _U(n,e)}(e,t)))}endBefore(e=null,t){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new qr(this.database,ec(this._delegate,function oZ(n,e){return kw("endBefore","key",e,!0),new sZ(n,e)}(e,t)))}equalTo(e,t){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new qr(this.database,ec(this._delegate,function EZ(n,e){return kw("equalTo","key",e,!0),new CZ(n,e)}(e,t)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof qr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,N.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,N.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new oa(this.database,new al(this._delegate._repo,this._delegate._path))}}class oa extends qr{constructor(e,t){super(e,new To(t._repo,t._path,new lS,!1)),this.database=e,this._delegate=t}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new oa(this.database,jp(this._delegate,e))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new oa(this.database,e):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new oa(this.database,this._delegate.root)}set(e,t){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",t,!0);const i=Fk(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,CU("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}sl("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",t,!0);const i=nZ(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function tZ(n,e,t){if(sl("setWithPriority",n._path),Yc("setWithPriority",e,n._path,!1),Ik("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return xk(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",e,!0);const t=function X4(n){return sl("remove",n._path),Fk(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,N.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function HZ(n,e,t){var i;if(n=(0,N.m9)(n),sl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==t?void 0:t.applyLocally)||void 0===i||i,s=new N.BH,d=Lk(n,()=>{});return function q4(n,e,t,i,r,s){J_(n,"transaction on "+e);const c={path:e,update:t,onComplete:i,status:null,order:M(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=kk(n,e,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Rw("transaction failed: Data returned ",p,c.path),c.status=0;const y=TS(n.transactionQueueTree_,e),C=Up(y)||[];let D;C.push(c),Dk(y,C),"object"==typeof p&&null!==p&&(0,N.r3)(p,".priority")?(D=(0,N.DV)(p,".priority"),(0,N.hu)(xw(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(CS(n.serverSyncTree_,e)||Ut.EMPTY_NODE).getPriority().val();const x=Pw(n),O=Ci(p,D),L=wk(O,d,x);c.currentOutputSnapshotRaw=O,c.currentOutputSnapshotResolved=L,c.currentWriteId=MS(n);const Z=pk(n.serverSyncTree_,e,L,c.currentWriteId,c.applyLocally);ol(n.eventQueue_,e,Z),xS(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(p,y,C)=>{let D=null;p?s.reject(p):(D=new Hp(C,new al(n._repo,n._path),Kn),s.resolve(new UZ(y,D)))},d,r),s.promise}(this._delegate,e,{applyLocally:i}).then(s=>new ZZ(s.committed,new xh(this.database,s.snapshot)));return t&&r.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),r}setPriority(e,t){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",t,!0);const i=function eZ(n,e){n=(0,N.m9)(n),sl("setPriority",n._path),Ik("setPriority",e,!1);const t=new N.BH;return xk(n._repo,ui(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",t,!0);const i=function J4(n,e){n=(0,N.m9)(n),sl("push",n._path),Yc("push",e,n._path,!0);const t=JV(n._repo),i=oW(t),r=jp(n,i),s=jp(n,i);let c;return c=null!=e?Fk(s,e).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,e),r=i.then(c=>new oa(this.database,c));t&&r.then(()=>t(null),c=>t(c));const s=new oa(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return sl("Reference.onDisconnect",this._delegate._path),new WZ(new cU(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Fw{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xZ,forceLongPolling:RZ}}useEmulator(e,t,i={}){!function kZ(n,e,t,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Te("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Te('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new gw(gw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);s=new gw(c)}!function TZ(n,e,t,i){n.repoInfo_=new NR(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,e,t,s)}(this._delegate,e,t,i)}ref(e){if((0,N.Dv)("database.ref",0,1,arguments.length),e instanceof oa){const t=dU(this._delegate,e.toString());return new oa(this,t)}{const t=uU(this._delegate,e);return new oa(this,t)}}refFromURL(e){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=dU(this._delegate,e);return new oa(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function OZ(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),nU(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function PZ(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function $4(n){n.persistentConnection_&&n.persistentConnection_.resume(QV)}(n._repo)}(this._delegate)}}Fw.ServerValue={TIMESTAMP:function BZ(){return LZ}(),increment:n=>function VZ(n){return{".sv":{increment:n}}}(n)};var KZ=Object.freeze({__proto__:null,initStandalone:function YZ({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){u(t);const c=new el.zt("auth-internal",new el.H0("database-standalone"));return c.setComponent(new el.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Fw(bU(n,c,void 0,e,s),n),namespace:r}}});const QZ=Fw.ServerValue;function EU(n){return null==n}function DU(n){return"function"==typeof n.set}function TU(n,e){return DU(e)?e:n.ref(e)}function SU(n,e){if(function XZ(n){return"string"==typeof n}(n))return e.stringCase();if(DU(n))return e.firebaseCase();if(function e8(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Lw(n,e,t="on",i=Bu.z){return new en.y(r=>{let s=null;return s=n[t](e,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===t&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===t?{unsubscribe(){null!=s&&n.off(e,s)}}:{unsubscribe(){}}}).pipe((0,st.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:e,payload:s,prevKey:c,key:d}}),(0,T_.B)())}function IU(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function i8(n,e){const{payload:t,prevKey:i,key:r}=e,s=IU(n,r),c=function n8(n,e){if(EU(e))return 0;{const t=IU(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let d=null;e.payload.forEach(p=>{const y={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,y],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==t.key)).splice(c,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(c,0,e)}return n;case"child_removed":return n.filter(d=>d.payload.key!==t.key);case"child_changed":return n.map(d=>d.payload.key===r?e:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function AU(n){return(EU(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function MU(n,e,t){return function t8(n,e,t){return Lw(n,"value","once",t).pipe(In(i=>{const r=[Ze(i)];return e.forEach(s=>r.push(Lw(n,s,"on",t))),(0,ci.T)(...r).pipe(mr(i8,[]))}),Um())}(n,e=AU(e),t)}function xU(n,e,t){const i=(e=AU(e)).map(r=>Lw(n,r,"on",t));return(0,ci.T)(...i)}function RU(n,e){return function(i,r){return SU(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function a8(n){return function(t){return t?SU(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function kU(n,e){return function(){return Lw(n,"value","on",e)}}!function JZ(n){n.INTERNAL.registerComponent(new el.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Fw(r,i)},"PUBLIC").setServiceProps({Reference:oa,Query:qr,Database:Fw,DataSnapshot:xh,enableLogging:NZ,INTERNAL:KZ,ServerValue:QZ}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.0")}(XT.Z);const u8=new l.OlP("angularfire2.realtimeDatabaseURL"),d8=new l.OlP("angularfire2.database.use-emulator");let Vk=(()=>{class n{constructor(t,i,r,s,c,d,p,y,C,D,x,O,L,Z,ae){this.schedulers=d;const Le=p,We=(0,zi.on)(t,c,i);y&&QT(We,c,C,x,O,L,D,Z),this.database=(0,zi.cc)(`${We.name}.database.${r}`,"AngularFireDatabase",We.name,()=>{const Ue=c.runOutsideAngular(()=>We.database(r||void 0));return Le&&Ue.useEmulator(...Le),Ue},[Le])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>TU(this.database,t));let s=r;return i&&(s=i(r)),function l8(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:RU(i,"update"),set:RU(i,"set"),push:r=>i.push(r),remove:a8(i),snapshotChanges:r=>MU(n,r,t).pipe(_n.iC),stateChanges:r=>xU(n,r,t).pipe(_n.iC),auditTrail:r=>function r8(n,e,t){return function o8(n,e,t){return function s8(n,e){return Lw(n,"value","on",e).pipe((0,st.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(JT(e),(0,st.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function CB(n){return(0,Nn.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,un.x)(t,s=>(i||(i=!n(s,r++)))&&t.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,st.U)(r=>r.actions))}(n,xU(n,e).pipe(mr((r,s)=>[...r,s],[])),t)}(n,r,t).pipe(_n.iC),valueChanges:(r,s)=>MU(n,r,t).pipe((0,st.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),_n.iC)}}(s,this)}object(t){return function c8(n,e){return{query:n,snapshotChanges:()=>kU(n,e.schedulers.outsideAngular)().pipe(_n.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>kU(n,e.schedulers.outsideAngular)().pipe(_n.iC,(0,st.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>TU(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zi.Dh),l.LFG(zi.xv,8),l.LFG(u8,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_n.HU),l.LFG(d8,8),l.LFG(V_,8),l.LFG(WT,8),l.LFG(ZT,8),l.LFG(uw,8),l.LFG(dw,8),l.LFG(YT,8),l.LFG(KT,8),l.LFG(bh,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),h8=(()=>{class n{constructor(){B_.Z.registerVersion("angularfire",_n.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Vk]}),n})(),Gp=(()=>{class n{constructor(t,i,r,s){this.snackBar=t,this.afAuth=i,this.db=r,this.router=s,this.userStatusEmitter=new l.vpe}userRegister(t,i,r){let s=this.afAuth.createUserWithEmailAndPassword(i,r);s.then(c=>{this.saveCreatedAccount(t,c,i)}),s.catch(function(c){console.error(c)})}saveCreatedAccount(t,i,r){var s=i.user.uid;t.node_id=s,t.email=r,t.created=(new Date).toLocaleString(),this.writeUserData(s,t)}writeUserData(t,i){let r=this;this.db.database.ref("users/"+t).set(i,s=>{s?console.error(s):(this.snackBar.open("Success, Please login","Ok"),r.router.navigate(["/user-login"]))})}userLogin(t,i){let r=this;const s=this.afAuth.signInWithEmailAndPassword(t,i);s.then(function(c){localStorage.uid=c.user.uid,r.userStatusEmitter.emit(!1),r.router.navigate(["/"])}).then(c=>{let d=localStorage.uid;this.db.object("users/"+d).update({password:i})}),r=this,s.catch(function(c){return r.snackBar.open("Invalid e -mail or password","Ok")})}userLogOut(){this.afAuth.signOut().then(()=>{localStorage.removeItem("uid"),this.userStatusEmitter.emit(!0),this.router.navigate(["user-login"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{this.snackBar.open("Password reset link was sent successfully","Ok"),this.router.navigate(["user-login"])}).catch(i=>{this.snackBar.open("Invalid email,enter valid E-mail address","Ok")})}userCheck(){return!!localStorage.uid}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(pT),l.LFG(V_),l.LFG(Vk),l.LFG(li))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uk=(()=>{class n{constructor(t,i){this.auth=t,this.router=i}canActivate(t,i){return!!this.auth.userCheck()||(this.router.navigate(["user-login"]),!1)}canActivateChild(t,i){throw new Error("Method not implemented.")}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gp),l.LFG(li))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hk=(()=>{class n{constructor(t,i){this.authSer=t,this.router=i}canActivateChild(t,i){throw new Error("Method not implemented.")}canActivate(t,i){return!this.authSer.userCheck()||(this.router.navigate(["/"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gp),l.LFG(li))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OU(...n){const e=(0,Ia.jO)(n),{args:t,keys:i}=En(n),r=new en.y(s=>{const{length:c}=t;if(!c)return void s.complete();const d=new Array(c);let p=c,y=c;for(let C=0;C<c;C++){let D=!1;(0,gs.Xf)(t[C]).subscribe((0,un.x)(s,x=>{D||(D=!0,y--),d[C]=x},()=>p--,void 0,()=>{(!p||!D)&&(y||s.next(i?Du(i,d):d),s.complete())}))}});return e?r.pipe(Eu(e)):r}let PU=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),zp=(()=>{class n extends PU{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ll=new l.OlP("NgValueAccessor"),p8={provide:ll,useExisting:(0,l.Gpc)(()=>$p),multi:!0},m8=new l.OlP("CompositionEventMode");let $p=(()=>{class n extends PU{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function g8(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(m8,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[l._Bn([p8]),l.qOj]}),n})();function Rh(n){return null==n||0===n.length}function FU(n){return null!=n&&"number"==typeof n.length}const Wr=new l.OlP("NgValidators"),kh=new l.OlP("NgAsyncValidators"),_8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ed{static min(e){return function LU(n){return e=>{if(Rh(e.value)||Rh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function BU(n){return e=>{if(Rh(e.value)||Rh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return VU(e)}static requiredTrue(e){return function UU(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function HU(n){return Rh(n.value)||_8.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function jU(n){return e=>Rh(e.value)||!FU(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function GU(n){return e=>FU(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function zU(n){if(!n)return FS;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Rh(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return KU(e)}static composeAsync(e){return QU(e)}}function VU(n){return Rh(n.value)?{required:!0}:null}function FS(n){return null}function $U(n){return null!=n}function qU(n){const e=(0,l.QGY)(n)?(0,bn.D)(n):n;return(0,l.CqO)(e),e}function WU(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ZU(n,e){return e.map(t=>t(n))}function YU(n){return n.map(e=>function y8(n){return!n.validate}(e)?e:t=>e.validate(t))}function KU(n){if(!n)return null;const e=n.filter($U);return 0==e.length?null:function(t){return WU(ZU(t,e))}}function jk(n){return null!=n?KU(YU(n)):null}function QU(n){if(!n)return null;const e=n.filter($U);return 0==e.length?null:function(t){return OU(ZU(t,e).map(qU)).pipe((0,st.U)(WU))}}function Gk(n){return null!=n?QU(YU(n)):null}function JU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function XU(n){return n._rawValidators}function e2(n){return n._rawAsyncValidators}function zk(n){return n?Array.isArray(n)?n:[n]:[]}function LS(n,e){return Array.isArray(n)?n.includes(e):n===e}function t2(n,e){const t=zk(e);return zk(n).forEach(r=>{LS(t,r)||t.push(r)}),t}function n2(n,e){return zk(e).filter(t=>!LS(n,t))}class r2{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jk(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Gk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Kc extends r2{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $s extends r2{get formDirective(){return null}get path(){return null}}class s2{constructor(e){this._cd=e}is(e){var t,i,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[e])}}let Bw=(()=>{class n extends s2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Kc,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[l.qOj]}),n})(),ey=(()=>{class n extends s2{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($s,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[l.qOj]}),n})();function VS(n,e){return[...e.path,n]}function Vw(n,e){Wk(n,e),e.valueAccessor.writeValue(n.value),function S8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&a2(n,e)})}(n,e),function A8(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function I8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&a2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function T8(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function US(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),jS(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function HS(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Wk(n,e){const t=XU(n);null!==e.validator?n.setValidators(JU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=e2(n);null!==e.asyncValidator?n.setAsyncValidators(JU(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();HS(e._rawValidators,r),HS(e._rawAsyncValidators,r)}function jS(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=XU(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=e2(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return HS(e._rawValidators,i),HS(e._rawAsyncValidators,i),t}function a2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function l2(n,e){Wk(n,e)}function Zk(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function u2(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Yk(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===$p?t=s:function R8(n){return Object.getPrototypeOf(n.constructor)===zp}(s)?i=s:r=s}),r||i||t||null}function Kk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Uw="VALID",GS="INVALID",ty="PENDING",Hw="DISABLED";function Jk(n){return(zS(n)?n.validators:n)||null}function d2(n){return Array.isArray(n)?jk(n):n||null}function Xk(n,e){return(zS(e)?e.asyncValidators:n)||null}function h2(n){return Array.isArray(n)?Gk(n):n||null}function zS(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const f2=n=>n instanceof qp,eO=n=>n instanceof jw;function p2(n){return f2(n)?n.value:n.getRawValue()}function g2(n,e){const t=eO(n),i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[e])throw new l.vHH(1001,"")}function m2(n,e){eO(n),n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,"")})}class tO{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=d2(this._rawValidators),this._composedAsyncValidatorFn=h2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Uw}get invalid(){return this.status===GS}get pending(){return this.status==ty}get disabled(){return this.status===Hw}get enabled(){return this.status!==Hw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=d2(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=h2(e)}addValidators(e){this.setValidators(t2(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(t2(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(n2(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(n2(e,this._rawAsyncValidators))}hasValidator(e){return LS(this._rawValidators,e)}hasAsyncValidator(e){return LS(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ty,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hw,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Uw,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Uw||this.status===ty)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hw:Uw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ty,this._hasOwnPendingAsyncValidator=!0;const t=qU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function k8(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let i=n;return e.forEach(r=>{i=eO(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof P8)(i)&&i.at(r)||null}),i}(this,e,".")}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Hw:this.errors?GS:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ty)?ty:this._anyControlsHaveStatus(GS)?GS:Uw}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){zS(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class qp extends tO{constructor(e=null,t,i){super(Jk(t),Xk(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zS(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Kk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Kk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class jw extends tO{constructor(e,t,i){super(Jk(t),Xk(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){m2(this,e),Object.keys(e).forEach(i=>{g2(this,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=p2(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const i=this.controls[t];if(this.contains(t)&&e(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class P8 extends tO{constructor(e,t,i){super(Jk(t),Xk(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){m2(this,e),e.forEach((i,r)=>{g2(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>p2(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const N8={provide:$s,useExisting:(0,l.Gpc)(()=>td)},Gw=(()=>Promise.resolve(null))();let td=(()=>{class n extends $s{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new jw({},jk(t),Gk(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Gw.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Vw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Gw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Gw.then(()=>{const i=this._findContainer(t.path),r=new jw({});l2(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Gw.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Gw.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,u2(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wr,10),l.Y36(kh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([N8]),l.qOj]}),n})();const L8={provide:Kc,useExisting:(0,l.Gpc)(()=>$S)},v2=(()=>Promise.resolve(null))();let $S=(()=>{class n extends Kc{constructor(t,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new qp,this._registered=!1,this.update=new l.vpe,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Yk(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Zk(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Vw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){v2.then(()=>{var i;this.control.setValue(t,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=""===i||i&&"false"!==i;v2.then(()=>{var s;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?VS(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($s,9),l.Y36(Wr,10),l.Y36(kh,10),l.Y36(ll,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([L8]),l.qOj,l.TTD]}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const nO=new l.OlP("NgModelWithFormControlWarning"),G8={provide:$s,useExisting:(0,l.Gpc)(()=>Wp)};let Wp=(()=>{class n extends $s{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jS(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Vw(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){US(t.control||null,t,!1),Kk(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,u2(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(US(i||null,t),f2(r)&&(Vw(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);l2(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function M8(n,e){return jS(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Wk(this.form,this),this._oldForm&&jS(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wr,10),l.Y36(kh,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([G8]),l.qOj,l.TTD]}),n})();const q8={provide:Kc,useExisting:(0,l.Gpc)(()=>qS)};let qS=(()=>{class n extends Kc{constructor(t,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Yk(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),Zk(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return VS(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36($s,13),l.Y36(Wr,10),l.Y36(kh,10),l.Y36(ll,10),l.Y36(nO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([q8]),l.qOj,l.TTD]}),n})(),Zp=(()=>{class n{constructor(){this._validator=FS}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):FS,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const n5={provide:Wr,useExisting:(0,l.Gpc)(()=>zw),multi:!0};let zw=(()=>{class n extends Zp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function X8(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>VU}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([n5]),l.qOj]}),n})(),F2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[w2]]}),n})(),l5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[F2]}),n})(),c5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nO,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[F2]}),n})();const u5=["connectionContainer"],d5=["inputContainer"],h5=["label"];function f5(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function p5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function g5(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function m5(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function _5(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function y5(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(t),l.oxw().updateOutlineGap()}),l.YNc(2,g5,4,1,"ng-container",12),l.YNc(3,m5,1,0,"ng-content",12),l.YNc(4,_5,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function v5(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function b5(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function w5(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function C5(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function E5(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,C5,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const D5=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],T5=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],S5=new l.OlP("MatError"),I5={transitionMessages:na("transitionMessages",[Gt("enter",Vt({opacity:1,transform:"translateY(0%)"})),ki("void => enter",[Vt({opacity:0,transform:"translateY(-5px)"}),ir("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let WS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const A5=new l.OlP("MatHint");let Yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),M5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const x5=new l.OlP("MatPrefix"),L2=new l.OlP("MatSuffix");let B2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""]],features:[l._Bn([{provide:L2,useExisting:n}])]}),n})(),V2=0;const k5=p_(class{constructor(n){this._elementRef=n}},"primary"),O5=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lO=new l.OlP("MatFormField");let Kp=(()=>{class n extends k5{constructor(t,i,r,s,c,d,p){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new pt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+V2++,this._labelId="mat-form-field-label-"+V2++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=dn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(yi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(An(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(An(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ci.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(yi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(yi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(An(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Dm(this._label.nativeElement,"transitionend").pipe((0,Fn.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const C=i.querySelectorAll(`${r}, ${s}`);for(let D=0;D<C.length;D++)C[D].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),y=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const C=i.getBoundingClientRect();if(0===C.width&&0===C.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const D=this._getStartEnd(C),x=t.children,O=this._getStartEnd(x[0].getBoundingClientRect());let L=0;for(let Z=0;Z<x.length;Z++)L+=x[Z].offsetWidth;c=Math.abs(O-D)-5,d=L>0?.75*L+10:0}for(let C=0;C<p.length;C++)p[C].style.width=`${c}px`;for(let C=0;C<y.length;C++)y[C].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(Uu,8),l.Y36(O5,8),l.Y36(Ri),l.Y36(l.R0b),l.Y36(Ja,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,WS,5),l.Suo(r,WS,7),l.Suo(r,Yp,5),l.Suo(r,Yp,7),l.Suo(r,M5,5),l.Suo(r,S5,5),l.Suo(r,A5,5),l.Suo(r,x5,5),l.Suo(r,L2,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._controlNonStatic=s.first),l.iGM(s=l.CRH())&&(i._controlStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildNonStatic=s.first),l.iGM(s=l.CRH())&&(i._labelChildStatic=s.first),l.iGM(s=l.CRH())&&(i._placeholderChild=s.first),l.iGM(s=l.CRH())&&(i._errorChildren=s),l.iGM(s=l.CRH())&&(i._hintChildren=s),l.iGM(s=l.CRH())&&(i._prefixChildren=s),l.iGM(s=l.CRH())&&(i._suffixChildren=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(u5,7),l.Gf(d5,5),l.Gf(h5,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:lO,useExisting:n}]),l.qOj],ngContentSelectors:T5,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t(D5),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),l.YNc(3,f5,9,0,"ng-container",3),l.YNc(4,p5,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,y5,5,16,"label",8),l.qZA()(),l.YNc(10,v5,2,0,"div",9),l.qZA(),l.YNc(11,b5,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,w5,2,1,"div",12),l.YNc(14,E5,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[On,$v,Ui,Dr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[I5.transitionMessages]},changeDetection:0}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[lo,wn,_E],wn]}),n})();const H2=Jd({passive:!0});let P5=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ra.E;const i=Jo(t),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new pt.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,H2),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,H2)}}),s}stopMonitoring(t){const i=Jo(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ri),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const N5=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),F5=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let L5=0;const B5=KD(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i}});let iy=(()=>{class n extends B5{constructor(t,i,r,s,c,d,p,y,C,D){super(d,s,c,r),this._elementRef=t,this._platform=i,this._autofillMonitor=y,this._formField=D,this._uid="mat-input-"+L5++,this.focused=!1,this.stateChanges=new pt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(L=>NC().has(L)),this._iOSKeyupListener=L=>{const Z=L.target;!Z.value&&0===Z.selectionStart&&0===Z.selectionEnd&&(Z.setSelectionRange(1,1),Z.setSelectionRange(0,0))};const x=this._elementRef.nativeElement,O=x.nodeName.toLowerCase();this._inputValueAccessor=p||x,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&C.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=dn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(ed.required))&&void 0!==s&&s}set required(t){this._required=dn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&NC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=dn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,i;const r=(null===(i=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===i?void 0:i.call(t))?null:this.placeholder;if(r!==this._previousPlaceholder){const s=this._elementRef.nativeElement;this._previousPlaceholder=r,r?s.setAttribute("placeholder",r):s.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){F5.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Ri),l.Y36(Kc,10),l.Y36(td,8),l.Y36(Wp,8),l.Y36(Bb),l.Y36(N5,10),l.Y36(P5),l.Y36(l.R0b),l.Y36(lO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:WS,useExisting:n}]),l.qOj,l.TTD]}),n})(),G2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Bb],imports:[[j2,$w,wn],j2,$w]}),n})(),V5=(()=>{class n{constructor(t){this.auth=t}ngOnInit(){}onUserPasswordResetBtnClick(t){this.auth.ForgotPassword(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-password-reset"]],decls:16,vars:0,consts:[["appearance","fill"],["type","email","matInput","","placeholder","Ex.pat@example.com"],["email",""],[1,"button-group"],["routerLink","/user-login"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"article")(1,"form")(2,"h1"),l._uU(3,"Reset your password"),l.qZA(),l.TgZ(4,"p"),l._uU(5,"Reset link will be sent to the email addres you enter, in spam"),l.qZA(),l.TgZ(6,"mat-form-field",0)(7,"mat-label"),l._uU(8,"E-mail@"),l.qZA(),l._UZ(9,"input",1,2),l.qZA(),l.TgZ(11,"div",3)(12,"a",4),l._uU(13,"Back to Log in"),l.qZA(),l.TgZ(14,"button",5),l.NdJ("click",function(){l.CHM(r);const c=l.MAs(10);return i.onUserPasswordResetBtnClick(c.value)}),l._uU(15,"Send"),l.qZA()()()()}},directives:[ny,ey,td,Kp,Yp,iy,Ha,Xa],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";button[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}article[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:10%}mat-form-field[_ngcontent-%COMP%]{width:100%;margin-top:2%;padding:0%}a[_ngcontent-%COMP%]{text-decoration:none;font-size:medium}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}button[_ngcontent-%COMP%]{width:30%}h1[_ngcontent-%COMP%]{text-align:center}']}),n})();class z2{}class $2{}class nd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),c=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof nd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new nd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof nd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let c=this.headers.get(t);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class U5{encodeKey(e){return q2(e)}encodeValue(e){return q2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const j5=/%(\d[a-f0-9])/gi,G5={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function q2(n){return encodeURIComponent(n).replace(j5,(e,t)=>{var i;return null!==(i=G5[t])&&void 0!==i?i:e})}function W2(n){return`${n}`}class Oh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new U5,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function H5(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=t.get(c)||[];p.push(d),t.set(c,p)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Oh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(W2(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(W2(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class z5{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Z2(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Y2(n){return"undefined"!=typeof Blob&&n instanceof Blob}function K2(n){return"undefined"!=typeof FormData&&n instanceof FormData}class qw{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function $5(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new nd),this.context||(this.context=new z5),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const d=t.indexOf("?");this.urlWithParams=t+(-1===d?"?":d<t.length-1?"&":"")+c}}else this.params=new Oh,this.urlWithParams=t}serializeBody(){return null===this.body?null:Z2(this.body)||Y2(this.body)||K2(this.body)||function q5(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||K2(this.body)?null:Y2(this.body)?this.body.type||null:Z2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const i=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,p=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let y=e.headers||this.headers,C=e.params||this.params;const D=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(y=Object.keys(e.setHeaders).reduce((x,O)=>x.set(O,e.setHeaders[O]),y)),e.setParams&&(C=Object.keys(e.setParams).reduce((x,O)=>x.set(O,e.setParams[O]),C)),new qw(i,r,c,{params:C,headers:y,context:D,reportProgress:p,responseType:s,withCredentials:d})}}var rr=(()=>((rr=rr||{})[rr.Sent=0]="Sent",rr[rr.UploadProgress=1]="UploadProgress",rr[rr.ResponseHeader=2]="ResponseHeader",rr[rr.DownloadProgress=3]="DownloadProgress",rr[rr.Response=4]="Response",rr[rr.User=5]="User",rr))();class cO{constructor(e,t=200,i="OK"){this.headers=e.headers||new nd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class uO extends cO{constructor(e={}){super(e),this.type=rr.ResponseHeader}clone(e={}){return new uO({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ww extends cO{constructor(e={}){super(e),this.type=rr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ww({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Q2 extends cO{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function dO(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hO=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof qw)s=t;else{let p,y;p=r.headers instanceof nd?r.headers:new nd(r.headers),r.params&&(y=r.params instanceof Oh?r.params:new Oh({fromObject:r.params})),s=new qw(t,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:y,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Ze(s).pipe(Rl(p=>this.handler.handle(p)));if(t instanceof qw||"events"===r.observe)return c;const d=c.pipe(Ln(p=>p instanceof Ww));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,st.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,st.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,st.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Oh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,dO(r,i))}post(t,i,r={}){return this.request("POST",t,dO(r,i))}put(t,i,r={}){return this.request("PUT",t,dO(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(z2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class J2{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const fO=new l.OlP("HTTP_INTERCEPTORS");let W5=(()=>{class n{intercept(t,i){return i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Z5=/^\)\]\}',?\n/;let X2=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new en.y(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((O,L)=>r.setRequestHeader(O,L.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const O=t.detectContentTypeHeader();null!==O&&r.setRequestHeader("Content-Type",O)}if(t.responseType){const O=t.responseType.toLowerCase();r.responseType="json"!==O?O:"text"}const s=t.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const O=r.statusText||"OK",L=new nd(r.getAllResponseHeaders()),Z=function Y5(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return c=new uO({headers:L,status:r.status,statusText:O,url:Z}),c},p=()=>{let{headers:O,status:L,statusText:Z,url:ae}=d(),Le=null;204!==L&&(Le=void 0===r.response?r.responseText:r.response),0===L&&(L=Le?200:0);let We=L>=200&&L<300;if("json"===t.responseType&&"string"==typeof Le){const Ue=Le;Le=Le.replace(Z5,"");try{Le=""!==Le?JSON.parse(Le):null}catch(je){Le=Ue,We&&(We=!1,Le={error:je,text:Le})}}We?(i.next(new Ww({body:Le,headers:O,status:L,statusText:Z,url:ae||void 0})),i.complete()):i.error(new Q2({error:Le,headers:O,status:L,statusText:Z,url:ae||void 0}))},y=O=>{const{url:L}=d(),Z=new Q2({error:O,status:r.status||0,statusText:r.statusText||"Unknown Error",url:L||void 0});i.error(Z)};let C=!1;const D=O=>{C||(i.next(d()),C=!0);let L={type:rr.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(L.total=O.total),"text"===t.responseType&&!!r.responseText&&(L.partialText=r.responseText),i.next(L)},x=O=>{let L={type:rr.UploadProgress,loaded:O.loaded};O.lengthComputable&&(L.total=O.total),i.next(L)};return r.addEventListener("load",p),r.addEventListener("error",y),r.addEventListener("timeout",y),r.addEventListener("abort",y),t.reportProgress&&(r.addEventListener("progress",D),null!==s&&r.upload&&r.upload.addEventListener("progress",x)),r.send(s),i.next({type:rr.Sent}),()=>{r.removeEventListener("error",y),r.removeEventListener("abort",y),r.removeEventListener("load",p),r.removeEventListener("timeout",y),t.reportProgress&&(r.removeEventListener("progress",D),null!==s&&r.upload&&r.upload.removeEventListener("progress",x)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pO=new l.OlP("XSRF_COOKIE_NAME"),gO=new l.OlP("XSRF_HEADER_NAME");class eH{}let K5=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=fa(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ne),l.LFG(l.Lbi),l.LFG(pO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),mO=(()=>{class n{constructor(t,i){this.tokenService=t,this.headerName=i}intercept(t,i){const r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),i.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(eH),l.LFG(gO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Q5=(()=>{class n{constructor(t,i){this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=this.injector.get(fO,[]);this.chain=i.reduceRight((r,s)=>new J2(r,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($2),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),J5=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:mO,useClass:W5}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:pO,useValue:t.cookieName}:[],t.headerName?{provide:gO,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[mO,{provide:fO,useExisting:mO,multi:!0},{provide:eH,useClass:K5},{provide:pO,useValue:"XSRF-TOKEN"},{provide:gO,useValue:"X-XSRF-TOKEN"}]}),n})(),X5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hO,{provide:z2,useClass:Q5},X2,{provide:$2,useExisting:X2}],imports:[[J5.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const eY=["*"];let ZS;function Zw(n){var e;return(null===(e=function tY(){if(void 0===ZS&&(ZS=null,"undefined"!=typeof window)){const n=window;void 0!==n.trustedTypes&&(ZS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return ZS}())||void 0===e?void 0:e.createHTML(n))||n}function tH(n){return Error(`Unable to find icon with the name "${n}"`)}function nH(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function iH(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Qp{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let YS=(()=>{class n{constructor(t,i,r,s){this._httpClient=t,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,s){return this._addSvgIconConfig(t,i,new Qp(r,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,s){const c=this._sanitizer.sanitize(l.q3G.HTML,r);if(!c)throw iH(r);const d=Zw(c);return this._addSvgIconConfig(t,i,new Qp("",d,s))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Qp(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const s=this._sanitizer.sanitize(l.q3G.HTML,i);if(!s)throw iH(i);const c=Zw(s);return this._addSvgIconSetConfig(t,new Qp("",c,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw nH(t);const r=this._cachedIconsByUrl.get(i);return r?Ze(KS(r)):this._loadSvgIconFromConfig(new Qp(t,null)).pipe((0,vi.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,st.U)(s=>KS(s)))}getNamedSvgIcon(t,i=""){const r=rH(i,t);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,t),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(t,c):xs(tH(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Ze(KS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,st.U)(i=>KS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Ze(r):OU(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(Xi(d=>{const y=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(y)),Ze(null)})))).pipe((0,st.U)(()=>{const c=this._extractIconWithNameFromAnySet(t,i);if(!c)throw tH(t);return c}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,t,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,vi.b)(i=>t.svgText=i),(0,st.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Ze(null):this._fetchIcon(t).pipe((0,vi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const s=t.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(Zw("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Zw("<svg></svg>")),r=t.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){var i;const{url:r,options:s}=t,c=null!==(i=null==s?void 0:s.withCredentials)&&void 0!==i&&i;if(!this._httpClient)throw function nY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,r);if(!d)throw nH(r);const p=this._inProgressUrlFetches.get(d);if(p)return p;const y=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,st.U)(C=>Zw(C)),Tu(()=>this._inProgressUrlFetches.delete(d)),(0,T_.B)());return this._inProgressUrlFetches.set(d,y),y}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(rH(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,t);if(s)return rY(s)?new Qp(s.url,null,s.options):new Qp(s,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hO,8),l.LFG(Lo),l.LFG(ne,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KS(n){return n.cloneNode(!0)}function rH(n,e){return n+":"+e}function rY(n){return!(!n.url||!n.options)}const sY=p_(class{constructor(n){this._elementRef=n}}),oY=new l.OlP("mat-icon-location",{providedIn:"root",factory:function aY(){const n=(0,l.f3M)(ne),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),sH=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lY=sH.map(n=>`[${n}]`).join(", "),cY=/^url\(['"]?#(.*?)['"]?\)$/;let oH=(()=>{class n extends sY{constructor(t,i,r,s,c){super(t),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=_i.w0.EMPTY,r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=dn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),i&&t.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${t}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(lY),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)sH.forEach(c=>{const d=i[s],p=d.getAttribute(c),y=p?p.match(cY):null;if(y){let C=r.get(d);C||(C=[],r.set(d,C)),C.push({name:c,value:y[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe((0,Fn.q)(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(YS),l.$8M("aria-hidden"),l.Y36(oY),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:eY,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),aH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[wn],wn]}),n})();function uY(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"form",1)(1,"h1"),l._uU(2,"Log In"),l.qZA(),l.TgZ(3,"mat-form-field",2)(4,"mat-label"),l._uU(5,"Email"),l.qZA(),l._UZ(6,"input",3),l.qZA(),l.TgZ(7,"mat-form-field",2)(8,"mat-label"),l._uU(9,"Password"),l.qZA(),l._UZ(10,"input",4),l.TgZ(11,"button",5),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return r.hide=!r.hide}),l.TgZ(12,"mat-icon"),l._uU(13),l.qZA()()(),l.TgZ(14,"div",6)(15,"a",7),l._uU(16,"Forgot password?"),l.qZA()(),l.TgZ(17,"div")(18,"button",8),l.NdJ("click",function(){return l.CHM(t),l.oxw().onUserLogIn()}),l._uU(19,"Log In"),l.qZA()(),l.TgZ(20,"div",9)(21,"p"),l._uU(22,"Don't have an account?"),l.qZA(),l.TgZ(23,"a",10),l._uU(24,"Create one now"),l.qZA()()()}if(2&n){const t=l.oxw();l.Q6J("formGroup",t.formData),l.xp6(10),l.Q6J("type",t.hide?"password":"text"),l.xp6(1),l.uIk("aria-label","Hide password")("aria-pressed",t.hide),l.xp6(2),l.Oqu(t.hide?"visibility_off":"visibility")}}let dY=(()=>{class n{constructor(t){this.authser=t,this.hide=!0,this.formData={}}ngOnInit(){this.createFormData()}createFormData(){this.formData=new jw({email:new qp(null,[ed.required,ed.email]),password:new qp(null,ed.required)})}onUserLogIn(){this.authser.userLogin(this.formData.value.email,this.formData.value.password)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-user-login"]],decls:2,vars:1,consts:[["class","example-form",3,"formGroup",4,"ngIf"],[1,"example-form",3,"formGroup"],["appearance","fill",1,"example-full-width"],["formControlName","email","type","email","matInput","","placeholder","Ex. pat@example.com"],["formControlName","password","matInput","",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"forgot-password"],["routerLink","/password-reset"],["mat-raised-button","","color","primary",3,"click"],[1,"to-registerPG"],["routerLink","/user-registration"]],template:function(t,i){1&t&&(l.TgZ(0,"article"),l.YNc(1,uY,25,5,"form",0),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",i.formData))},directives:[On,ny,ey,Wp,Kp,Yp,$p,iy,Bw,qS,Xa,B2,oH,Ha],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";button[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}h1[_ngcontent-%COMP%]{font-size:25px;display:flex;justify-content:center}a[_ngcontent-%COMP%]{text-decoration:none}article[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:auto;width:50%;padding:8%}button[_ngcontent-%COMP%]{margin-top:3%;margin-left:1.6%;width:100%}mat-form-field[_ngcontent-%COMP%]{width:100%;margin:10px;padding:0%}.forgot-password[_ngcontent-%COMP%]{margin-bottom:10px;display:flex;justify-content:flex-end}.to-registerPG[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin-top:4%;margin-left:1.6%}a[_ngcontent-%COMP%]{margin-left:1%}']}),n})();function hY(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"form",1)(1,"h1"),l._uU(2,"Create your Account"),l.qZA(),l.TgZ(3,"mat-form-field",2)(4,"mat-label"),l._uU(5,"Full Name"),l.qZA(),l._UZ(6,"input",3),l.qZA(),l.TgZ(7,"mat-form-field",2)(8,"mat-label"),l._uU(9,"Email"),l.qZA(),l._UZ(10,"input",4),l.qZA(),l.TgZ(11,"mat-form-field",2)(12,"mat-label"),l._uU(13,"Password"),l.qZA(),l._UZ(14,"input",5),l.TgZ(15,"button",6),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return r.hide=!r.hide}),l.TgZ(16,"mat-icon"),l._uU(17),l.qZA()()(),l.TgZ(18,"div",7)(19,"a",8),l._uU(20,"Log in instead"),l.qZA(),l.TgZ(21,"button",9),l.NdJ("click",function(){return l.CHM(t),l.oxw().onUserRegister()}),l._uU(22,"Create"),l.qZA()()()}if(2&n){const t=l.oxw();l.Q6J("formGroup",t.formData),l.xp6(14),l.Q6J("type",t.hide?"password":"text"),l.xp6(1),l.uIk("aria-label","Hide password")("aria-pressed",t.hide),l.xp6(2),l.Oqu(t.hide?"visibility_off":"visibility")}}let fY=(()=>{class n{constructor(t){this.authser=t,this.hide=!0,this.formData={}}ngOnInit(){this.createFormData()}createFormData(){this.formData=new jw({fullname:new qp(null,ed.required),email:new qp(null,[ed.required,ed.email]),password:new qp(null,ed.required)})}onUserRegister(){let t=this.formData.value;this.authser.userRegister(t,t.email,t.password)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Gp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-user-registration"]],decls:2,vars:1,consts:[["class","example-form",3,"formGroup",4,"ngIf"],[1,"example-form",3,"formGroup"],["appearance","fill"],["formControlName","fullname","matInput",""],["formControlName","email","type","email","matInput","","placeholder","Ex. pat@example.com"],["formControlName","password","matInput","",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[1,"button-group"],["routerLink","/user-login"],["type","submit","mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"article"),l.YNc(1,hY,23,5,"form",0),l.qZA()),2&t&&(l.xp6(1),l.Q6J("ngIf",i.formData))},directives:[On,ny,ey,Wp,Kp,Yp,$p,iy,Bw,qS,Xa,B2,oH,Ha],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";button[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif;width:18%;margin-right:-2%}p[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}mat-form-field[_ngcontent-%COMP%]{font-size:medium;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif;width:100%;margin:2%}article[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:8%}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:5%;font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}a[_ngcontent-%COMP%]{font-size:medium;text-decoration:none;margin-left:2%}']}),n})(),QS=(()=>{class n{constructor(t){this.db=t,this.carsRef=this.db.list("cars-list")}AddCar(t){return this.carsRef.push(t)}GetAllCars(){return this.carsRef.snapshotChanges().pipe((0,st.U)(t=>t.map(i=>Object.assign({key:i.payload.key},i.payload.val()))))}GetCar(t){return this.db.object("cars-list/"+t)}GetCarByKey(t){return this.db.list("cars-list/"+t).valueChanges()}updateCar(t,i){return this.db.object("cars-list/"+t).update(i)}deleteCar(t){this.db.object("cars-list/"+t).remove()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lH="firebasestorage.googleapis.com",cH="storageBucket";class Pi extends N.ZR{constructor(e,t){super(_O(e),`Firebase Storage: ${t} (${_O(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pi.prototype)}_codeEquals(e){return _O(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function _O(n){return"storage/"+n}function yO(){return new Pi("unknown","An unknown error occurred, please check the error payload for server response.")}function uH(){return new Pi("canceled","User canceled the upload/download.")}function dH(){return new Pi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ry(n){return new Pi("invalid-argument",n)}function hH(){return new Pi("app-deleted","The Firebase app was deleted.")}function fH(n){return new Pi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yw(n,e){return new Pi("invalid-format","String does not match format '"+n+"': "+e)}function Kw(n){throw new Pi("internal-error","Internal error: "+n)}class ws{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ws.makeFromUrl(e,t)}catch(r){return new ws(e,"")}if(""===i.path)return i;throw function EY(n){return new Pi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function y(je){je.path_=decodeURIComponent(je.path)}const D=t.replace(/[.]/g,"\\."),Ue=[{regex:d,indices:{bucket:1,path:3},postModify:function s(je){"/"===je.path.charAt(je.path.length-1)&&(je.path_=je.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${D}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:y},{regex:new RegExp(`^https?://${t===lH?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:y}];for(let je=0;je<Ue.length;je++){const At=Ue[je],xt=At.regex.exec(e);if(xt){let Wi=xt[At.indices.path];Wi||(Wi=""),i=new ws(xt[At.indices.bucket],Wi),At.postModify(i);break}}if(null==i)throw function CY(n){return new Pi("invalid-url","Invalid URL '"+n+"'.")}(e);return i}}class IY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function JS(n){return"string"==typeof n||n instanceof String}function pH(n){return vO()&&n instanceof Blob}function vO(){return"undefined"!=typeof Blob}function bO(n,e,t,i){if(i<e)throw ry(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw ry(`Invalid value for '${n}'. Expected ${t} or less.`)}function id(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function gH(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var Ph=(()=>{return(n=Ph||(Ph={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Ph;var n})();class OY{constructor(e,t,i,r,s,c,d,p,y,C,D){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=C,this.connectionFactory_=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,O)=>{this.resolve_=x,this.reject_=O,this.start_()})}start_(){const t=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function xY(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=yO();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?hH():uH():function wY(){return new Pi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new XS(!1,null,!0)):this.backoffId_=function AY(n,e,t){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let y=!1;function C(...ae){y||(y=!0,e.apply(null,ae))}function D(ae){r=setTimeout(()=>{r=null,n(O,p())},ae)}function x(){s&&clearTimeout(s)}function O(ae,...Le){if(y)return void x();if(ae)return x(),void C.call(null,ae,...Le);if(p()||c)return x(),void C.call(null,ae,...Le);let Ue;i<64&&(i*=2),1===d?(d=2,Ue=0):Ue=1e3*(i+Math.random()),D(Ue)}let L=!1;function Z(ae){L||(L=!0,x(),!y&&(null!==r?(ae||(d=2),clearTimeout(r),D(0)):ae||(d=1)))}return D(0),s=setTimeout(()=>{c=!0,Z(!0)},t),Z}((i,r)=>{if(r)return void i(!1,new XS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===Ph.NO_ERROR,p=s.getStatus();if(!d||this.isRetryStatusCode_(p)){const C=s.getErrorCode()===Ph.ABORT;return void i(!1,new XS(!1,null,C))}const y=-1!==this.successCodes_.indexOf(p);i(!0,new XS(y,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function MY(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,r=-1!==[408,429].indexOf(e),s=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||s}}class XS{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function UY(...n){const e=function VY(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(vO())return new Blob(n);throw new Pi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const aa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class wO{constructor(e,t){this.data=e,this.contentType=t||null}}function CO(n,e){switch(n){case aa.RAW:return new wO(mH(e));case aa.BASE64:case aa.BASE64URL:return new wO(_H(n,e));case aa.DATA_URL:return new wO(function zY(n){const e=new yH(n);return e.base64?_H(aa.BASE64,e.rest):function GY(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Yw(aa.DATA_URL,"Malformed data URL.")}return mH(e)}(e.rest)}(e),function $Y(n){return new yH(n).contentType}(e))}throw yO()}function mH(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function _H(n,e){switch(n){case aa.BASE64:{const r=-1!==e.indexOf("-"),s=-1!==e.indexOf("_");if(r||s)throw Yw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case aa.BASE64URL:{const r=-1!==e.indexOf("+"),s=-1!==e.indexOf("/");if(r||s)throw Yw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function jY(n){return atob(n)}(e)}catch(r){throw Yw(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class yH{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Yw(aa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function qY(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class Qc{constructor(e,t){let i=0,r="";pH(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(pH(this.data_)){const r=function HY(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new Qc(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Qc(i,!0)}}static getBlob(...e){if(vO()){const t=e.map(i=>i instanceof Qc?i.data_:i);return new Qc(UY.apply(null,t))}{const t=e.map(c=>JS(c)?CO(aa.RAW,c).data:c.data_);let i=0;t.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return t.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new Qc(r,!0)}}uploadData(){return this.data_}}function EO(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function kY(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function vH(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function YY(n,e){return e}class qs{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||YY}}let eI=null;function Qw(){if(eI)return eI;const n=[];n.push(new qs("bucket")),n.push(new qs("generation")),n.push(new qs("metageneration")),n.push(new qs("name","fullPath",!0));const t=new qs("name");t.xform=function e(s,c){return function KY(n){return!JS(n)||n.length<2?n:vH(n)}(c)},n.push(t);const r=new qs("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new qs("timeCreated")),n.push(new qs("updated")),n.push(new qs("md5Hash",null,!0)),n.push(new qs("cacheControl",null,!0)),n.push(new qs("contentDisposition",null,!0)),n.push(new qs("contentEncoding",null,!0)),n.push(new qs("contentLanguage",null,!0)),n.push(new qs("contentType",null,!0)),n.push(new qs("metadata","customMetadata",!0)),eI=n,eI}function bH(n,e,t){const i=EO(e);return null===i?null:function JY(n,e,t){const i={type:"file"},r=t.length;for(let s=0;s<r;s++){const c=t[s];i[c.local]=c.xform(i,e[c.server])}return function QY(n,e){Object.defineProperty(n,"ref",{get:function t(){const s=new ws(n.bucket,n.fullPath);return e._makeStorageReference(s)}})}(i,n),i}(n,i,t)}function DO(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const s=e[r];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}const wH="prefixes";class Jc{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Xc(n){if(!n)throw yO()}function tI(n,e){return function t(i,r){const s=bH(n,r,e);return Xc(null!==s),s}}function sy(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function vY(){return new Pi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function yY(){return new Pi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function _Y(n){return new Pi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function bY(n){return new Pi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Jw(n){const e=sy(n);return function t(i,r){let s=e(i,r);return 404===i.getStatus()&&(s=function mY(n){return new Pi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function EH(n,e,t){const r=id(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Jc(r,"GET",tI(n,t),c);return d.errorHandler=Jw(e),d}function rK(n,e,t,i,r){const s={};s.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(s.delimiter=t),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=id(e.bucketOnlyServerUrl(),n.host,n._protocol),y=n.maxOperationRetryTime,C=new Jc(d,"GET",function nK(n,e){return function t(i,r){const s=function tK(n,e,t){const i=EO(t);return null===i?null:function eK(n,e,t){const i={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[wH])for(const r of t[wH]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new ws(e,s));i.prefixes.push(c)}if(t.items)for(const r of t.items){const s=n._makeStorageReference(new ws(e,r.name));i.items.push(s)}return i}(n,e,i)}(n,e,r);return Xc(null!==s),s}}(n,e.bucket),y);return C.urlParams=s,C.errorHandler=sy(e),C}function TH(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function lK(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}class nI{constructor(e,t,i,r){this.current=e,this.total=t,this.finalized=!!i,this.metadata=r||null}}function TO(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(r){Xc(!1)}return Xc(!!t&&-1!==(e||["active"]).indexOf(t)),t}const hK={STATE_CHANGED:"state_changed"},Ws={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function SO(n){switch(n){case"running":case"pausing":case"canceling":return Ws.RUNNING;case"paused":return Ws.PAUSED;case"success":return Ws.SUCCESS;case"canceled":return Ws.CANCELED;default:return Ws.ERROR}}class fK{constructor(e,t,i){if(function RY(n){return"function"==typeof n}(e)||null!=t||null!=i)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=i?i:void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function oy(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class gK extends class pK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ph.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ph.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ph.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Kw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Kw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Kw("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Kw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Kw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function tc(){return new gK}class MH{constructor(e,t,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=i,this._mappings=Qw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,i])=>{switch(this._state){case"running":e(t,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const i=function cK(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c=TH(e,i,r),d={name:c.fullPath},p=id(s,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},D=DO(c,t),L=new Jc(p,"POST",function O(Z){let ae;TO(Z);try{ae=Z.getResponseHeader("X-Goog-Upload-URL")}catch(Le){Xc(!1)}return Xc(JS(ae)),ae},n.maxUploadRetryTime);return L.urlParams=d,L.headers=C,L.body=D,L.errorHandler=sy(e),L}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,i)=>{const r=function uK(n,e,t,i){const p=new Jc(t,"POST",function s(y){const C=TO(y,["active","final"]);let D=null;try{D=y.getResponseHeader("X-Goog-Upload-Size-Received")}catch(O){Xc(!1)}D||Xc(!1);const x=Number(D);return Xc(!isNaN(x)),new nI(x,i.size(),"final"===C)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=sy(e),p}(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(r,tc,t,i);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new nI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function dK(n,e,t,i,r,s,c,d){const p=new nI(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function TY(){return new Pi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const y=p.total-p.current;let C=y;r>0&&(C=Math.min(C,r));const D=p.current,L={"X-Goog-Upload-Command":C===y?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},Z=i.slice(D,D+C);if(null===Z)throw dH();const Ue=new Jc(t,"POST",function ae(je,At){const xt=TO(je,["active","final"]),sn=p.current+C,Wi=i.size();let ua;return ua="final"===xt?tI(e,s)(je,At):null,new nI(sn,Wi,"final"===xt,ua)},e.maxUploadRetryTime);return Ue.headers=L,Ue.body=Z.uploadData(),Ue.progressCallback=d||null,Ue.errorHandler=sy(n),Ue}(this._ref._location,this._ref.storage,i,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,tc,r,s);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const i=EH(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,tc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const i=function SH(n,e,t,i,r){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Ue="";for(let je=0;je<2;je++)Ue+=Math.random().toString().slice(2);return Ue}();c["Content-Type"]="multipart/related; boundary="+p;const y=TH(e,i,r),C=DO(y,t),O=Qc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+p+"\r\nContent-Type: "+y.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===O)throw dH();const L={name:y.fullPath},Z=id(s,n.host,n._protocol),Le=n.maxUploadRetryTime,We=new Jc(Z,"POST",tI(n,t),Le);return We.urlParams=L,We.headers=c,We.body=O.uploadData(),We.errorHandler=sy(e),We}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,tc,e,t);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=uH(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=SO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,i,r){const s=new fK(t||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(SO(this._state)){case Ws.SUCCESS:oy(this._resolve.bind(null,this.snapshot))();break;case Ws.CANCELED:case Ws.ERROR:oy(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(SO(this._state)){case Ws.RUNNING:case Ws.PAUSED:e.next&&oy(e.next.bind(e,this.snapshot))();break;case Ws.SUCCESS:e.complete&&oy(e.complete.bind(e))();break;default:e.error&&oy(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Jp{constructor(e,t){this._service=e,this._location=t instanceof ws?t:ws.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Jp(e,t)}get root(){const e=new ws(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return vH(this._location.path)}get storage(){return this._service}get parent(){const e=function WY(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ws(this._location.bucket,e);return new Jp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw fH(e)}}function RH(n,e,t){return IO.apply(this,arguments)}function IO(){return(IO=(0,Ce.Z)(function*(n,e,t){const r=yield kH(n,{pageToken:t});e.prefixes.push(...r.prefixes),e.items.push(...r.items),null!=r.nextPageToken&&(yield RH(n,e,r.nextPageToken))})).apply(this,arguments)}function kH(n,e){null!=e&&"number"==typeof e.maxResults&&bO("options.maxResults",1,1e3,e.maxResults);const t=e||{},i=rK(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(i,tc)}function IK(n){n._throwIfRoot("getDownloadURL");const e=function sK(n,e,t){const r=id(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Jc(r,"GET",function iK(n,e){return function t(i,r){const s=bH(n,r,e);return Xc(null!==s),function XY(n,e,t,i){const r=EO(e);if(null===r||!JS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(y=>{const D=n.fullPath;return id("/b/"+c(n.bucket)+"/o/"+c(D),t,i)+gH({alt:"media",token:y})})[0]}(s,r,n.host,n._protocol)}}(n,t),c);return d.errorHandler=Jw(e),d}(n.storage,n._location,Qw());return n.storage.makeRequestWithTokens(e,tc).then(t=>{if(null===t)throw function SY(){return new Pi("no-download-url","The given file does not have any download URLs.")}();return t})}function OH(n,e){const t=function ZY(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new ws(n._location.bucket,t);return new Jp(n.storage,i)}function PH(n,e){if(n instanceof AO){const t=n;if(null==t._bucket)throw function DY(){return new Pi("no-default-bucket","No default bucket found. Did you set the '"+cH+"' property when initializing the app?")}();const i=new Jp(t,t._bucket);return null!=e?PH(i,e):i}return void 0!==e?OH(n,e):n}function RK(n,e){if(e&&function MK(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof AO)return function xK(n,e){return new Jp(n,e)}(n,e);throw ry("To use ref(service, url), the first argument must be a Storage instance.")}return PH(n,e)}function NH(n,e){const t=null==e?void 0:e[cH];return null==t?null:ws.makeFromBucketSpec(t,n)}class AO{constructor(e,t,i,r,s){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=lH,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ws.makeFromBucketSpec(r,this._host):NH(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ws.makeFromBucketSpec(this._url,e):NH(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bO("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bO("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Ce.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Ce.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jp(this,e)}_makeRequest(e,t,i,r){if(this._deleted)return new IY(hH());{const s=function BY(n,e,t,i,r,s){const c=gH(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function FY(n,e){e&&(n["X-Firebase-GMPID"]=e)}(p,e),function PY(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(p,t),function NY(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(p,s),function LY(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(p,i),new OY(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(e,this._appId,i,r,t,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return(0,Ce.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,s).getPromise()})()}}const FH="@firebase/storage";function VH(n,e){return RK(n=(0,N.m9)(n),e)}function jK(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new AO(t,i,r,e,bs.SDK_VERSION)}!function GK(){(0,bs._registerComponent)(new el.wA("storage",jK,"PUBLIC").setMultipleInstances(!0)),(0,bs.registerVersion)(FH,"0.9.6",""),(0,bs.registerVersion)(FH,"0.9.6","esm2017")}();class iI{constructor(e,t,i){this._delegate=e,this.task=t,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class UH{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new iI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(i=>{if(e)return e(new iI(i,this,this._ref))},t)}on(e,t,i,r){let s;return t&&(s="function"==typeof t?c=>t(new iI(c,this,this._ref)):{next:t.next?c=>t.next(new iI(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,i||void 0,r||void 0)}}class HH{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new rd(e,this._service))}get items(){return this._delegate.items.map(e=>new rd(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class rd{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function UK(n,e){return OH(n,e)}(this._delegate,e);return new rd(t,this.storage)}get root(){return new rd(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new rd(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new UH(function OK(n,e,t){return function CK(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new MH(n,new Qc(e),t)}(n=(0,N.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=aa.RAW,i){this._throwIfRoot("putString");const r=CO(t,e),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new UH(new MH(this._delegate,new Qc(r.data,!0),s),this)}listAll(){return function LK(n){return function DK(n){const e={prefixes:[],items:[]};return RH(n,e).then(()=>e)}(n=(0,N.m9)(n))}(this._delegate).then(e=>new HH(e,this.storage))}list(e){return function FK(n,e){return kH(n=(0,N.m9)(n),e)}(this._delegate,e||void 0).then(t=>new HH(t,this.storage))}getMetadata(){return function PK(n){return function TK(n){n._throwIfRoot("getMetadata");const e=EH(n.storage,n._location,Qw());return n.storage.makeRequestWithTokens(e,tc)}(n=(0,N.m9)(n))}(this._delegate)}updateMetadata(e){return function NK(n,e){return function SK(n,e){n._throwIfRoot("updateMetadata");const t=function oK(n,e,t,i){const s=id(e.fullServerUrl(),n.host,n._protocol),d=DO(t,i),y=n.maxOperationRetryTime,C=new Jc(s,"PATCH",tI(n,i),y);return C.headers={"Content-Type":"application/json; charset=utf-8"},C.body=d,C.errorHandler=Jw(e),C}(n.storage,n._location,e,Qw());return n.storage.makeRequestWithTokens(t,tc)}(n=(0,N.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function BK(n){return IK(n=(0,N.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function VK(n){return function AK(n){n._throwIfRoot("deleteObject");const e=function aK(n,e){const i=id(e.fullServerUrl(),n.host,n._protocol),d=new Jc(i,"DELETE",function c(p,y){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=Jw(e),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,tc)}(n=(0,N.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw fH(e)}}class jH{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(GH(e))throw ry("ref() expected a child path but got a URL, use refFromURL instead.");return new rd(VH(this._delegate,e),this)}refFromURL(e){if(!GH(e))throw ry("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ws.makeFromUrl(e,this._delegate.host)}catch(t){throw ry("refFromUrl() expected a valid full URL but got an invalid one.")}return new rd(VH(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,i={}){!function HK(n,e,t,i={}){!function kK(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,N.Sg)(r,n.app.options.projectId))}(n,e,t,i)}(this._delegate,e,t,i)}}function GH(n){return/^[A-Za-z]+:\/\//.test(n)}function WK(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:e});return new jH(t,i)}function zH(n){const e=function YK(n){return new en.y(e=>{const t=c=>e.next(c);t(n.snapshot);const s=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){s()}}).pipe(oh(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,st.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function rI(n){return{getDownloadURL:()=>Ze(void 0).pipe(_n.fc,In(()=>n.getDownloadURL()),_n.iC),getMetadata:()=>Ze(void 0).pipe(_n.fc,In(()=>n.getMetadata()),_n.iC),delete:()=>(0,bn.D)(n.delete()),child:e=>rI(n.child(e)),updateMetadata:e=>(0,bn.D)(n.updateMetadata(e)),put:(e,t)=>zH(n.put(e,t)),putString:(e,t,i)=>zH(n.putString(e,t,i)),list:e=>(0,bn.D)(n.list(e)),listAll:()=>(0,bn.D)(n.listAll())}}!function ZK(n){const e={TaskState:Ws,TaskEvent:hK,StringFormat:aa,Storage:jH,Reference:rd};n.INTERNAL.registerComponent(new el.wA("storage-compat",WK,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.14")}(XT.Z);const KK=new l.OlP("angularfire2.storageBucket"),QK=new l.OlP("angularfire2.storage.maxUploadRetryTime"),JK=new l.OlP("angularfire2.storage.maxOperationRetryTime"),XK=new l.OlP("angularfire2.storage.use-emulator");let $H=(()=>{class n{constructor(t,i,r,s,c,d,p,y,C,D){const x=(0,zi.on)(t,c,i);this.storage=(0,zi.cc)(`${x.name}.storage.${r}`,"AngularFireStorage",x.name,()=>{const O=c.runOutsideAngular(()=>x.storage(r||void 0)),L=C;return L&&O.useEmulator(...L),p&&O.setMaxUploadRetryTime(p),y&&O.setMaxOperationRetryTime(y),O},[p,y])}ref(t){return rI(this.storage.ref(t))}refFromURL(t){return rI(this.storage.refFromURL(t))}upload(t,i,r){return rI(this.storage.ref(t)).put(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zi.Dh),l.LFG(zi.xv,8),l.LFG(KK,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_n.HU),l.LFG(QK,8),l.LFG(JK,8),l.LFG(XK,8),l.LFG(bh,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),e7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),t7=(()=>{class n{constructor(){B_.Z.registerVersion("angularfire",_n.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[$H],imports:[e7]}),n})(),n7=(()=>{class n{constructor(t,i,r){this.router=t,this.firebaseClient=i,this.af=r,this.formData=td,this.hide=!0,this.formSubmitEmitter=new l.vpe,this.formDefaultData=[]}ngOnInit(){this.initFormDefaultData()}onCancelBtnClick(){this.router.navigate(["/"])}onFormSubmit(t){this.formSubmitEmitter.emit(t.value),this.firebaseClient.AddCar(t.value),this.uploadImage(),t.reset(),this.router.navigate(["/"])}initFormDefaultData(){0!=this.formDefaultData.length&&this.formDefaultData.forEach(t=>{})}upload(t){this.path=t.target.files[0]}uploadImage(){console.log(this.path),this.af.upload("/files"+Math.random()+this.path,this.path)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(li),l.Y36(QS),l.Y36($H))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-create"]],inputs:{formDefaultData:"formDefaultData"},outputs:{formSubmitEmitter:"formSubmitEmitter"},decls:64,vars:1,consts:[[1,"main"],["name","loginForm",3,"ngSubmit"],["form","ngForm"],[1,"inline-groups"],["appearance","fill"],["required","","name","manufacturer","ngModel","","matInput",""],["required","","name","model","ngModel","","matInput",""],["required","","name","year","ngModel","","matInput",""],["required","","name","vinCode","ngModel","","matInput",""],["required","","name","price","ngModel","","matInput",""],["required","","name","mile","ngModel","","matInput",""],["required","","name","phoneNumber","ngModel","","matInput",""],["required","","name","image","ngModel","","matInput",""],["required","","name","driveTrainGeo","ngModel","","matInput",""],["required","","name","driveTrainEng","ngModel","","matInput",""],["required","","name","fuelTypeGeo","ngModel","","matInput",""],["required","","name","fuelTypeEng","ngModel","","matInput",""],[1,"form-group-inline"],["type","button","mat-raised-button","","color","warn",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"div",0)(1,"h1"),l._uU(2,"Add New Car"),l.qZA(),l.TgZ(3,"form",1,2),l.NdJ("ngSubmit",function(){l.CHM(r);const c=l.MAs(4);return i.onFormSubmit(c)}),l.TgZ(5,"div",3)(6,"mat-form-field",4)(7,"mat-label"),l._uU(8,"Manufacturer"),l.qZA(),l._UZ(9,"input",5),l.qZA(),l.TgZ(10,"mat-form-field",4)(11,"mat-label"),l._uU(12,"Model"),l.qZA(),l._UZ(13,"input",6),l.qZA()(),l.TgZ(14,"div",3)(15,"mat-form-field",4)(16,"mat-label"),l._uU(17,"Year"),l.qZA(),l._UZ(18,"input",7),l.qZA(),l.TgZ(19,"mat-form-field",4)(20,"mat-label"),l._uU(21,"Vinc Code"),l.qZA(),l._UZ(22,"input",8),l.qZA()(),l.TgZ(23,"div",3)(24,"mat-form-field",4)(25,"mat-label"),l._uU(26,"Price"),l.qZA(),l._UZ(27,"input",9),l.qZA(),l.TgZ(28,"mat-form-field",4)(29,"mat-label"),l._uU(30,"Mile"),l.qZA(),l._UZ(31,"input",10),l.qZA()(),l.TgZ(32,"div",3)(33,"mat-form-field",4)(34,"mat-label"),l._uU(35,"Seller Phone Number"),l.qZA(),l._UZ(36,"input",11),l.qZA(),l.TgZ(37,"mat-form-field",4)(38,"mat-label"),l._uU(39,"Image Url"),l.qZA(),l._UZ(40,"input",12),l.qZA()(),l.TgZ(41,"div",3)(42,"mat-form-field",4)(43,"mat-label"),l._uU(44,"Drive Train Geo"),l.qZA(),l._UZ(45,"input",13),l.qZA(),l.TgZ(46,"mat-form-field",4)(47,"mat-label"),l._uU(48,"Drive Train Eng"),l.qZA(),l._UZ(49,"input",14),l.qZA()(),l.TgZ(50,"div",3)(51,"mat-form-field",4)(52,"mat-label"),l._uU(53,"Fuel Type Geo"),l.qZA(),l._UZ(54,"input",15),l.qZA(),l.TgZ(55,"mat-form-field",4)(56,"mat-label"),l._uU(57,"Fuel Type Eng"),l.qZA(),l._UZ(58,"input",16),l.qZA()(),l.TgZ(59,"div",17)(60,"button",18),l.NdJ("click",function(){return i.onCancelBtnClick()}),l._uU(61,"Cancel"),l.qZA(),l.TgZ(62,"button",19),l._uU(63,"Add"),l.qZA()()()()}if(2&t){const r=l.MAs(4);l.xp6(62),l.Q6J("disabled",!r.valid)}},directives:[ny,ey,td,Kp,Yp,$p,iy,zw,Bw,$S,Xa],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";*[_ngcontent-%COMP%]{font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}.main[_ngcontent-%COMP%]{text-align:center}mat-form-field[_ngcontent-%COMP%]{margin:5px;width:25%}.inline-groups[_ngcontent-%COMP%]{margin:.5%}button[_ngcontent-%COMP%]{width:12.5%;height:35px}.form-group-inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}.image-box[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%!important;height:100%important;margin-bottom:1%}img[_ngcontent-%COMP%]{width:250px;height:150px}']}),n})();const r7=new l.OlP("MAT_SORT_DEFAULT_OPTIONS"),s7=QD(_p(class{}));let o7=(()=>{class n extends s7{constructor(t){super(),this._defaultOptions=t,this.sortables=new Map,this._stateChanges=new pt.x,this.start="asc",this._direction="",this.sortChange=new l.vpe}get direction(){return this._direction}set direction(t){this._direction=t}get disableClear(){return this._disableClear}set disableClear(t){this._disableClear=dn(t)}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){var i,r,s;if(!t)return"";const c=null!==(r=null!==(i=null==t?void 0:t.disableClear)&&void 0!==i?i:this.disableClear)&&void 0!==r?r:!!(null===(s=this._defaultOptions)||void 0===s?void 0:s.disableClear);let d=function a7(n,e){let t=["asc","desc"];return"desc"==n&&t.reverse(),e||t.push(""),t}(t.start||this.start,c),p=d.indexOf(this.direction)+1;return p>=d.length&&(p=0),d[p]}ngOnInit(){this._markInitialized()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(r7,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{disabled:["matSortDisabled","disabled"],active:["matSortActive","active"],start:["matSortStart","start"],direction:["matSortDirection","direction"],disableClear:["matSortDisableClear","disableClear"]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],features:[l.qOj,l.TTD]}),n})();function xO(n){return n&&"function"==typeof n.connect}class qH{applyChanges(e,t,i,r,s){e.forEachOperation((c,d,p)=>{let y,C;if(null==c.previousIndex){const D=i(c,d,p);y=t.createEmbeddedView(D.templateRef,D.context,D.index),C=1}else null==p?(t.remove(d),C=3):(y=t.get(d),t.move(y,p),C=2);s&&s({context:null==y?void 0:y.context,operation:C,record:c})})}detach(){}}class ZH{constructor(e=!1,t,i=!0){this._multiple=e,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new pt.x,t&&t.length&&(e?t.forEach(r=>this._markSelected(r)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}const Xw=new l.OlP("_ViewRepeater"),u7=[[["caption"]],[["colgroup"],["col"]]],d7=["caption","colgroup, col"];function RO(n){return class extends n{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=dn(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const ay=new l.OlP("CDK_TABLE");let ly=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),cy=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),sI=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class g7{}const m7=RO(g7);let sd=(()=>{class n extends m7{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=dn(t),this._hasStickyChanged=i!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ay,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,ly,5),l.Suo(r,cy,5),l.Suo(r,sI,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.cell=s.first),l.iGM(s=l.CRH())&&(i.headerCell=s.first),l.iGM(s=l.CRH())&&(i.footerCell=s.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class kO{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let OO=(()=>{class n extends kO{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(sd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),PO=(()=>{class n extends kO{constructor(t,i){var r;if(super(t,i),1===(null===(r=t._table)||void 0===r?void 0:r._elementRef.nativeElement.nodeType)){const s=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===s||"treegrid"===s?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(sd),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class KH{constructor(){this.tasks=[],this.endTasks=[]}}const NO=new l.OlP("_COALESCED_STYLE_SCHEDULER");let QH=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new pt.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new KH,this._getScheduleObservable().pipe(An(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new KH;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,bn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe((0,Fn.q)(1))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),FO=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof e0?t.headerCell.template:this instanceof t0?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class _7 extends FO{}const y7=RO(_7);let e0=(()=>{class n extends y7{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(ay,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class v7 extends FO{}const b7=RO(v7);let t0=(()=>{class n extends b7{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(ay,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),oI=(()=>{class n extends FO{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(ay,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),od=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),LO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},directives:[od],encapsulation:2}),n})(),VO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},directives:[od],encapsulation:2}),n})(),aI=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const JH=["top","bottom","left","right"];class w7{constructor(e,t,i,r,s=!0,c=!0,d){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=c,this._positionListener=d,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(x=>x)&&!i.some(x=>x))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const s=e[0],c=s.children.length,d=this._getCellWidths(s,r),p=this._getStickyStartColumnPositions(d,t),y=this._getStickyEndColumnPositions(d,i),C=t.lastIndexOf(!0),D=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const x="rtl"===this.direction,O=x?"right":"left",L=x?"left":"right";for(const Z of e)for(let ae=0;ae<c;ae++){const Le=Z.children[ae];t[ae]&&this._addStickyStyle(Le,O,p[ae],ae===C),i[ae]&&this._addStickyStyle(Le,L,y[ae],ae===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===C?[]:d.slice(0,C+1).map((Z,ae)=>t[ae]?Z:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:d.slice(D).map((Z,ae)=>i[ae+D]?Z:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,s="bottom"===i?t.slice().reverse():t,c=[],d=[],p=[];for(let C=0,D=0;C<r.length;C++){if(!s[C])continue;c[C]=D;const x=r[C];p[C]=this._isNativeHtmlTable?Array.from(x.children):[x];const O=x.getBoundingClientRect().height;D+=O,d[C]=O}const y=s.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{var C,D;for(let x=0;x<r.length;x++){if(!s[x])continue;const O=c[x],L=x===y;for(const Z of p[x])this._addStickyStyle(Z,i,O,L)}"top"===i?null===(C=this._positionListener)||void 0===C||C.stickyHeaderRowsUpdated({sizes:d,offsets:c,elements:p}):null===(D=this._positionListener)||void 0===D||D.stickyFooterRowsUpdated({sizes:d,offsets:c,elements:p})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);JH.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of JH)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let s=0;s<e.length;s++)t[s]&&(i[s]=r,r+=e[s]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let s=e.length;s>0;s--)t[s]&&(i[s]=r,r+=e[s]);return i}}const UO=new l.OlP("CDK_SPL");let lI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),cI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),uI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),dI=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),hI=(()=>{class n{constructor(t,i,r,s,c,d,p,y,C,D,x,O){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=p,this._viewRepeater=y,this._coalescedStyleScheduler=C,this._viewportRuler=D,this._stickyPositioningListener=x,this._ngZone=O,this._onDestroy=new pt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new Yn({start:0,end:Number.MAX_VALUE}),s||this._elementRef.nativeElement.setAttribute("role","table"),this._document=d,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=dn(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=dn(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(An(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),xO(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,s,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe((0,Fn.q)(1),An(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const s=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,s,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const s=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,s,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,s),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let d=0;d<i.length;d++)this._renderRows[d].rowDef===s&&c.push(i[d]);this._addStickyColumnStyles(c,s)}),r.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const c=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let d=0;d<c.length;d++){let p=c[d];const y=this._cachedRenderRowsMap.get(p.data);y.has(p.rowDef)?y.get(p.rowDef).push(p):y.set(p.rowDef,[p]),t.push(p)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(c=>{const d=r&&r.has(c)?r.get(c):[];if(d.length){const p=d.shift();return p.dataIndex=i,p}return{data:t,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),fI(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=fI(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=fI(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=fI(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(c,d)=>c||!!d.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(t){this._data=[],xO(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;xO(this.dataSource)?t=this.dataSource.connect(this):function c7(n){return!!n&&(n instanceof en.y||(0,gr.m)(n.lift)&&(0,gr.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Ze(this.dataSource)),this._renderChangeSubscription=t.pipe(An(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(d=>this._columnDefsByName.get(d)),s=r.map(d=>d.sticky),c=r.map(d=>d.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const s=t.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,t))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,s={}){const c=t.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))od.mostRecentCellOutlet&&od.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const c=t.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const s=this._document.createElement(r.tag);s.setAttribute("role","rowgroup");for(const c of r.outlets)s.appendChild(c.elementRef.nativeElement);t.appendChild(s)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new w7(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Ze()).pipe(An(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(t.templateRef),c=s.rootNodes[0];1===s.rootNodes.length&&(null==c?void 0:c.nodeType)===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(Uu,8),l.Y36(ne),l.Y36(Ri),l.Y36(Xw),l.Y36(NO),l.Y36(Mm),l.Y36(UO,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,aI,5),l.Suo(r,sd,5),l.Suo(r,oI,5),l.Suo(r,e0,5),l.Suo(r,t0,5)),2&t){let s;l.iGM(s=l.CRH())&&(i._noDataRow=s.first),l.iGM(s=l.CRH())&&(i._contentColumnDefs=s),l.iGM(s=l.CRH())&&(i._contentRowDefs=s),l.iGM(s=l.CRH())&&(i._contentHeaderRowDefs=s),l.iGM(s=l.CRH())&&(i._contentFooterRowDefs=s)}},viewQuery:function(t,i){if(1&t&&(l.Gf(lI,7),l.Gf(cI,7),l.Gf(uI,7),l.Gf(dI,7)),2&t){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:ay,useExisting:n},{provide:Xw,useClass:qH},{provide:NO,useClass:QH},{provide:UO,useValue:null}])],ngContentSelectors:d7,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(u7),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},directives:[cI,lI,dI,uI],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})();function fI(n,e){return n.concat(Array.from(e))}let E7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Lc]]}),n})();const D7=[[["caption"]],[["colgroup"],["col"]]],T7=["caption","colgroup, col"];let ej=(()=>{class n extends hI{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:Xw,useClass:qH},{provide:hI,useExisting:n},{provide:ay,useExisting:n},{provide:NO,useClass:QH},{provide:UO,useValue:null}]),l.qOj],ngContentSelectors:T7,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(l.F$t(D7),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},directives:[cI,lI,dI,uI],styles:["mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),n})(),HO=(()=>{class n extends ly{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:ly,useExisting:n}]),l.qOj]}),n})(),jO=(()=>{class n extends cy{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:cy,useExisting:n}]),l.qOj]}),n})(),GO=(()=>{class n extends sd{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:sd,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),zO=(()=>{class n extends OO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[l.qOj]}),n})(),$O=(()=>{class n extends PO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[l.qOj]}),n})(),tj=(()=>{class n extends e0{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:e0,useExisting:n}]),l.qOj]}),n})(),nj=(()=>{class n extends oI{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:oI,useExisting:n}]),l.qOj]}),n})(),ij=(()=>{class n extends LO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:LO,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},directives:[od],encapsulation:2}),n})(),rj=(()=>{class n extends VO{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[l._Bn([{provide:VO,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&l.GkF(0,0)},directives:[od],encapsulation:2}),n})(),sj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[E7,wn],wn]}),n})();class oj extends class F7 extends class l7{}{constructor(e=[]){super(),this._renderData=new Yn([]),this._filter=new Yn(""),this._internalPageChanges=new pt.x,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,i)=>{const r=t[i];if(CC(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(t,i)=>{const r=i.active,s=i.direction;return r&&""!=s?t.sort((c,d)=>{let p=this.sortingDataAccessor(c,r),y=this.sortingDataAccessor(d,r);const C=typeof p,D=typeof y;C!==D&&("number"===C&&(p+=""),"number"===D&&(y+=""));let x=0;return null!=p&&null!=y?p>y?x=1:p<y&&(x=-1):null!=p?x=1:null!=y&&(x=-1),x*("asc"==s?1:-1)}):t},this.filterPredicate=(t,i)=>{const r=Object.keys(t).reduce((c,d)=>c+t[d]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Yn(e),this._updateChangeSubscription()}get data(){return this._data.value}set data(e){e=Array.isArray(e)?e:[],this._data.next(e),this._renderChangesSubscription||this._filterData(e)}get filter(){return this._filter.value}set filter(e){this._filter.next(e),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(e){this._sort=e,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(e){this._paginator=e,this._updateChangeSubscription()}_updateChangeSubscription(){var e;const t=this._sort?(0,ci.T)(this._sort.sortChange,this._sort.initialized):Ze(null),i=this._paginator?(0,ci.T)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Ze(null),s=ps([this._data,this._filter]).pipe((0,st.U)(([p])=>this._filterData(p))),c=ps([s,t]).pipe((0,st.U)(([p])=>this._orderData(p))),d=ps([c,i]).pipe((0,st.U)(([p])=>this._pageData(p)));null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=d.subscribe(p=>this._renderData.next(p))}_filterData(e){return this.filteredData=null==this.filter||""===this.filter?e:e.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(e){return this.sort?this.sortData(e.slice(),this.sort):e}_pageData(e){if(!this.paginator)return e;const t=this.paginator.pageIndex*this.paginator.pageSize;return e.slice(t,t+this.paginator.pageSize)}_updatePaginator(e){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=e,t.pageIndex>0)){const i=Math.ceil(t.length/t.pageSize)-1||0,r=Math.min(t.pageIndex,i);r!==t.pageIndex&&(t.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var e;null===(e=this._renderChangesSubscription)||void 0===e||e.unsubscribe(),this._renderChangesSubscription=null}}{}function L7(n,e){}class qO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const B7={dialogContainer:na("dialogContainer",[Gt("void, exit",Vt({opacity:0,transform:"scale(0.7)"})),Gt("enter",Vt({transform:"none"})),ki("* => enter",PE([ir("150ms cubic-bezier(0, 0, 0.2, 1)",Vt({transform:"none",opacity:1})),Xf("@*",Jf(),{optional:!0})])),ki("* => void, * => exit",PE([ir("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Vt({opacity:0})),Xf("@*",Jf(),{optional:!0})]))])};let V7=(()=>{class n extends Gu{constructor(t,i,r,s,c,d,p,y){super(),this._elementRef=t,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=d,this._ngZone=p,this._focusMonitor=y,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=C=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(C)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=FC())}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const i=FC(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=FC();return t===i||t.contains(i)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(jm),l.Y36(l.sBO),l.Y36(ne,8),l.Y36(qO),l.Y36(CE),l.Y36(l.R0b),l.Y36(ch))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(km,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),U7=(()=>{class n extends V7{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,i){1&t&&l.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&t&&(l.Ikx("id",i._id),l.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&l.YNc(0,L7,0,0,"ng-template",0)},directives:[km],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[B7.dialogContainer]}}),n})(),H7=0;class aj{constructor(e,t,i="mat-dialog-"+H7++){this._overlayRef=e,this._containerInstance=t,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new pt.x,this._afterClosed=new pt.x,this._beforeClosed=new pt.x,this._state=0,t._id=i,t._animationStateChanged.pipe(Ln(r=>"opened"===r.state),(0,Fn.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Ln(r=>"closed"===r.state),(0,Fn.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Ln(r=>27===r.keyCode&&!this.disableClose&&!Wl(r))).subscribe(r=>{r.preventDefault(),WO(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():WO(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ln(t=>"closing"===t.state),(0,Fn.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function WO(n,e,t){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=e),n.close(t)}const j7=new l.OlP("MatDialogData"),G7=new l.OlP("mat-dialog-default-options"),lj=new l.OlP("mat-dialog-scroll-strategy"),$7={provide:lj,deps:[$a],useFactory:function z7(n){return()=>n.scrollStrategies.block()}};let q7=(()=>{class n{constructor(t,i,r,s,c,d,p,y,C,D){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=p,this._dialogContainerType=y,this._dialogDataToken=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new pt.x,this._afterOpenedAtThisLevel=new pt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=go(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(yi(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){i=function W7(n,e){return Object.assign(Object.assign({},e),n)}(i,this._defaultOptions||new qO),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),c=this._attachDialogContent(t,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const i=this._getOverlayConfig(t);return this._overlay.create(i)}_getOverlayConfig(t){const i=new Zl({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachDialogContainer(t,i){const s=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:qO,useValue:i}]}),c=new Bc(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return t.attach(c).instance}_attachDialogContent(t,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(t instanceof l.Rgc)i.attachTemplatePortal(new eh(t,null,{$implicit:s.data,dialogRef:c}));else{const d=this._createInjector(s,c,i),p=i.attachComponentPortal(new Bc(t,s.viewContainerRef,d,s.componentFactoryResolver));c.componentInstance=p.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(t,i,r){const s=t&&t.viewContainerRef&&t.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:i}];return t.direction&&(!s||!s.get(Uu,null,l.XFs.Optional))&&c.push({provide:Uu,useValue:{value:t.direction,change:Ze()}}),l.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(t){const i=this.openDialogs.indexOf(t);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==t&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n}),n})(),pI=(()=>{class n extends q7{constructor(t,i,r,s,c,d,p,y){super(t,i,s,d,p,c,aj,U7,j7,y)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($a),l.LFG(l.zs3),l.LFG(we,8),l.LFG(G7,8),l.LFG(lj),l.LFG(n,12),l.LFG(Bm),l.LFG(Ja,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Z7=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function Y7(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){WO(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(aj,8),l.Y36(l.SBq),l.Y36(pI))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(s){return i._onButtonClick(s)}),2&t&&l.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pI,$7],imports:[[zv,xv,wn],wn]}),n})(),K7=(()=>{class n{constructor(t,i){this.dialog=t,this.auth=i}ngOnInit(){}onUserLogOut(){this.auth.userLogOut(),this.dialog.closeAll()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(pI),l.Y36(Gp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-dialog"]],decls:7,vars:0,consts:[["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","mat-dialog-close","","color","primary"]],template:function(t,i){1&t&&(l.TgZ(0,"h1"),l._uU(1,"Are you sure you want to log out?"),l.qZA(),l.TgZ(2,"div")(3,"button",0),l.NdJ("click",function(){return i.onUserLogOut()}),l._uU(4,"Yes"),l.qZA(),l.TgZ(5,"button",1),l._uU(6,"No"),l.qZA()())},directives:[Xa,Z7],styles:["div[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}"]}),n})(),uj=(()=>{class n{constructor(){this.successEmitter=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gI=(()=>{class n{constructor(){this.loadingEmitter=new l.vpe,this.loadingMap=new Map}setLoading(t,i){t?(this.loadingMap.set(i,t),this.loadingEmitter.emit(!0)):!t&&this.loadingMap.has(i)&&this.loadingMap.delete(i),0==this.loadingMap.size&&this.loadingEmitter.emit(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Q7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),n})(),dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[wn],wn]}),n})();const J7=["trigger"],X7=["panel"];function e9(n,e){if(1&n&&(l.TgZ(0,"span",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.placeholder)}}function t9(n,e){if(1&n&&(l.TgZ(0,"span",12),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.triggerValue)}}function n9(n,e){1&n&&l.Hsn(0,0,["*ngSwitchCase","true"])}function i9(n,e){if(1&n&&(l.TgZ(0,"span",9),l.YNc(1,t9,2,1,"span",10),l.YNc(2,n9,1,0,"ng-content",11),l.qZA()),2&n){const t=l.oxw();l.Q6J("ngSwitch",!!t.customTrigger),l.xp6(2),l.Q6J("ngSwitchCase",!0)}}function r9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",13)(1,"div",14,15),l.NdJ("@transformPanel.done",function(r){return l.CHM(t),l.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return l.CHM(t),l.oxw()._handleKeydown(r)}),l.Hsn(3,1),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("@transformPanelWrap",void 0),l.xp6(1),l.Gre("mat-select-panel ",t._getPanelTheme(),""),l.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),l.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),l.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const s9=[[["mat-select-trigger"]],"*"],o9=["mat-select-trigger","*"],hj={transformPanelWrap:na("transformPanelWrap",[ki("* => void",Xf("@transformPanel",[Jf()],{optional:!0}))]),transformPanel:na("transformPanel",[Gt("void",Vt({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Gt("showing",Vt({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Gt("showing-multiple",Vt({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),ki("void => *",ir("120ms cubic-bezier(0, 0, 0.2, 1)")),ki("* => void",ir("100ms 25ms linear",Vt({opacity:0})))])};let fj=0;const gj=new l.OlP("mat-select-scroll-strategy"),u9=new l.OlP("MAT_SELECT_CONFIG"),d9={provide:gj,deps:[$a],useFactory:function c9(n){return()=>n.scrollStrategies.reposition()}};class h9{constructor(e,t){this.source=e,this.value=t}}const f9=g_(YD(_p(KD(class{constructor(n,e,t,i,r){this._elementRef=n,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=i,this.ngControl=r}})))),p9=new l.OlP("MatSelectTrigger");let g9=(()=>{class n extends f9{constructor(t,i,r,s,c,d,p,y,C,D,x,O,L,Z){var ae,Le,We;super(c,s,p,y,D),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=C,this._liveAnnouncer=L,this._defaultOptions=Z,this._panelOpen=!1,this._compareWith=(Ue,je)=>Ue===je,this._uid="mat-select-"+fj++,this._triggerAriaLabelledBy=null,this._destroy=new pt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+fj++,this._panelDoneAnimatingStream=new pt.x,this._overlayPanelClass=(null===(ae=this._defaultOptions)||void 0===ae?void 0:ae.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(We=null===(Le=this._defaultOptions)||void 0===Le?void 0:Le.disableOptionCentering)&&void 0!==We&&We,this.ariaLabel="",this.optionSelectionChanges=go(()=>{const Ue=this.options;return Ue?Ue.changes.pipe(yi(Ue),In(()=>(0,ci.T)(...Ue.map(je=>je.onSelectionChange)))):this._ngZone.onStable.pipe((0,Fn.q)(1),In(()=>this.optionSelectionChanges))}),this.openedChange=new l.vpe,this._openedStream=this.openedChange.pipe(Ln(Ue=>Ue),(0,st.U)(()=>{})),this._closedStream=this.openedChange.pipe(Ln(Ue=>!Ue),(0,st.U)(()=>{})),this.selectionChange=new l.vpe,this.valueChange=new l.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==Z?void 0:Z.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=Z.typeaheadDebounceInterval),this._scrollStrategyFactory=O,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(x)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,r,s;return null!==(s=null!==(t=this._required)&&void 0!==t?t:null===(r=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===r?void 0:r.hasValidator(ed.required))&&void 0!==s&&s}set required(t){this._required=dn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=dn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=dn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=ja(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ZH(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Um(),An(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(An(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(yi(null),An(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?r.setAttribute("aria-labelledby",t):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!Wl(t)||(this.multiple||t.altKey)&&r)t.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(t);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,r=t.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||Wl(t))if(!c&&this._multiple&&65===r&&t.ctrlKey){t.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(t),this._multiple&&s&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Fn.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,t)}catch(s){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new BM(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(An(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(An(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,ci.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(An(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ci.T)(...this.options.map(i=>i._stateChanges)).pipe(An(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const r=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(r!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),r!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,t):t.indexOf(i)-t.indexOf(r)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let r=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Mm),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(Bb),l.Y36(l.SBq),l.Y36(Uu,8),l.Y36(td,8),l.Y36(Wp,8),l.Y36(lO,8),l.Y36(Kc,10),l.$8M("tabindex"),l.Y36(gj),l.Y36($m),l.Y36(u9,8))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&(l.Gf(J7,5),l.Gf(X7,5),l.Gf(Gv,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.trigger=r.first),l.iGM(r=l.CRH())&&(i.panel=r.first),l.iGM(r=l.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[l.qOj,l.TTD]}),n})(),m9=(()=>{class n extends g9{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*t-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(An(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Fn.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=iT(t,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:function Qx(n,e,t,i){return n<t?n:n+e>t+i?Math.max(0,n-i+e):t}((t+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new h9(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let y=this._selectionModel.selected[0]||this.options.first;c=y&&y.group?32:16}r||(c*=-1);const d=0-(t.left+c-(r?s:0)),p=t.right+c-i.width+(r?0:s);d>0?c+=d+8:p>0&&(c-=p+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?t*s:this._scrollTop===r?(t-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*p-c))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),y=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;y>c?this._adjustPanelUp(y,c):d>s?this._adjustPanelDown(d,s,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const r=Math.round(t-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,r){const s=Math.round(t-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*t,256),c=i*t-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=iT(d,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(d,p,c),this._offsetY=this._calculateOverlayOffsetY(d,p,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,p9,5),l.Suo(r,b_,5),l.Suo(r,Kx,5)),2&t){let s;l.iGM(s=l.CRH())&&(i.customTrigger=s.first),l.iGM(s=l.CRH())&&(i.options=s),l.iGM(s=l.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,i){1&t&&l.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(l.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),l.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[l._Bn([{provide:WS,useExisting:n},{provide:v_,useExisting:n}]),l.qOj],ngContentSelectors:o9,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(l.F$t(s9),l.TgZ(0,"div",0,1),l.NdJ("click",function(){return i.toggle()}),l.TgZ(3,"div",2),l.YNc(4,e9,2,1,"span",3),l.YNc(5,i9,3,2,"span",4),l.qZA(),l.TgZ(6,"div",5),l._UZ(7,"div",6),l.qZA()(),l.YNc(8,r9,4,14,"ng-template",7),l.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const r=l.MAs(1);l.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),l.xp6(3),l.Q6J("ngSwitch",i.empty),l.uIk("id",i._valueId),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngSwitchCase",!1),l.xp6(3),l.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[gE,Ui,Dr,ml,Gv,rs],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[hj.transformPanelWrap,hj.transformPanel]},changeDetection:0}),n})(),_9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[d9],imports:[[lo,zv,rT,wn],Fc,$w,rT,wn]}),n})();const y9=["tooltip"],mj="tooltip-panel",_j=Jd({passive:!0}),yj=new l.OlP("mat-tooltip-scroll-strategy"),C9={provide:yj,deps:[$a],useFactory:function w9(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},E9=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function D9(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let T9=(()=>{class n{constructor(t,i,r,s,c,d,p,y,C,D,x,O){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=c,this._platform=d,this._ariaDescriber=p,this._focusMonitor=y,this._dir=D,this._defaultOptions=x,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new pt.x,this._scrollStrategy=C,this._document=O,x&&(x.position&&(this.position=x.position),x.touchGestures&&(this.touchGestures=x.touchGestures)),D.change.pipe(An(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){var i;t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),null===(i=this._tooltipInstance)||void 0===i||i.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=dn(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=ja(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=ja(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(An(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,_j)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Bc(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(An(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){var t;if(this._overlayRef)return this._overlayRef;const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(An(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${mj}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(An(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(An(this._destroyed)).subscribe(()=>{var s;return null===(s=this._tooltipInstance)||void 0===s?void 0:s._handleBodyInteraction()}),this._overlayRef.keydownEvents().pipe(An(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Wl(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),(null===(t=this._defaultOptions)||void 0===t?void 0:t.disableTooltipInteractivity)&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset(Object.assign(Object.assign({},r.main),s.main)),this._addOffset(Object.assign(Object.assign({},r.fallback),s.fallback))])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:s,y:c}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:c}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:c}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe((0,Fn.q)(1),An(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:s}=t;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",c!==this._currentPosition){const d=this._overlayRef;if(d){const p=`${this._cssClassPrefix}-${mj}-`;d.removePanelClass(p+this._currentPosition),d.addPanelClass(p+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{var r;const s=i.relatedTarget;(!s||!(null===(r=this._overlayRef)||void 0===r?void 0:r.overlayElement.contains(s)))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,_j)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),S9=(()=>{class n extends T9{constructor(t,i,r,s,c,d,p,y,C,D,x,O){super(t,i,r,s,c,d,p,y,C,D,x,O),this._tooltipComponent=A9}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($a),l.Y36(l.SBq),l.Y36(UC),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(Ri),l.Y36(bE),l.Y36(ch),l.Y36(yj),l.Y36(Uu,8),l.Y36(E9,8),l.Y36(ne))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[l.qOj]}),n})(),I9=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new pt.x,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(t?s:r),i.classList.add(t?r:s),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(Ja,8))},n.\u0275dir=l.lG2({type:n}),n})(),A9=(()=>{class n extends I9{constructor(t,i,r){super(t,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(jb),l.Y36(Ja,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&l.Gf(y9,7),2&t){let r;l.iGM(r=l.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("mouseleave",function(s){return i._handleMouseLeave(s)}),2&t&&l.Udp("zoom",i.isVisible()?1:null)},features:[l.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0,1),l.NdJ("animationend",function(s){return i._handleAnimationEnd(s)}),l.ALo(2,"async"),l._uU(3),l.qZA()),2&t){let r;l.ekj("mat-tooltip-handset",null==(r=l.lcZ(2,4,i._isHandset))?null:r.matches),l.Q6J("ngClass",i.tooltipClass),l.xp6(3),l.Oqu(i.message)}},directives:[rs],pipes:[ef],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}\n"],encapsulation:2,changeDetection:0}),n})(),M9=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[C9],imports:[[kE,lo,zv,wn],wn,Fc]}),n})();function x9(n,e){if(1&n&&(l.TgZ(0,"mat-option",19),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.Q6J("value",t),l.xp6(1),l.hij(" ",t," ")}}function R9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-form-field",16)(1,"mat-select",17),l.NdJ("selectionChange",function(r){return l.CHM(t),l.oxw(2)._changePageSize(r.value)}),l.YNc(2,x9,2,2,"mat-option",18),l.qZA()()}if(2&n){const t=l.oxw(2);l.Q6J("appearance",t._formFieldAppearance)("color",t.color),l.xp6(1),l.Q6J("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),l.xp6(1),l.Q6J("ngForOf",t._displayedPageSizeOptions)}}function k9(n,e){if(1&n&&(l.TgZ(0,"div",20),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.pageSize)}}function O9(n,e){if(1&n&&(l.TgZ(0,"div",12)(1,"div",13),l._uU(2),l.qZA(),l.YNc(3,R9,3,6,"mat-form-field",14),l.YNc(4,k9,2,1,"div",15),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.hij(" ",t._intl.itemsPerPageLabel," "),l.xp6(1),l.Q6J("ngIf",t._displayedPageSizeOptions.length>1),l.xp6(1),l.Q6J("ngIf",t._displayedPageSizeOptions.length<=1)}}function P9(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",21),l.NdJ("click",function(){return l.CHM(t),l.oxw().firstPage()}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",22),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),l.uIk("aria-label",t._intl.firstPageLabel)}}function N9(n,e){if(1&n){const t=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"button",23),l.NdJ("click",function(){return l.CHM(t),l.oxw().lastPage()}),l.O4$(),l.TgZ(1,"svg",7),l._UZ(2,"path",24),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),l.uIk("aria-label",t._intl.lastPageLabel)}}let _I=(()=>{class n{constructor(){this.changes=new pt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=t*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const L9={provide:_I,deps:[[new l.FiY,new l.tp0,_I]],useFactory:function F9(n){return n||new _I}},V9=new l.OlP("MAT_PAGINATOR_DEFAULT_OPTIONS"),U9=_p(QD(class{}));let H9=(()=>{class n extends U9{constructor(t,i,r){if(super(),this._intl=t,this._changeDetectorRef=i,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new l.vpe,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:c,hidePageSize:d,showFirstLastButtons:p}=r;null!=s&&(this._pageSize=s),null!=c&&(this._pageSizeOptions=c),null!=d&&(this._hidePageSize=d),null!=p&&(this._showFirstLastButtons=p)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(ja(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=ja(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(ja(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>ja(i)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=dn(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=dn(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){!this._initialized||(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{color:"color",pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons"},outputs:{page:"page"},features:[l.qOj]}),n})(),j9=(()=>{class n extends H9{constructor(t,i,r){super(t,i,r),r&&null!=r.formFieldAppearance&&(this._formFieldAppearance=r.formFieldAppearance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(_I),l.Y36(l.sBO),l.Y36(V9,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[l.qOj],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,O9,5,3,"div",2),l.TgZ(3,"div",3)(4,"div",4),l._uU(5),l.qZA(),l.YNc(6,P9,3,5,"button",5),l.TgZ(7,"button",6),l.NdJ("click",function(){return i.previousPage()}),l.O4$(),l.TgZ(8,"svg",7),l._UZ(9,"path",8),l.qZA()(),l.kcU(),l.TgZ(10,"button",9),l.NdJ("click",function(){return i.nextPage()}),l.O4$(),l.TgZ(11,"svg",7),l._UZ(12,"path",10),l.qZA()(),l.YNc(13,N9,3,5,"button",11),l.qZA()()()),2&t&&(l.xp6(2),l.Q6J("ngIf",!i.hidePageSize),l.xp6(3),l.hij(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),l.xp6(1),l.Q6J("ngIf",i.showFirstLastButtons),l.xp6(1),l.Q6J("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("matTooltipPosition","above")("disabled",i._previousButtonsDisabled()),l.uIk("aria-label",i._intl.previousPageLabel),l.xp6(3),l.Q6J("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("matTooltipPosition","above")("disabled",i._nextButtonsDisabled()),l.uIk("aria-label",i._intl.nextPageLabel),l.xp6(3),l.Q6J("ngIf",i.showFirstLastButtons))},directives:[Kp,m9,b_,Xa,On,pi,S9],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-paginator-icon{fill:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),vj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[L9],imports:[[lo,bp,_9,M9,wn]]}),n})();const G9=["paginator"];function z9(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Vin Code "),l.qZA())}function $9(n,e){if(1&n&&(l.TgZ(0,"td",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.key," ")}}function q9(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Manufacturer "),l.qZA())}function W9(n,e){if(1&n&&(l.TgZ(0,"td",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.manufacturer," ")}}function Z9(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Image "),l.qZA())}function Y9(n,e){if(1&n&&(l.TgZ(0,"td",25),l._UZ(1,"img",26),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Q6J("src",t.image,l.LSH)}}function K9(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Model "),l.qZA())}function Q9(n,e){if(1&n&&(l.TgZ(0,"td",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.model," ")}}function J9(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Year "),l.qZA())}function X9(n,e){if(1&n&&(l.TgZ(0,"td",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.year," ")}}function eQ(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Phone Number "),l.qZA())}function tQ(n,e){if(1&n&&(l.TgZ(0,"td",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.phoneNumber," ")}}function nQ(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Price "),l.qZA())}function iQ(n,e){if(1&n&&(l.TgZ(0,"td",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.price," $ ")}}function rQ(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Mile "),l.qZA())}function sQ(n,e){if(1&n&&(l.TgZ(0,"td",25),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t.mile," ")}}function oQ(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Delete "),l.qZA())}function aQ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",25)(1,"button",2),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().onDeleteBtnClick(s.key)}),l._uU(2,"Delete"),l.qZA()()}}function lQ(n,e){1&n&&(l.TgZ(0,"th",24),l._uU(1," Update "),l.qZA())}function cQ(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"td",25)(1,"button",27),l.NdJ("click",function(){const s=l.CHM(t).$implicit;return l.oxw().openUpdateService(s.id)}),l._uU(2,"Update"),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(1),l.MGl("routerLink","/update/",t.key,"")}}function uQ(n,e){1&n&&l._UZ(0,"tr",28)}function dQ(n,e){1&n&&l._UZ(0,"tr",29)}const hQ=function(){return[2,5,10,50,100]},fQ=[{path:"create",canActivate:[Uk],component:n7},{path:"update/:key",canActivate:[Uk],component:(()=>{class n{constructor(t,i,r){this.activatedRoute=t,this.router=i,this.firebaseClient=r,this.formDefaultData=[],this.key=""}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.firebaseClient.GetCarByKey(t.key).subscribe(r=>{console.log(r),this.formDefaultData=r})})}onCancelBtnClick(){this.router.navigate(["/"])}onUpdateFormSubit(t){console.log(t),this.firebaseClient.updateCar(this.key,t).then(i=>{this.router.navigate(["/"])})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Bl),l.Y36(li),l.Y36(QS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-update"]],decls:65,vars:12,consts:[[1,"main"],["name","loginForm",3,"ngSubmit"],["form","ngForm"],[1,"inline-groups"],["appearance","fill"],["required","","name","manufacturer","matInput","",3,"ngModel","ngModelChange"],["required","","name","model","matInput","",3,"ngModel","ngModelChange"],["required","","name","year","matInput","",3,"ngModel","ngModelChange"],["required","","name","vinCode","matInput","",3,"ngModel","ngModelChange"],["required","","name","price","matInput","",3,"ngModel","ngModelChange"],["required","","name","mile","matInput","",3,"ngModel","ngModelChange"],["required","","name","phoneNumber","matInput","",3,"ngModel","ngModelChange"],["required","","name","image","matInput","",3,"ngModel","ngModelChange"],["required","","name","driveTrainGeo","matInput","",3,"ngModel","ngModelChange"],["required","","name","driveTrainEng","ngModel","","matInput","",3,"ngModel","ngModelChange"],["required","","name","fuelTypeGeo","matInput","",3,"ngModel","ngModelChange"],["required","","name","fuelTypeEng","ngModel","","matInput","",3,"ngModel","ngModelChange"],[1,"form-group-inline"],["type","button","mat-raised-button","","color","warn",3,"click"],["type","submit","mat-raised-button","","color","primary"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"article")(1,"div",0)(2,"h1"),l._uU(3,"Update Car Information"),l.qZA(),l.TgZ(4,"form",1,2),l.NdJ("ngSubmit",function(){l.CHM(r);const c=l.MAs(5);return i.onUpdateFormSubit(c)}),l.TgZ(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),l._uU(9,"Manufacturer"),l.qZA(),l.TgZ(10,"input",5),l.NdJ("ngModelChange",function(c){return i.formDefaultData[5]=c}),l.qZA()(),l.TgZ(11,"mat-form-field",4)(12,"mat-label"),l._uU(13,"Model"),l.qZA(),l.TgZ(14,"input",6),l.NdJ("ngModelChange",function(c){return i.formDefaultData[7]=c}),l.qZA()()(),l.TgZ(15,"div",3)(16,"mat-form-field",4)(17,"mat-label"),l._uU(18,"Year"),l.qZA(),l.TgZ(19,"input",7),l.NdJ("ngModelChange",function(c){return i.formDefaultData[11]=c}),l.qZA()(),l.TgZ(20,"mat-form-field",4)(21,"mat-label"),l._uU(22,"Vinc Code"),l.qZA(),l.TgZ(23,"input",8),l.NdJ("ngModelChange",function(c){return i.formDefaultData[10]=c}),l.qZA()()(),l.TgZ(24,"div",3)(25,"mat-form-field",4)(26,"mat-label"),l._uU(27,"Price"),l.qZA(),l.TgZ(28,"input",9),l.NdJ("ngModelChange",function(c){return i.formDefaultData[9]=c}),l.qZA()(),l.TgZ(29,"mat-form-field",4)(30,"mat-label"),l._uU(31,"Mile"),l.qZA(),l.TgZ(32,"input",10),l.NdJ("ngModelChange",function(c){return i.formDefaultData[6]=c}),l.qZA()()(),l.TgZ(33,"div",3)(34,"mat-form-field",4)(35,"mat-label"),l._uU(36,"Seller Phone Number"),l.qZA(),l.TgZ(37,"input",11),l.NdJ("ngModelChange",function(c){return i.formDefaultData[8]=c}),l.qZA()(),l.TgZ(38,"mat-form-field",4)(39,"mat-label"),l._uU(40,"Image Url"),l.qZA(),l.TgZ(41,"input",12),l.NdJ("ngModelChange",function(c){return i.formDefaultData[4]=c}),l.qZA()()(),l.TgZ(42,"div",3)(43,"mat-form-field",4)(44,"mat-label"),l._uU(45,"Drive Train Geo"),l.qZA(),l.TgZ(46,"input",13),l.NdJ("ngModelChange",function(c){return i.formDefaultData[1]=c}),l.qZA()(),l.TgZ(47,"mat-form-field",4)(48,"mat-label"),l._uU(49,"Drive Train Eng"),l.qZA(),l.TgZ(50,"input",14),l.NdJ("ngModelChange",function(c){return i.formDefaultData[0]=c}),l.qZA()()(),l.TgZ(51,"div",3)(52,"mat-form-field",4)(53,"mat-label"),l._uU(54,"Fuel Type Geo"),l.qZA(),l.TgZ(55,"input",15),l.NdJ("ngModelChange",function(c){return i.formDefaultData[3]=c}),l.qZA()(),l.TgZ(56,"mat-form-field",4)(57,"mat-label"),l._uU(58,"Fuel Type Eng"),l.qZA(),l.TgZ(59,"input",16),l.NdJ("ngModelChange",function(c){return i.formDefaultData[2]=c}),l.qZA()()(),l.TgZ(60,"div",17)(61,"button",18),l.NdJ("click",function(){return i.onCancelBtnClick()}),l._uU(62,"Cancel"),l.qZA(),l.TgZ(63,"button",19),l._uU(64,"Save"),l.qZA()()()()()}2&t&&(l.xp6(10),l.Q6J("ngModel",i.formDefaultData[5]),l.xp6(4),l.Q6J("ngModel",i.formDefaultData[7]),l.xp6(5),l.Q6J("ngModel",i.formDefaultData[11]),l.xp6(4),l.Q6J("ngModel",i.formDefaultData[10]),l.xp6(5),l.Q6J("ngModel",i.formDefaultData[9]),l.xp6(4),l.Q6J("ngModel",i.formDefaultData[6]),l.xp6(5),l.Q6J("ngModel",i.formDefaultData[8]),l.xp6(4),l.Q6J("ngModel",i.formDefaultData[4]),l.xp6(5),l.Q6J("ngModel",i.formDefaultData[1]),l.xp6(4),l.Q6J("ngModel",i.formDefaultData[0]),l.xp6(5),l.Q6J("ngModel",i.formDefaultData[3]),l.xp6(4),l.Q6J("ngModel",i.formDefaultData[2]))},directives:[ny,ey,td,Kp,Yp,iy,$p,zw,Bw,$S,Xa],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";*[_ngcontent-%COMP%]{font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}.main[_ngcontent-%COMP%]{text-align:center}mat-form-field[_ngcontent-%COMP%]{margin:5px;width:25%}.inline-groups[_ngcontent-%COMP%]{margin:.5%}button[_ngcontent-%COMP%]{width:12.5%}.form-group-inline[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly}']}),n})()},{path:"",canActivate:[Uk],component:(()=>{class n{constructor(t,i,r,s,c,d){this.alert=t,this.loading=i,this.dialog=r,this.firebaseClient=s,this.router=c,this.auth=d,this.load=!1,this.length=30,this.pageSize=5,this.pageSizeOptions=[5,10,25,100],this.displayedColumns=["image","key","manufacturer","model","year","phoneNumber","mile","price","delete","update"]}ngOnInit(){this.subToLoadingService(),this.firebaseClient.GetAllCars().subscribe(t=>{this.dataSource=new oj(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.matSort})}subToLoadingService(){this.loading.loadingEmitter.subscribe(t=>{this.load=t})}filterData(t){this.dataSource.filter=t.target.value}readDataToFirebase(){this.firebaseClient.GetAllCars().subscribe(t=>{this.dataSource=new oj(t),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.matSort})}openDialog(){this.dialog.open(K7)}openUpdateService(t){this.firebaseClient.GetCarByKey(t).subscribe(i=>{})}onDeleteBtnClick(t){this.firebaseClient.deleteCar(t)}openCreateService(){this.router.navigate(["create"])}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(uj),l.Y36(gI),l.Y36(pI),l.Y36(QS),l.Y36(li),l.Y36(Gp))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],viewQuery:function(t,i){if(1&t&&(l.Gf(G9,5),l.Gf(o7,5)),2&t){let r;l.iGM(r=l.CRH())&&(i.paginator=r.first),l.iGM(r=l.CRH())&&(i.matSort=r.first)}},decls:45,vars:6,consts:[[1,"add-Btn"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"],[1,"search-bar"],["appearance","standard",2,"margin","0.5%"],["matInput","","placeholder","Search","autocomplete","off",3,"keyup"],["input",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","key"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","manufacturer"],["matColumnDef","image"],["matColumnDef","model"],["matColumnDef","year"],["matColumnDef","phoneNumber"],["matColumnDef","price"],["matColumnDef","mile"],["matColumnDef","delete"],["matColumnDef","update"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"pageSize","pageSizeOptions"],["paginator",""],["mat-header-cell",""],["mat-cell",""],["mat-card-image","","alt","Photo of a Shiba Inu",3,"src"],["mat-raised-button","","color","primary",3,"routerLink","click"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(l.TgZ(0,"div")(1,"div",0)(2,"button",1),l.NdJ("click",function(){return i.openCreateService()}),l._uU(3,"Add New Car"),l.qZA(),l.TgZ(4,"button",2),l.NdJ("click",function(){return i.openDialog()}),l._uU(5,"Log out"),l.qZA()(),l.TgZ(6,"div",3)(7,"mat-form-field",4)(8,"input",5,6),l.NdJ("keyup",function(s){return i.filterData(s)}),l.qZA()()(),l.TgZ(10,"table",7),l.ynx(11,8),l.YNc(12,z9,2,0,"th",9),l.YNc(13,$9,2,1,"td",10),l.BQk(),l.ynx(14,11),l.YNc(15,q9,2,0,"th",9),l.YNc(16,W9,2,1,"td",10),l.BQk(),l.ynx(17,12),l.YNc(18,Z9,2,0,"th",9),l.YNc(19,Y9,2,1,"td",10),l.BQk(),l.ynx(20,13),l.YNc(21,K9,2,0,"th",9),l.YNc(22,Q9,2,1,"td",10),l.BQk(),l.ynx(23,14),l.YNc(24,J9,2,0,"th",9),l.YNc(25,X9,2,1,"td",10),l.BQk(),l.ynx(26,15),l.YNc(27,eQ,2,0,"th",9),l.YNc(28,tQ,2,1,"td",10),l.BQk(),l.ynx(29,16),l.YNc(30,nQ,2,0,"th",9),l.YNc(31,iQ,2,1,"td",10),l.BQk(),l.ynx(32,17),l.YNc(33,rQ,2,0,"th",9),l.YNc(34,sQ,2,1,"td",10),l.BQk(),l.ynx(35,18),l.YNc(36,oQ,2,0,"th",9),l.YNc(37,aQ,3,0,"td",10),l.BQk(),l.ynx(38,19),l.YNc(39,lQ,2,0,"th",9),l.YNc(40,cQ,3,1,"td",10),l.BQk(),l.YNc(41,uQ,1,0,"tr",20),l.YNc(42,dQ,1,0,"tr",21),l.qZA(),l._UZ(43,"mat-paginator",22,23),l.qZA()),2&t&&(l.xp6(10),l.Q6J("dataSource",i.dataSource),l.xp6(31),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(1),l.Q6J("pageSize",10)("pageSizeOptions",l.DdM(5,hQ)))},directives:[Xa,Kp,iy,ej,GO,jO,zO,HO,$O,Q7,Kd,tj,ij,nj,rj,j9],styles:['@import"https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai+Looped:wght@200&family=Montserrat:wght@300;500&family=Roboto+Condensed:ital@1&display=swap";*[_ngcontent-%COMP%]{font-family:IBM Plex Sans Thai Looped,sans-serif;font-family:Montserrat,sans-serif;font-family:Roboto Condensed,sans-serif}article[_ngcontent-%COMP%]{position:absolute;top:0px;bottom:0px;left:0px;right:0px;display:flex;justify-content:center;align-items:center;background-color:#dedede80}table[_ngcontent-%COMP%]{width:100%}img[_ngcontent-%COMP%]{width:200px;height:100px;object-fit:cover}.add-Btn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:.5%}']}),n})()},{path:"user-login",canActivate:[Hk],component:dY},{path:"user-registration",canActivate:[Hk],component:fY},{path:"password-reset",canActivate:[Hk],component:V5}];let pQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[kf.forRoot(fQ)],kf]}),n})(),gQ=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-loading"]],decls:2,vars:0,consts:[["viewBox","0 0 100 100","xmlns","http://www.w3.org/2000/svg"],["cx","50","cy","50","r","46"]],template:function(t,i){1&t&&(l.O4$(),l.TgZ(0,"svg",0),l._UZ(1,"circle",1),l.qZA())},styles:["svg[_ngcontent-%COMP%]{width:100%;max-width:10rem;animation:rotate 3.6s linear infinite}circle[_ngcontent-%COMP%]{fill:none;stroke:#6a5acd;stroke-width:8px;stroke-dasharray:300;animation:outline 2s cubic-bezier(.77,0,.18,1) infinite}@keyframes outline{0%{stroke-dashoffset:0}50%{stroke-dashoffset:300}to{stroke-dashoffset:600}}@keyframes rotate{0%{transform:rotate(0)}to{transform:rotate(-1turn)}}"]}),n})();function mQ(n,e){1&n&&(l.TgZ(0,"article"),l._UZ(1,"app-loading"),l.qZA())}let _Q=(()=>{class n{constructor(t,i){this.loading=t,this.fire=i,this.title="angularcr",this.load=!1}ngOnInit(){this.subToLoadingService()}subToLoadingService(){this.loading.loadingEmitter.subscribe(t=>{this.load=t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(gI),l.Y36(QS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,i){1&t&&(l.YNc(0,mQ,2,0,"article",0),l.TgZ(1,"div"),l._UZ(2,"router-outlet"),l.qZA()),2&t&&l.Q6J("ngIf",i.load)},directives:[On,gQ,Pu],styles:["article[_ngcontent-%COMP%]{position:absolute;top:0px;bottom:0px;left:0px;right:0px;display:flex;justify-content:center;align-items:center;background-color:#dedede80}"]}),n})();function ZO(){return(0,Nn.e)((n,e)=>{let t,i=!1;n.subscribe((0,un.x)(e,r=>{const s=t;t=r,i&&e.next([s,r]),i=!0}))})}var ct,yQ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ad={},YO=YO||{},Ft=yQ||self;function yI(){}function KO(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function r0(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var QO="closure_uid_"+(1e9*Math.random()>>>0),bQ=0;function wQ(n,e,t){return n.call.apply(n.bind,arguments)}function CQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Zr(n,e,t){return(Zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wQ:CQ).apply(null,arguments)}function vI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Yr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return e.prototype[r].apply(i,c)}}function Fh(){this.s=this.s,this.o=this.o}var DQ={};Fh.prototype.s=!1,Fh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function vQ(n){return Object.prototype.hasOwnProperty.call(n,QO)&&n[QO]||(n[QO]=++bQ)}(this);delete DQ[n]}},Fh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const bj=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},wj=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&e.call(t,r[s],s,n)};function Cj(n){return Array.prototype.concat.apply([],arguments)}function JO(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function bI(n){return/^[\s\xa0]*$/.test(n)}var Ys,Ej=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Zs(n,e){return-1!=n.indexOf(e)}function XO(n,e){return n<e?-1:n>e?1:0}e:{var Dj=Ft.navigator;if(Dj){var Tj=Dj.userAgent;if(Tj){Ys=Tj;break e}}Ys=""}function eP(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function Sj(n){const e={};for(const t in n)e[t]=n[t];return e}var Ij="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Aj(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let s=0;s<Ij.length;s++)t=Ij[s],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function tP(n){return tP[" "](n),n}tP[" "]=yI;var wI,n,IQ=Zs(Ys,"Opera"),dy=Zs(Ys,"Trident")||Zs(Ys,"MSIE"),Mj=Zs(Ys,"Edge"),nP=Mj||dy,xj=Zs(Ys,"Gecko")&&!(Zs(Ys.toLowerCase(),"webkit")&&!Zs(Ys,"Edge"))&&!(Zs(Ys,"Trident")||Zs(Ys,"MSIE"))&&!Zs(Ys,"Edge"),AQ=Zs(Ys.toLowerCase(),"webkit")&&!Zs(Ys,"Edge");function Rj(){var n=Ft.document;return n?n.documentMode:void 0}e:{var iP="",rP=(n=Ys,xj?/rv:([^\);]+)(\)|;)/.exec(n):Mj?/Edge\/([\d\.]+)/.exec(n):dy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):AQ?/WebKit\/(\S+)/.exec(n):IQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(rP&&(iP=rP?rP[1]:""),dy){var sP=Rj();if(null!=sP&&sP>parseFloat(iP)){wI=String(sP);break e}}wI=iP}var MQ={};var RQ=Ft.document&&dy&&(Rj()||parseInt(wI,10))||void 0,kQ=function(){if(!Ft.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ft.addEventListener("test",yI,e),Ft.removeEventListener("test",yI,e)}catch(t){}return n}();function Cs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function s0(n,e){if(Cs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(xj){e:{try{tP(e.nodeName);var r=!0;break e}catch(s){}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:OQ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&s0.Z.h.call(this)}}Cs.prototype.h=function(){this.defaultPrevented=!0},Yr(s0,Cs);var OQ={2:"touch",3:"pen",4:"mouse"};s0.prototype.h=function(){s0.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var o0="closure_listenable_"+(1e6*Math.random()|0),PQ=0;function NQ(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++PQ,this.ca=this.fa=!1}function CI(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function EI(n){this.src=n,this.g={},this.h=0}function aP(n,e){var t=e.type;if(t in n.g){var s,i=n.g[t],r=bj(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(CI(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function lP(n,e,t,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==i)return r}return-1}EI.prototype.add=function(n,e,t,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=lP(n,e,i,r);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new NQ(e,this.src,s,!!i,r)).fa=t,n.push(e)),e};var cP="closure_lm_"+(1e6*Math.random()|0),uP={};function Oj(n,e,t,i,r){if(i&&i.once)return Nj(n,e,t,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)Oj(n,e[s],t,i,r);return null}return t=pP(t),n&&n[o0]?n.N(e,t,r0(i)?!!i.capture:!!i,r):Pj(n,e,t,!1,i,r)}function Pj(n,e,t,i,r,s){if(!e)throw Error("Invalid event type");var c=r0(r)?!!r.capture:!!r,d=hP(n);if(d||(n[cP]=d=new EI(n)),(t=d.add(e,t,i,c,s)).proxy)return t;if(i=function FQ(){var e=LQ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)kQ||(r=c),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Lj(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function Nj(n,e,t,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Nj(n,e[s],t,i,r);return null}return t=pP(t),n&&n[o0]?n.O(e,t,r0(i)?!!i.capture:!!i,r):Pj(n,e,t,!0,i,r)}function Fj(n,e,t,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)Fj(n,e[s],t,i,r);else i=r0(i)?!!i.capture:!!i,t=pP(t),n&&n[o0]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=lP(s=n.g[e],t,i,r))&&(CI(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=hP(n))&&(e=n.g[e.toString()],n=-1,e&&(n=lP(e,t,i,r)),(t=-1<n?e[n]:null)&&dP(t))}function dP(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[o0])aP(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Lj(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=hP(e))?(aP(t,n),0==t.h&&(t.src=null,e[cP]=null)):CI(n)}}}function Lj(n){return n in uP?uP[n]:uP[n]="on"+n}function LQ(n,e){if(n.ca)n=!0;else{e=new s0(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&dP(n),n=t.call(i,e)}return n}function hP(n){return(n=n[cP])instanceof EI?n:null}var fP="__closure_events_fn_"+(1e9*Math.random()>>>0);function pP(n){return"function"==typeof n?n:(n[fP]||(n[fP]=function(e){return n.handleEvent(e)}),n[fP])}function Or(){Fh.call(this),this.i=new EI(this),this.P=this,this.I=null}function Kr(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new Cs(e,n);else if(e instanceof Cs)e.target=e.target||n;else{var r=e;Aj(e=new Cs(i,n),r)}if(r=!0,t)for(var s=t.length-1;0<=s;s--){var c=e.g=t[s];r=DI(c,i,!0,e)&&r}if(r=DI(c=e.g=n,i,!0,e)&&r,r=DI(c,i,!1,e)&&r,t)for(s=0;s<t.length;s++)r=DI(c=e.g=t[s],i,!1,e)&&r}function DI(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var c=e[s];if(c&&!c.ca&&c.capture==t){var d=c.listener,p=c.ia||c.src;c.fa&&aP(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}Yr(Or,Fh),Or.prototype[o0]=!0,Or.prototype.removeEventListener=function(n,e,t,i){Fj(this,n,e,t,i)},Or.prototype.M=function(){if(Or.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)CI(t[i]);delete n.g[e],n.h--}}this.I=null},Or.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},Or.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var gP=Ft.JSON.stringify;function BQ(){var n=Vj;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var _P,Bj=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new UQ,n=>n.reset());class UQ{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function HQ(n){Ft.setTimeout(()=>{throw n},0)}function mP(n,e){_P||function jQ(){var n=Ft.Promise.resolve(void 0);_P=function(){n.then(GQ)}}(),yP||(_P(),yP=!0),Vj.add(n,e)}var yP=!1,Vj=new class VQ{constructor(){this.h=this.g=null}add(e,t){const i=Bj.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function GQ(){for(var n;n=BQ();){try{n.h.call(n.g)}catch(t){HQ(t)}var e=Bj;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}yP=!1}function TI(n,e){Or.call(this),this.h=n||1,this.g=e||Ft,this.j=Zr(this.kb,this),this.l=Date.now()}function vP(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function bP(n,e,t){if("function"==typeof n)t&&(n=Zr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ft.setTimeout(n,e||0)}function Uj(n){n.g=bP(()=>{n.g=null,n.i&&(n.i=!1,Uj(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Yr(TI,Or),(ct=TI.prototype).da=!1,ct.S=null,ct.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Kr(this,"tick"),this.da&&(vP(this),this.start()))}},ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ct.M=function(){TI.Z.M.call(this),vP(this),delete this.g};class zQ extends Fh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Uj(this)}M(){super.M(),this.g&&(Ft.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function a0(n){Fh.call(this),this.h=n,this.g={}}Yr(a0,Fh);var Hj=[];function jj(n,e,t,i){Array.isArray(t)||(t&&(Hj[0]=t.toString()),t=Hj);for(var r=0;r<t.length;r++){var s=Oj(e,t[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function Gj(n){eP(n.g,function(e,t){this.g.hasOwnProperty(t)&&dP(e)},n),n.g={}}function SI(){this.g=!0}function hy(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ZQ(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return gP(t)}catch(d){return e}}(n,t)+(i?" "+i:"")})}a0.prototype.M=function(){a0.Z.M.call(this),Gj(this)},a0.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},SI.prototype.Aa=function(){this.g=!1},SI.prototype.info=function(){};var Xp={},zj=null;function II(){return zj=zj||new Or}function $j(n){Cs.call(this,Xp.Ma,n)}function l0(n){const e=II();Kr(e,new $j(e,n))}function qj(n,e){Cs.call(this,Xp.STAT_EVENT,n),this.stat=e}function Ks(n){const e=II();Kr(e,new qj(e,n))}function Wj(n,e){Cs.call(this,Xp.Na,n),this.size=e}function c0(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ft.setTimeout(function(){n()},e)}Xp.Ma="serverreachability",Yr($j,Cs),Xp.STAT_EVENT="statevent",Yr(qj,Cs),Xp.Na="timingevent",Yr(Wj,Cs);var AI={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Zj={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wP(){}function Kj(){}wP.prototype.h=null;var DP,u0={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function CP(){Cs.call(this,"d")}function EP(){Cs.call(this,"c")}function MI(){}function d0(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new a0(this),this.P=YQ,this.W=new TI(n=nP?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Qj}function Qj(){this.i=null,this.g="",this.h=!1}Yr(CP,Cs),Yr(EP,Cs),Yr(MI,wP),MI.prototype.g=function(){return new XMLHttpRequest},MI.prototype.i=function(){return{}},DP=new MI;var YQ=45e3,TP={},xI={};function SP(n,e,t){n.K=1,n.v=NI(ld(e)),n.s=t,n.U=!0,Jj(n,null)}function Jj(n,e){n.F=Date.now(),h0(n),n.A=ld(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),aG(t.h,"t",i),n.C=0,t=n.l.H,n.h=new Qj,n.g=xG(n.l,t?e:null,!n.s),0<n.O&&(n.L=new zQ(Zr(n.Ia,n,n.g),n.O)),jj(n.V,n.g,"readystatechange",n.gb),e=n.H?Sj(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),l0(1),function $Q(n,e,t,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var y=d[p].split("=");if(1<y.length){var C=y[0];y=y[1];var D=C.split("_");c=2<=D.length&&"type"==D[1]?c+(C+"=")+y+"&":c+(C+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Xj(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function eG(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=KQ(n,t),r==xI){4==e&&(n.o=4,Ks(14),i=!1),hy(n.j,n.m,null,"[Incomplete Response]");break}if(r==TP){n.o=4,Ks(15),hy(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}hy(n.j,n.m,r,null),IP(n,r)}Xj(n)&&r!=xI&&r!=TP&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ks(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),BP(e),e.L=!0,Ks(11))):(hy(n.j,n.m,t,"[Invalid Chunked Response]"),eg(n),f0(n))}function KQ(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?xI:(t=Number(e.substring(t,i)),isNaN(t)?TP:(i+=1)+t>e.length?xI:(e=e.substr(i,t),n.C=i+t,e))}function h0(n){n.Y=Date.now()+n.P,tG(n,n.P)}function tG(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=c0(Zr(n.eb,n),e)}function RI(n){n.B&&(Ft.clearTimeout(n.B),n.B=null)}function f0(n){0==n.l.G||n.I||SG(n.l,n)}function eg(n){RI(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,vP(n.W),Gj(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function IP(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||xP(t.i,n)))if(t.I=n.N,!n.J&&xP(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch(y){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(t.u)t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=c0(Zr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;HI(t),VI(t)}LP(t),Ks(18)}if(1>=uG(t.i)&&t.ka){try{t.ka()}catch(y){}t.ka=void 0}}else ig(t,11)}else if((n.J||t.g==n)&&HI(t),!bI(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let y=r[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const C=y[3];null!=C&&(t.ma=C,t.h.info("VER="+t.ma));const D=y[4];null!=D&&(t.za=D,t.h.info("SVER="+t.za));const x=y[5];null!=x&&"number"==typeof x&&0<x&&(t.K=i=1.5*x,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const O=n.g;if(O){const L=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var s=i.i;!s.g&&(Zs(L,"spdy")||Zs(L,"quic")||Zs(L,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(RP(s,s.h),s.h=null))}if(i.D){const Z=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;Z&&(i.sa=Z,di(i.F,i.D,Z))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((i=t).oa=MG(i,i.H?i.la:null,i.W),c.J){dG(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(RI(d),h0(d)),i.g=c}else DG(i);0<t.l.length&&UI(t)}else"stop"!=y[0]&&"close"!=y[0]||ig(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?ig(t,7):NP(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}l0(4)}catch(y){}}function AP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(KO(n)||"string"==typeof n)wj(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(KO(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function QQ(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(KO(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var s=0;s<r;s++)e.call(void 0,i[s],t&&t[s],n)}}function fy(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof fy)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function MP(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];tg(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)tg(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function tg(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ct=d0.prototype).setTimeout=function(n){this.P=n},ct.gb=function(n){n=n.target;const e=this.L;e&&3==cd(n)?e.l():this.Ia(n)},ct.Ia=function(n){try{if(n==this.g)e:{const C=cd(this.g);var e=this.g.Da();const D=this.g.ba();if(!(3>C)&&(3!=C||nP||this.g&&(this.h.h||this.g.ga()||vG(this.g)))){this.I||4!=C||7==e||l0(8==e||0>=D?3:2),RI(this);var t=this.g.ba();this.N=t;t:if(Xj(this)){var i=vG(this.g);n="";var r=i.length,s=4==cd(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){eg(this),f0(this);var c="";break t}this.h.i=new Ft.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function qQ(n,e,t,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,C,t),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bI(d)){var y=d;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Ks(12),eg(this),f0(this);break e}hy(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,IP(this,t)}this.U?(eG(this,C,c),nP&&this.i&&3==C&&(jj(this.V,this.W,"tick",this.fb),this.W.start())):(hy(this.j,this.m,c,null),IP(this,c)),4==C&&eg(this),this.i&&!this.I&&(4==C?SG(this.l,this):(this.i=!1,h0(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ks(12)):(this.o=0,Ks(13)),eg(this),f0(this)}}}catch(C){}},ct.fb=function(){if(this.g){var n=cd(this.g),e=this.g.ga();this.C<e.length&&(RI(this),eG(this,n,e),this.i&&4!=n&&h0(this))}},ct.cancel=function(){this.I=!0,eg(this)},ct.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function WQ(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(l0(3),Ks(17)),eg(this),this.o=2,f0(this)):tG(this,this.Y-n)},(ct=fy.prototype).R=function(){MP(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ct.T=function(){return MP(this),this.g.concat()},ct.get=function(n,e){return tg(this.h,n)?this.h[n]:e},ct.set=function(n,e){tg(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ct.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],s=this.get(r);n.call(e,s,r,this)}};var nG=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ng(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ng){this.g=void 0!==e?e:n.g,kI(this,n.j),this.s=n.s,OI(this,n.i),PI(this,n.m),this.l=n.l,e=n.h;var t=new m0;t.i=e.i,e.g&&(t.g=new fy(e.g),t.h=e.h),iG(this,t),this.o=n.o}else n&&(t=String(n).match(nG))?(this.g=!!e,kI(this,t[1]||"",!0),this.s=p0(t[2]||""),OI(this,t[3]||"",!0),PI(this,t[4]),this.l=p0(t[5]||"",!0),iG(this,t[6]||"",!0),this.o=p0(t[7]||"")):(this.g=!!e,this.h=new m0(null,this.g))}function ld(n){return new ng(n)}function kI(n,e,t){n.j=t?p0(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function OI(n,e,t){n.i=t?p0(e,!0):e}function PI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function iG(n,e,t){e instanceof m0?(n.h=e,function oJ(n,e){e&&!n.j&&(Lh(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(sG(this,i),aG(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=g0(e,rJ)),n.h=new m0(e,n.g))}function di(n,e,t){n.h.set(e,t)}function NI(n){return di(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function p0(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function g0(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,tJ),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function tJ(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ng.prototype.toString=function(){var n=[],e=this.j;e&&n.push(g0(e,rG,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(g0(e,rG,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(g0(t,"/"==t.charAt(0)?iJ:nJ,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",g0(t,sJ)),n.join("")};var rG=/[#\/\?@]/g,nJ=/[#\?:]/g,iJ=/[#\?]/g,rJ=/[#\?@]/g,sJ=/#/g;function m0(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Lh(n){n.g||(n.g=new fy,n.h=0,n.i&&function JQ(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var s=n[t].substring(0,i);r=n[t].substring(i+1)}else s=n[t];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sG(n,e){Lh(n),e=py(n,e),tg(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,tg((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&MP(n)))}function oG(n,e){return Lh(n),e=py(n,e),tg(n.g.h,e)}function aG(n,e,t){sG(n,e),0<t.length&&(n.i=null,n.g.set(py(n,e),JO(t)),n.h+=t.length)}function py(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function lG(n){this.l=n||lJ,n=Ft.PerformanceNavigationTiming?0<(n=Ft.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ft.g&&Ft.g.Ea&&Ft.g.Ea()&&Ft.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ct=m0.prototype).add=function(n,e){Lh(this),this.i=null,n=py(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ct.forEach=function(n,e){Lh(this),this.g.forEach(function(t,i){wj(t,function(r){n.call(e,r,i,this)},this)},this)},ct.T=function(){Lh(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],s=0;s<r.length;s++)t.push(e[i]);return t},ct.R=function(n){Lh(this);var e=[];if("string"==typeof n)oG(this,n)&&(e=Cj(e,this.g.get(py(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Cj(e,n[t])}return e},ct.set=function(n,e){return Lh(this),this.i=null,oG(this,n=py(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ct.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var lJ=10;function cG(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uG(n){return n.h?1:n.g?n.g.size:0}function xP(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function RP(n,e){n.g?n.g.add(e):n.h=e}function dG(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function hG(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return JO(n.i)}function kP(){}function cJ(){this.g=new kP}function uJ(n,e,t){const i=t||"";try{AP(n,function(r,s){let c=r;r0(r)&&(c=gP(r)),e.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function FI(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch(s){}}function _0(n){this.l=n.$b||null,this.j=n.ib||!1}function LI(n,e){Or.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=OP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lG.prototype.cancel=function(){if(this.i=hG(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},kP.prototype.stringify=function(n){return Ft.JSON.stringify(n,void 0)},kP.prototype.parse=function(n){return Ft.JSON.parse(n,void 0)},Yr(_0,wP),_0.prototype.g=function(){return new LI(this.l,this.j)},_0.prototype.i=function(n){return function(){return n}}({}),Yr(LI,Or);var OP=0;function fG(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function y0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,v0(n)}function v0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ct=LI.prototype).open=function(n,e){if(this.readyState!=OP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,v0(this)},ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ft).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,y0(this)),this.readyState=OP},ct.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,v0(this)),this.g&&(this.readyState=3,v0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ft.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fG(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ct.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?y0(this):v0(this),3==this.readyState&&fG(this)}},ct.Ua=function(n){this.g&&(this.response=this.responseText=n,y0(this))},ct.Ta=function(n){this.g&&(this.response=n,y0(this))},ct.ha=function(){this.g&&y0(this)},ct.setRequestHeader=function(n,e){this.v.append(n,e)},ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(LI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var hJ=Ft.JSON.parse;function sr(n){Or.call(this),this.headers=new fy,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pG,this.K=this.L=!1}Yr(sr,Or);var pG="",fJ=/^https?$/i,pJ=["POST","PUT"];function mJ(n){return"content-type"==n.toLowerCase()}function gG(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mG(n),BI(n)}function mG(n){n.D||(n.D=!0,Kr(n,"complete"),Kr(n,"error"))}function _G(n){if(n.h&&void 0!==YO&&(!n.C[1]||4!=cd(n)||2!=n.ba()))if(n.v&&4==cd(n))bP(n.Fa,0,n);else if(Kr(n,"readystatechange"),4==cd(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===d){var r=String(n.H).match(nG)[1]||null;if(!r&&Ft.self&&Ft.self.location){var s=Ft.self.location.protocol;r=s.substr(0,s.length-1)}i=!fJ.test(r?r.toLowerCase():"")}t=i}if(t)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var c=2<cd(n)?n.g.statusText:""}catch(p){c=""}n.j=c+" ["+n.ba()+"]",mG(n)}}finally{BI(n)}}}function BI(n,e){if(n.g){yG(n);const t=n.g,i=n.C[0]?yI:null;n.g=null,n.C=null,e||Kr(n,"ready");try{t.onreadystatechange=i}catch(r){}}}function yG(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ft.clearTimeout(n.A),n.A=null)}function cd(n){return n.g?n.g.readyState:0}function vG(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case pG:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function PP(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function _J(n){let e="";return eP(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):di(n,e,t))}function b0(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function bG(n){this.za=0,this.l=[],this.h=new SI,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=b0("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=b0("baseRetryDelayMs",5e3,n),this.$a=b0("retryDelaySeedMs",1e4,n),this.Ya=b0("forwardChannelMaxRetries",2,n),this.ra=b0("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new lG(n&&n.concurrentRequestLimit),this.Ca=new cJ,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function NP(n){if(wG(n),3==n.G){var e=n.V++,t=ld(n.F);di(t,"SID",n.J),di(t,"RID",e),di(t,"TYPE","terminate"),w0(n,t),(e=new d0(n,n.h,e,void 0)).K=2,e.v=NI(ld(t)),t=!1,Ft.navigator&&Ft.navigator.sendBeacon&&(t=Ft.navigator.sendBeacon(e.v.toString(),"")),!t&&Ft.Image&&((new Image).src=e.v,t=!0),t||(e.g=xG(e.l,null),e.g.ea(e.v)),e.F=Date.now(),h0(e)}AG(n)}function VI(n){n.g&&(BP(n),n.g.cancel(),n.g=null)}function wG(n){VI(n),n.u&&(Ft.clearTimeout(n.u),n.u=null),HI(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ft.clearTimeout(n.m),n.m=null)}function FP(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&UI(n)}function UI(n){cG(n.i)||n.m||(n.m=!0,mP(n.Ha,n),n.C=0)}function CG(n,e){var t;t=e?e.m:n.V++;const i=ld(n.F);di(i,"SID",n.J),di(i,"RID",t),di(i,"AID",n.U),w0(n,i),n.o&&n.s&&PP(i,n.o,n.s),t=new d0(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=EG(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),RP(n.i,t),SP(t,i,e)}function w0(n,e){n.j&&AP({},function(t,i){di(e,i,t)})}function EG(n,e,t){t=Math.min(n.l.length,t);var i=n.j?Zr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+t];-1==s?0<t?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<t;p++){let y=r[p].h;const C=r[p].g;if(y-=s,0>y)s=Math.max(0,r[p].h-100),d=!1;else try{uJ(C,c,"req"+y+"_")}catch(D){i&&i(C)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function DG(n){n.g||n.u||(n.Y=1,mP(n.Ga,n),n.A=0)}function LP(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=c0(Zr(n.Ga,n),IG(n,n.A)),n.A++,0))}function BP(n){null!=n.B&&(Ft.clearTimeout(n.B),n.B=null)}function TG(n){n.g=new d0(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ld(n.oa);di(e,"RID","rpc"),di(e,"SID",n.J),di(e,"CI",n.N?"0":"1"),di(e,"AID",n.U),w0(n,e),di(e,"TYPE","xmlhttp"),n.o&&n.s&&PP(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=NI(ld(e)),t.s=null,t.U=!0,Jj(t,n)}function HI(n){null!=n.v&&(Ft.clearTimeout(n.v),n.v=null)}function SG(n,e){var t=null;if(n.g==e){HI(n),BP(n),n.g=null;var i=2}else{if(!xP(n.i,e))return;t=e.D,dG(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;Kr(i=II(),new Wj(i,t,e,r)),UI(n)}else DG(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function yJ(n,e){return!(uG(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=c0(Zr(n.Ha,n,e),IG(n,n.C)),n.C++,0)))}(n,e)||2==i&&LP(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:ig(n,5);break;case 4:ig(n,10);break;case 3:ig(n,6);break;default:ig(n,2)}}function IG(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ig(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=Zr(n.jb,n);t||(t=new ng("//www.google.com/images/cleardot.gif"),Ft.location&&"http"==Ft.location.protocol||kI(t,"https"),NI(t)),function dJ(n,e){const t=new SI;if(Ft.Image){const i=new Image;i.onload=vI(FI,t,i,"TestLoadImage: loaded",!0,e),i.onerror=vI(FI,t,i,"TestLoadImage: error",!1,e),i.onabort=vI(FI,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=vI(FI,t,i,"TestLoadImage: timeout",!1,e),Ft.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Ks(2);n.G=0,n.j&&n.j.va(e),AG(n),wG(n)}function AG(n){n.G=0,n.I=-1,n.j&&((0!=hG(n.i).length||0!=n.l.length)&&(n.i.i.length=0,JO(n.l),n.l.length=0),n.j.ua())}function MG(n,e,t){let i=function XQ(n){return n instanceof ng?ld(n):new ng(n,void 0)}(t);if(""!=i.i)e&&OI(i,e+"."+i.i),PI(i,i.m);else{const r=Ft.location;i=function eJ(n,e,t,i){var r=new ng(null,void 0);return n&&kI(r,n),e&&OI(r,e),t&&PI(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&eP(n.aa,function(r,s){di(i,s,r)}),t=n.sa,(e=n.D)&&t&&di(i,e,t),di(i,"VER",n.ma),w0(n,i),i}function xG(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sr(t&&n.Ba&&!n.qa?new _0({ib:!0}):n.qa)).L=n.H,e}function RG(){}function jI(){if(dy&&!(10<=Number(RQ)))throw Error("Environmental error: no available transport.")}function la(n,e){Or.call(this),this.g=new bG(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!bI(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bI(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new gy(this)}function kG(n){CP.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function OG(){EP.call(this),this.status=1}function gy(n){this.g=n}(ct=sr.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():DP.g(),this.C=function Yj(n){return n.h||(n.h=n.i())}(this.u?this.u:DP),this.g.onreadystatechange=Zr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void gG(this,s)}n=t||"";const r=new fy(this.headers);i&&AP(i,function(s,c){r.set(c,s)}),i=function TQ(n){e:{var e=mJ;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=Ft.FormData&&n instanceof Ft.FormData,!(0<=bj(pJ,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yG(this),0<this.B&&((this.K=function gJ(n){return dy&&function xQ(){return function SQ(n){var e=MQ;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Ej(String(wI)).split("."),t=Ej("9").split("."),i=Math.max(e.length,t.length);for(let c=0;0==n&&c<i;c++){var r=e[c]||"",s=t[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=XO(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||XO(0==r[2].length,0==s[2].length)||XO(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.pa,this)):this.A=bP(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){gG(this,s)}},ct.pa=function(){void 0!==YO&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),BI(this))},ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),BI(this,!0)),sr.Z.M.call(this)},ct.Fa=function(){this.s||(this.F||this.v||this.l?_G(this):this.cb())},ct.cb=function(){_G(this)},ct.ba=function(){try{return 2<cd(this)?this.g.status:-1}catch(n){return-1}},ct.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ct.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),hJ(e)}},ct.Da=function(){return this.m},ct.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ct=bG.prototype).ma=8,ct.G=1,ct.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ct.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new d0(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=Sj(s),Aj(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=EG(this,r,e),di(t=ld(this.F),"RID",n),di(t,"CVER",22),this.D&&di(t,"X-HTTP-Session-Id",this.D),w0(this,t),this.o&&s&&PP(t,this.o,s),RP(this.i,r),this.Ra&&di(t,"TYPE","init"),this.ja?(di(t,"$req",e),di(t,"SID","null"),r.$=!0,SP(r,t,null)):SP(r,t,e),this.G=2}}else 3==this.G&&(n?CG(this,n):0==this.l.length||cG(this.i)||CG(this))},ct.Ga=function(){if(this.u=null,TG(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=c0(Zr(this.bb,this),n)}},ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ks(10),VI(this),TG(this))},ct.ab=function(){null!=this.v&&(this.v=null,VI(this),LP(this),Ks(19))},ct.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ks(2)):(this.h.info("Failed to ping google.com"),Ks(1))},(ct=RG.prototype).xa=function(){},ct.wa=function(){},ct.va=function(){},ct.ua=function(){},ct.Oa=function(){},jI.prototype.g=function(n,e){return new la(n,e)},Yr(la,Or),la.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),mP(Zr(n.hb,n,e))),Ks(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=MG(n,null,n.W),UI(n)},la.prototype.close=function(){NP(this.g)},la.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,FP(this.g,e)}else this.v?((e={}).__data__=gP(n),FP(this.g,e)):FP(this.g,n)},la.prototype.M=function(){this.g.j=null,delete this.j,NP(this.g),delete this.g,la.Z.M.call(this)},Yr(kG,CP),Yr(OG,EP),Yr(gy,RG),gy.prototype.xa=function(){Kr(this.g,"a")},gy.prototype.wa=function(n){Kr(this.g,new kG(n))},gy.prototype.va=function(n){Kr(this.g,new OG(n))},gy.prototype.ua=function(){Kr(this.g,"b")},jI.prototype.createWebChannel=jI.prototype.g,la.prototype.send=la.prototype.u,la.prototype.open=la.prototype.m,la.prototype.close=la.prototype.close,AI.NO_ERROR=0,AI.TIMEOUT=8,AI.HTTP_ERROR=6,Zj.COMPLETE="complete",Kj.EventType=u0,u0.OPEN="a",u0.CLOSE="b",u0.ERROR="c",u0.MESSAGE="d",Or.prototype.listen=Or.prototype.N,sr.prototype.listenOnce=sr.prototype.O,sr.prototype.getLastError=sr.prototype.La,sr.prototype.getLastErrorCode=sr.prototype.Da,sr.prototype.getStatus=sr.prototype.ba,sr.prototype.getResponseJson=sr.prototype.Qa,sr.prototype.getResponseText=sr.prototype.ga,sr.prototype.send=sr.prototype.ea;var vJ=ad.createWebChannelTransport=function(){return new jI},bJ=ad.getStatEventTarget=function(){return II()},VP=ad.ErrorCode=AI,wJ=ad.EventType=Zj,CJ=ad.Event=Xp,PG=ad.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},EJ=ad.FetchXmlHttpFactory=_0,GI=ad.WebChannel=Kj,DJ=ad.XhrIo=sr;const NG="@firebase/firestore";class Qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let my="9.8.0";const Bh=new tl.Yd("@firebase/firestore");function UP(){return Bh.logLevel}function Ve(n,...e){if(Bh.logLevel<=tl.in.DEBUG){const t=e.map(HP);Bh.debug(`Firestore (${my}): ${n}`,...t)}}function or(n,...e){if(Bh.logLevel<=tl.in.ERROR){const t=e.map(HP);Bh.error(`Firestore (${my}): ${n}`,...t)}}function C0(n,...e){if(Bh.logLevel<=tl.in.WARN){const t=e.map(HP);Bh.warn(`Firestore (${my}): ${n}`,...t)}}function HP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function dt(n="Unexpected state"){const e=`FIRESTORE (${my}) INTERNAL ASSERTION FAILED: `+n;throw or(e),new Error(e)}function Pt(n,e){n||dt()}function it(n,e){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends N.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class FG{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qr.UNAUTHENTICATED))}shutdown(){}}class AJ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class MJ{constructor(e){this.t=e,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const s=y=>this.i!==r?(r=this.i,t(y)):Promise.resolve();let c=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pr,e.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const y=c;e.enqueueRetryable((0,Ce.Z)(function*(){yield y.promise,yield s(i.currentUser)}))},p=y=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(y=>p(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pr)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Pt("string"==typeof i.accessToken),new FG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pt(null===e||"string"==typeof e),new Qr(e)}}class xJ{constructor(e,t,i){this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class RJ{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new xJ(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kJ{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=s=>{null!=s.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.p;return this.p=s.token,Ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?r(s):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pt("string"==typeof t.token),this.p=t.token,new LG(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ca{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.I(i),this.T=i=>t.writeSequenceNumber(i))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function OJ(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}ca.A=-1;class BG{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=OJ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}}function zt(n,e){return n<e?-1:n>e?1:0}function _y(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function VG(n){return n+"\0"}class $i{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $i.fromMillis(Date.now())}static fromDate(e){return $i.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new $i(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mt(e)}static min(){return new Mt(new $i(0,0))}static max(){return new Mt(new $i(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function UG(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function rg(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HG(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class E0{constructor(e,t,i){void 0===t?t=0:t>e.length&&dt(),void 0===i?i=e.length-t:i>e.length-t&&dt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===E0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof E0?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=e.get(r),c=t.get(r);if(s<c)return-1;if(s>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hn extends E0{construct(e,t,i){return new hn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new hn(t)}static emptyPath(){return new hn([])}}const PJ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends E0{construct(e,t,i){return new yr(e,t,i)}static isValidIdentifier(e){return PJ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;r<e.length;){const d=e[r];if("\\"===d){if(r+1===e.length)throw new Oe(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Oe(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Oe(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(t)}static emptyPath(){return new yr([])}}class yy{constructor(e){this.fields=e,e.sort(yr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _y(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new vr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const FJ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vh(n){if(Pt(!!n),"string"==typeof n){let e=0;const t=FJ.exec(n);if(Pt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ni(n.seconds),nanos:Ni(n.nanos)}}function Ni(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function sg(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function jP(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jG(n){const e=n.mapValue.fields.__previous_value__;return jP(e)?jG(e):e}function D0(n){const e=Vh(n.mapValue.fields.__local_write_time__.timestampValue);return new $i(e.seconds,e.nanos)}class LJ{constructor(e,t,i,r,s,c,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class ud{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ud("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ud&&e.projectId===this.projectId&&e.database===this.database}}function T0(n){return null==n}function S0(n){return 0===n&&1/n==-1/0}function GG(n){return"number"==typeof n&&Number.isInteger(n)&&!S0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(hn.fromString(e))}static fromName(e){return new Je(hn.fromString(e).popFirst(5))}static empty(){return new Je(hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new hn(e.slice()))}}const Uh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},zI={nullValue:"NULL_VALUE"};function og(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?jP(n)?4:WG(n)?9007199254740991:10:dt()}function eu(n,e){if(n===e)return!0;const t=og(n);if(t!==og(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return D0(n).isEqual(D0(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Vh(i.timestampValue),c=Vh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,sg(n.bytesValue).isEqual(sg(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ni(i.geoPointValue.latitude)===Ni(r.geoPointValue.latitude)&&Ni(i.geoPointValue.longitude)===Ni(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ni(i.integerValue)===Ni(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Ni(i.doubleValue),c=Ni(r.doubleValue);return s===c?S0(s)===S0(c):isNaN(s)&&isNaN(c)}return!1}(n,e);case 9:return _y(n.arrayValue.values||[],e.arrayValue.values||[],eu);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(UG(s)!==UG(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!eu(s[d],c[d])))return!1;return!0}(n,e);default:return dt()}var r}function I0(n,e){return void 0!==(n.values||[]).find(t=>eu(t,e))}function Hh(n,e){if(n===e)return 0;const t=og(n),i=og(e);if(t!==i)return zt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,e.booleanValue);case 2:return function(r,s){const c=Ni(r.integerValue||r.doubleValue),d=Ni(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,e);case 3:return zG(n.timestampValue,e.timestampValue);case 4:return zG(D0(n),D0(e));case 5:return zt(n.stringValue,e.stringValue);case 6:return function(r,s){const c=sg(r),d=sg(s);return c.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const y=zt(c[p],d[p]);if(0!==y)return y}return zt(c.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,s){const c=zt(Ni(r.latitude),Ni(s.latitude));return 0!==c?c:zt(Ni(r.longitude),Ni(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const y=Hh(c[p],d[p]);if(y)return y}return zt(c.length,d.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===Uh.mapValue&&s===Uh.mapValue)return 0;if(r===Uh.mapValue)return 1;if(s===Uh.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},y=Object.keys(p);d.sort(),y.sort();for(let C=0;C<d.length&&C<y.length;++C){const D=zt(d[C],y[C]);if(0!==D)return D;const x=Hh(c[d[C]],p[y[C]]);if(0!==x)return x}return zt(d.length,y.length)}(n.mapValue,e.mapValue);default:throw dt()}}function zG(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zt(n,e);const t=Vh(n),i=Vh(e),r=zt(t.seconds,i.seconds);return 0!==r?r:zt(t.nanos,i.nanos)}function vy(n){return GP(n)}function GP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Vh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?sg(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=GP(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${GP(i.fields[d])}`;return s+"}"}(n.mapValue):dt();var e}function ag(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zP(n){return!!n&&"integerValue"in n}function A0(n){return!!n&&"arrayValue"in n}function $G(n){return!!n&&"nullValue"in n}function qG(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $I(n){return!!n&&"mapValue"in n}function M0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return rg(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=M0(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=M0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WG(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function BJ(n){return"nullValue"in n?zI:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ag(ud.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:dt()}function VJ(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ag(ud.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Uh:dt()}function ZG(n,e){const t=Hh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function YG(n,e){const t=Hh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Es{constructor(e){this.value=e}static empty(){return new Es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$I(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=M0(t)}setAll(e){let t=yr.emptyPath(),i={},r=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,r),i={},r=[],t=d.popLast()}c?i[d.lastSegment()]=M0(c):r.push(d.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){const t=this.field(e.popLast());$I(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return eu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];$I(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){rg(t,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Es(M0(this.value))}}function KG(n){const e=[];return rg(n.fields,(t,i)=>{const r=new yr([t]);if($I(i)){const s=KG(i.mapValue).fields;if(0===s.length)e.push(r);else for(const c of s)e.push(r.child(c))}else e.push(r)}),new yy(e)}class ni{constructor(e,t,i,r,s,c){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(e){return new ni(e,0,Mt.min(),Mt.min(),Es.empty(),0)}static newFoundDocument(e,t,i){return new ni(e,1,t,Mt.min(),i,0)}static newNoDocument(e,t){return new ni(e,2,t,Mt.min(),Es.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,Mt.min(),Es.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qI{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function $P(n){return n.fields.find(e=>2===e.kind)}function lg(n){return n.fields.filter(e=>2!==e.kind)}qI.UNKNOWN_ID=-1;class WI{constructor(e,t){this.fieldPath=e,this.kind=t}}class x0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new x0(0,nc.min())}}function QG(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Mt.fromTimestamp(1e9===i?new $i(t+1,0):new $i(t,i));return new nc(r,Je.empty(),e)}function UJ(n){return new nc(n.readTime,n.key,-1)}class nc{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new nc(Mt.min(),Je.empty(),-1)}static max(){return new nc(Mt.max(),Je.empty(),-1)}}function JG(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:zt(n.largestBatchId,e.largestBatchId))}class qi{constructor(e,t){this.comparator=e,this.root=t||Jr.EMPTY}insert(e,t){return new qi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new qi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ZI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ZI(this.root,e,this.comparator,!1)}getReverseIterator(){return new ZI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ZI(this.root,e,this.comparator,!0)}}class ZI{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=null!=i?i:Jr.RED,this.left=null!=r?r:Jr.EMPTY,this.right=null!=s?s:Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new Jr(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Jr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Jr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(e){this.comparator=e,this.data=new qi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new XG(this.data.getIterator())}getIteratorFrom(e){return new XG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Jn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jn(this.comparator);return t.data=e,t}}class XG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function by(n){return n.hasNext()?n.getNext():void 0}class HJ{constructor(e,t=null,i=[],r=[],s=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.P=null}}function e3(n,e=null,t=[],i=[],r=null,s=null,c=null){return new HJ(n,e,t,i,r,s,c)}function cg(n){const e=it(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+vy(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),T0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>vy(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>vy(i)).join(",")),e.P=t}return e.P}function R0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!KJ(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!eu(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!o3(n.startAt,e.startAt)&&o3(n.endAt,e.endAt)}function YI(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function KI(n,e){return n.filters.filter(t=>t instanceof Xr&&t.field.isEqual(e))}function t3(n,e,t){let i=zI,r=!0;for(const s of KI(n,e)){let c=zI,d=!0;switch(s.op){case"<":case"<=":c=BJ(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=zI}ZG({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];ZG({value:i,inclusive:r},{value:c,inclusive:t.inclusive})<0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}function n3(n,e,t){let i=Uh,r=!0;for(const s of KI(n,e)){let c=Uh,d=!0;switch(s.op){case">=":case">":c=VJ(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=Uh}YG({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const c=t.position[s];YG({value:i,inclusive:r},{value:c,inclusive:t.inclusive})>0&&(i=c,r=t.inclusive);break}return{value:i,inclusive:r}}class Xr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,i):new GJ(e,t,i):"array-contains"===t?new qJ(e,i):"in"===t?new WJ(e,i):"not-in"===t?new ZJ(e,i):"array-contains-any"===t?new YJ(e,i):new Xr(e,t,i)}static V(e,t,i){return"in"===t?new zJ(e,i):new $J(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Hh(t,this.value)):null!==t&&og(this.value)===og(t)&&this.v(Hh(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return dt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class GJ extends Xr{constructor(e,t,i){super(e,t,i),this.key=Je.fromName(i.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.v(t)}}class zJ extends Xr{constructor(e,t){super(e,"in",t),this.keys=r3(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $J extends Xr{constructor(e,t){super(e,"not-in",t),this.keys=r3(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function r3(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Je.fromName(i.referenceValue))}class qJ extends Xr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return A0(t)&&I0(t.arrayValue,this.value)}}class WJ extends Xr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&I0(this.value.arrayValue,t)}}class ZJ extends Xr{constructor(e,t){super(e,"not-in",t)}matches(e){if(I0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!I0(this.value.arrayValue,t)}}class YJ extends Xr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!A0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>I0(this.value.arrayValue,i))}}class jh{constructor(e,t){this.position=e,this.inclusive=t}}class wy{constructor(e,t="asc"){this.field=e,this.dir=t}}function KJ(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function s3(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const s=e[r],c=n.position[r];if(i=s.field.isKeyField()?Je.comparator(Je.fromName(c.referenceValue),t.key):Hh(c,t.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function o3(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!eu(n.position[t],e.position[t]))return!1;return!0}class dd{constructor(e,t=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this.D=null,this.C=null}}function a3(n,e,t,i,r,s,c,d){return new dd(n,e,t,i,r,s,c,d)}function Cy(n){return new dd(n)}function qP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function WP(n){for(const e of n.filters)if(e.S())return e.field;return null}function ZP(n){return null!==n.collectionGroup}function Ey(n){const e=it(n);if(null===e.D){e.D=[];const t=WP(e),i=qP(e);if(null!==t&&null===i)t.isKeyField()||e.D.push(new wy(t)),e.D.push(new wy(yr.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new wy(yr.keyField(),s))}}}return e.D}function cl(n){const e=it(n);if(!e.C)if("F"===e.limitType)e.C=e3(e.path,e.collectionGroup,Ey(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of Ey(e))t.push(new wy(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new jh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new jh(e.startAt.position,e.startAt.inclusive):null;e.C=e3(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.C}function l3(n,e,t){return new dd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function k0(n,e){return R0(cl(n),cl(e))&&n.limitType===e.limitType}function c3(n){return`${cg(cl(n))}|lt:${n.limitType}`}function YP(n){return`Query(target=${function jJ(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${vy(i.value)}`;var i}).join(", ")}]`),T0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>vy(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>vy(t)).join(",")),`Target(${e})`}(cl(n))}; limitType=${n.limitType})`}function KP(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Je.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,s,c){const d=s3(r,s,c);return r.inclusive?d<=0:d<0}(t.startAt,Ey(t),i)||t.endAt&&!function(r,s,c){const d=s3(r,s,c);return r.inclusive?d>=0:d>0}(t.endAt,Ey(t),i)));var t,i}function u3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function d3(n){return(e,t)=>{let i=!1;for(const r of Ey(n)){const s=JJ(r,e,t);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function JJ(n,e,t){const i=n.field.isKeyField()?Je.comparator(e.key,t.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Hh(d,p):dt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt()}}function h3(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S0(e)?"-0":e}}function f3(n){return{integerValue:""+n}}function p3(n,e){return GG(e)?f3(e):h3(n,e)}class QI{constructor(){this._=void 0}}function XJ(n,e,t){return n instanceof Dy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(t,e):n instanceof ug?m3(n,e):n instanceof dg?_3(n,e):function(i,r){const s=g3(i,r),c=y3(s)+y3(i.k);return zP(s)&&zP(i.k)?f3(c):h3(i.M,c)}(n,e)}function eX(n,e,t){return n instanceof ug?m3(n,e):n instanceof dg?_3(n,e):t}function g3(n,e){return n instanceof Ty?zP(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Dy extends QI{}class ug extends QI{constructor(e){super(),this.elements=e}}function m3(n,e){const t=v3(e);for(const i of n.elements)t.some(r=>eu(r,i))||t.push(i);return{arrayValue:{values:t}}}class dg extends QI{constructor(e){super(),this.elements=e}}function _3(n,e){let t=v3(e);for(const i of n.elements)t=t.filter(r=>!eu(r,i));return{arrayValue:{values:t}}}class Ty extends QI{constructor(e,t){super(),this.M=e,this.k=t}}function y3(n){return Ni(n.integerValue||n.doubleValue)}function v3(n){return A0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class O0{constructor(e,t){this.field=e,this.transform=t}}class nX{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function JI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class XI{}function iX(n,e,t){n instanceof P0?function(i,r,s){const c=i.value.clone(),d=E3(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):n instanceof hg?function(i,r,s){if(!JI(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=E3(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(C3(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function QP(n,e,t){var r;n instanceof P0?function(i,r,s){if(!JI(i.precondition,r))return;const c=i.value.clone(),d=D3(i.fieldTransforms,s,r);c.setAll(d),r.convertToFoundDocument(w3(r),c).setHasLocalMutations()}(n,e,t):n instanceof hg?function(i,r,s){if(!JI(i.precondition,r))return;const c=D3(i.fieldTransforms,s,r),d=r.data;d.setAll(C3(i)),d.setAll(c),r.convertToFoundDocument(w3(r),d).setHasLocalMutations()}(n,e,t):JI(n.precondition,r=e)&&r.convertToNoDocument(Mt.min())}function rX(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),s=g3(i.transform,r||null);null!=s&&(null==t&&(t=Es.empty()),t.set(i.field,s))}return t||null}function b3(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&_y(t,i,(r,s)=>function tX(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ug&&i instanceof ug||t instanceof dg&&i instanceof dg?_y(t.elements,i.elements,eu):t instanceof Ty&&i instanceof Ty?eu(t.k,i.k):t instanceof Dy&&i instanceof Dy);var t,i}(r,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}function w3(n){return n.isFoundDocument()?n.version:Mt.min()}class P0 extends XI{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}}class hg extends XI{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}}function C3(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function E3(n,e,t){const i=new Map;Pt(n.length===t.length);for(let r=0;r<t.length;r++){const s=n[r],c=s.transform,d=e.data.field(s.field);i.set(s.field,eX(c,d,t[r]))}return i}function D3(n,e,t){const i=new Map;for(const r of n){const s=r.transform,c=t.data.field(r.field);i.set(r.field,XJ(s,c,e))}return i}class N0 extends XI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class JP extends XI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class sX{constructor(e){this.count=e}}var lr,fn;function T3(n){switch(n){default:return dt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function S3(n){if(void 0===n)return or("GRPC error has no .code"),fe.UNKNOWN;switch(n){case lr.OK:return fe.OK;case lr.CANCELLED:return fe.CANCELLED;case lr.UNKNOWN:return fe.UNKNOWN;case lr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case lr.INTERNAL:return fe.INTERNAL;case lr.UNAVAILABLE:return fe.UNAVAILABLE;case lr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case lr.NOT_FOUND:return fe.NOT_FOUND;case lr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case lr.ABORTED:return fe.ABORTED;case lr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case lr.DATA_LOSS:return fe.DATA_LOSS;default:return dt()}}(fn=lr||(lr={}))[fn.OK=0]="OK",fn[fn.CANCELLED=1]="CANCELLED",fn[fn.UNKNOWN=2]="UNKNOWN",fn[fn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fn[fn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fn[fn.NOT_FOUND=5]="NOT_FOUND",fn[fn.ALREADY_EXISTS=6]="ALREADY_EXISTS",fn[fn.PERMISSION_DENIED=7]="PERMISSION_DENIED",fn[fn.UNAUTHENTICATED=16]="UNAUTHENTICATED",fn[fn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fn[fn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fn[fn.ABORTED=10]="ABORTED",fn[fn.OUT_OF_RANGE=11]="OUT_OF_RANGE",fn[fn.UNIMPLEMENTED=12]="UNIMPLEMENTED",fn[fn.INTERNAL=13]="INTERNAL",fn[fn.UNAVAILABLE=14]="UNAVAILABLE",fn[fn.DATA_LOSS=15]="DATA_LOSS";class Gh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rg(this.inner,(t,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return HG(this.inner)}size(){return this.innerSize}}const oX=new qi(Je.comparator);function ul(){return oX}const aX=new qi(Je.comparator);function XP(...n){let e=aX;for(const t of n)e=e.insert(t.key,t);return e}function F0(){return new Gh(n=>n.toString(),(n,e)=>n.isEqual(e))}const lX=new qi(Je.comparator),cX=new Jn(Je.comparator);function xn(...n){let e=cX;for(const t of n)e=e.add(t);return e}const uX=new Jn(zt);function eA(){return uX}class L0{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,B0.createSynthesizedTargetChangeForCurrentChange(e,t)),new L0(Mt.min(),i,eA(),ul(),xn())}}class B0{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new B0(vr.EMPTY_BYTE_STRING,t,xn(),xn(),xn())}}class tA{constructor(e,t,i,r){this.O=e,this.removedTargetIds=t,this.key=i,this.F=r}}class I3{constructor(e,t){this.targetId=e,this.$=t}}class A3{constructor(e,t,i=vr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class M3{constructor(){this.B=0,this.L=R3(),this.U=vr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=xn(),t=xn(),i=xn();return this.L.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:dt()}}),new B0(this.U,this.q,e,t,i)}J(){this.K=!1,this.L=R3()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class dX{constructor(e){this.nt=e,this.st=new Map,this.it=ul(),this.rt=x3(),this.ot=new Jn(zt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const i=this.lt(t);switch(e.state){case 0:this.ft(t)&&i.W(e.resumeToken);break;case 1:i.tt(),i.G||i.J(),i.W(e.resumeToken);break;case 2:i.tt(),i.G||this.removeTarget(t);break;case 3:this.ft(t)&&(i.et(),i.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),i.W(e.resumeToken));break;default:dt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((i,r)=>{this.ft(r)&&t(r)})}_t(e){const t=e.targetId,i=e.$.count,r=this.wt(t);if(r){const s=r.target;if(YI(s))if(0===i){const c=new Je(s.path);this.ct(t,c,ni.newNoDocument(c,Mt.min()))}else Pt(1===i);else this.gt(t)!==i&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,c)=>{const d=this.wt(c);if(d){if(s.current&&YI(d.target)){const p=new Je(d.target.path);null!==this.it.get(p)||this.It(c,p)||this.ct(c,p,ni.newNoDocument(p,e))}s.j&&(t.set(c,s.H()),s.J())}});let i=xn();this.rt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.wt(p);return!y||2===y.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.it.forEach((s,c)=>c.setReadTime(e));const r=new L0(e,t,this.ot,this.it,i);return this.it=ul(),this.rt=x3(),this.ot=new Jn(zt),r}at(e,t){if(!this.ft(e))return;const i=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,i),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,i){if(!this.ft(e))return;const r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),i&&(this.it=this.it.insert(t,i))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new M3,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Jn(zt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new M3),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function x3(){return new qi(Je.comparator)}function R3(){return new qi(Je.comparator)}const hX={asc:"ASCENDING",desc:"DESCENDING"},fX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pX{constructor(e,t){this.databaseId=e,this.N=t}}function V0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k3(n,e){return n.N?e.toBase64():e.toUint8Array()}function gX(n,e){return V0(n,e.toTimestamp())}function Nr(n){return Pt(!!n),Mt.fromTimestamp(function(e){const t=Vh(e);return new $i(t.seconds,t.nanos)}(n))}function eN(n,e){return(t=n,new hn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function O3(n){const e=hn.fromString(n);return Pt(j3(e)),e}function U0(n,e){return eN(n.databaseId,e.path)}function tu(n,e){const t=O3(e);if(t.get(1)!==n.databaseId.projectId)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Oe(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(N3(t))}function tN(n,e){return eN(n.databaseId,e)}function P3(n){const e=O3(n);return 4===e.length?hn.emptyPath():N3(e)}function H0(n){return new hn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function N3(n){return Pt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function F3(n,e,t){return{name:U0(n,e),fields:t.value.mapValue.fields}}function L3(n,e,t){const i=tu(n,e.name),r=Nr(e.updateTime),s=new Es({mapValue:{fields:e.fields}}),c=ni.newFoundDocument(i,r,s);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function j0(n,e){let t;if(e instanceof P0)t={update:F3(n,e.key,e.value)};else if(e instanceof N0)t={delete:U0(n,e.key)};else if(e instanceof hg)t={update:F3(n,e.key,e.data),updateMask:DX(e.fieldMask)};else{if(!(e instanceof JP))return dt();t={verify:U0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof Dy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof ug)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof dg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Ty)return{fieldPath:s.field.canonicalString(),increment:c.k};throw dt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:gX(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:dt()),t;var r}function nN(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?ar.updateTime(Nr(r.updateTime)):void 0!==r.exists?ar.exists(r.exists):ar.none():ar.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Pt("REQUEST_TIME"===c.setToServerValue),d=new Dy):"appendMissingElements"in c?d=new ug(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new dg(c.removeAllFromArray.values||[]):"increment"in c?d=new Ty(s,c.increment):dt();const p=yr.fromServerFormat(c.fieldPath);return new O0(p,d)}(n,r)):[];var r;if(e.update){const r=tu(n,e.update.name),s=new Es({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new yy((e.updateMask.fieldPaths||[]).map(y=>yr.fromServerFormat(y)));return new hg(r,s,c,t,i)}return new P0(r,s,t,i)}if(e.delete){const r=tu(n,e.delete);return new N0(r,t)}if(e.verify){const r=tu(n,e.verify);return new JP(r,t)}return dt()}function B3(n,e){return{documents:[tN(n,e.path)]}}function V3(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=tN(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tN(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const y=p.map(C=>function(D){if("=="===D.op){if(qG(D.value))return{unaryFilter:{field:Sy(D.field),op:"IS_NAN"}};if($G(D.value))return{unaryFilter:{field:Sy(D.field),op:"IS_NULL"}}}else if("!="===D.op){if(qG(D.value))return{unaryFilter:{field:Sy(D.field),op:"IS_NOT_NAN"}};if($G(D.value))return{unaryFilter:{field:Sy(D.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sy(D.field),op:wX(D.op),value:D.value}}}(C));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);r&&(t.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(y=>{return{field:Sy((C=y).field),direction:bX(C.dir)};var C})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const c=(y=e.limit,n.N||T0(y)?y:{value:y});var y,d,p;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(d=e.startAt).inclusive,values:d.position}),e.endAt&&(t.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),t}function U3(n){let e=P3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Pt(1===i);const C=t.from[0];C.allDescendants?r=C.collectionId:e=e.child(C.collectionId)}let s=[];t.where&&(s=H3(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new wy(Iy((D=C).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let d=null;t.limit&&(d=function(C){let D;return D="object"==typeof C?C.value:C,T0(D)?null:D}(t.limit));let p=null;var C;t.startAt&&(p=new jh((C=t.startAt).values||[],!!C.before));let y=null;return t.endAt&&(y=function(C){return new jh(C.values||[],!C.before)}(t.endAt)),a3(e,r,c,s,d,"F",p,y)}function H3(n){return n?void 0!==n.unaryFilter?[EX(n)]:void 0!==n.fieldFilter?[CX(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>H3(e)).reduce((e,t)=>e.concat(t)):dt():[]}function bX(n){return hX[n]}function wX(n){return fX[n]}function Sy(n){return{fieldPath:n.canonicalString()}}function Iy(n){return yr.fromServerFormat(n.fieldPath)}function CX(n){return Xr.create(Iy(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}function EX(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Iy(n.unaryFilter.field);return Xr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Iy(n.unaryFilter.field);return Xr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Iy(n.unaryFilter.field);return Xr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Iy(n.unaryFilter.field);return Xr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}function DX(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function j3(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Qs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=G3(e)),e=TX(n.get(t),e);return G3(e)}function TX(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function G3(n){return n+"\x01\x01"}function nu(n){const e=n.length;if(Pt(e>=2),2===e)return Pt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),hn.emptyPath();const t=e-2,i=[];let r="";for(let s=0;s<e;){const c=n.indexOf("\x01",s);switch((c<0||c>t)&&dt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:dt()}s=c+2}return new hn(i)}const z3=["userId","batchId"];function nA(n,e){return[n,Qs(e)]}function $3(n,e,t){return[n,Qs(e),t]}const SX={},IX=["prefixPath","collectionGroup","readTime","documentId"],AX=["prefixPath","collectionGroup","documentId"],MX=["collectionGroup","readTime","prefixPath","documentId"],xX=["canonicalId","targetId"],RX=["targetId","path"],kX=["path","targetId"],OX=["collectionId","parent"],PX=["indexId","uid"],NX=["uid","sequenceNumber"],FX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LX=["indexId","uid","orderedDocumentKey"],BX=["userId","collectionPath","documentId"],VX=["userId","collectionPath","largestBatchId"],UX=["userId","collectionGroup","largestBatchId"],q3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],HX=[...q3,"documentOverlays"],W3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jX=[...W3,"indexConfiguration","indexState","indexEntries"],Z3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Y3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _e((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _e?t:_e.resolve(t)}catch(t){return _e.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_e.reject(t)}static resolve(e){return new _e((t,i)=>{t(e)})}static reject(e){return new _e((t,i)=>{i(e)})}static waitFor(e){return new _e((t,i)=>{let r=0,s=0,c=!1;e.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&t()},p=>i(p))}),c=!0,s===r&&t()})}static or(e){let t=_e.resolve(!1);for(const i of e)t=t.next(r=>r?_e.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}}class iA{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Pr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new G0(e,t.error)):this.At.resolve()},this.transaction.onerror=i=>{const r=iN(i.target.error);this.At.reject(new G0(e,r))}}static open(e,t,i,r){try{return new iA(t,e.transaction(r,i))}catch(s){throw new G0(t,s)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zX(t)}}class ic{constructor(e,t,i){this.name=e,this.version=t,this.Pt=i,12.2===ic.Vt((0,N.z$)())&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),pg(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,N.hl)())return!1;if(ic.St())return!0;const e=(0,N.z$)(),t=ic.Vt(e),i=0<t&&t<10,r=ic.Dt(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}Nt(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new G0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Oe(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Oe(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new G0(e,d))},s.onupgradeneeded=c=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,s.transaction,c.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=i=>t.Mt(i)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var s=this;return(0,Ce.Z)(function*(){const c="readonly"===t;let d=0;for(;;){++d;try{s.db=yield s.Nt(e);const p=iA.open(s.db,e,c?"readonly":"readwrite",i),y=r(p).next(C=>(p.bt(),C)).catch(C=>(p.abort(C),_e.reject(C))).toPromise();return y.catch(()=>{}),yield p.Rt,y}catch(p){const y="FirebaseError"!==p.name&&d<3;if(Ve("SimpleDb","Transaction failed with error:",p.message,"Retrying:",y),s.close(),!y)return Promise.reject(p)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GX{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return pg(this.Ft.delete())}}class G0 extends Oe{constructor(e,t){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function fg(n){return"IndexedDbTransactionError"===n.name}class zX{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),pg(i)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),pg(this.store.add(e))}get(e){return pg(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),pg(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),pg(this.store.count())}qt(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.Kt(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new _e((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}Gt(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new _e((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Qt(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.jt=!1;const r=this.cursor(i);return this.Kt(r,(s,c,d)=>d.delete())}Wt(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.Kt(r,t)}zt(e){const t=this.cursor({});return new _e((i,r)=>{t.onerror=s=>{const c=iN(s.target.error);r(c)},t.onsuccess=s=>{const c=s.target.result;c?e(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}Kt(e,t){const i=[];return new _e((r,s)=>{e.onerror=c=>{s(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new GX(d),y=t(d.primaryKey,d.value,p);if(y instanceof _e){const C=y.catch(D=>(p.done(),_e.reject(D)));i.push(C)}p.isDone?r():null===p.Lt?d.continue():d.continue(p.Lt)}}).next(()=>_e.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.jt?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function pg(n){return new _e((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=iN(i.target.error);t(r)}})}let K3=!1;function iN(n){const e=ic.Vt((0,N.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return K3||(K3=!0,setTimeout(()=>{throw i},0)),i}}return n}class Q3 extends Y3{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function Fr(n,e){const t=it(n);return ic.xt(t.Ht,e)}class rN{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&iX(s,e,i[r])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&QP(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&QP(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const i=e.get(t.key),r=i;this.applyToLocalView(r),i.isValidDocument()||r.convertToNoDocument(Mt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),xn())}isEqual(e){return this.batchId===e.batchId&&_y(this.mutations,e.mutations,(t,i)=>b3(t,i))&&_y(this.baseMutations,e.baseMutations,(t,i)=>b3(t,i))}}class sN{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Pt(e.mutations.length===i.length);let r=lX;const s=e.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new sN(e,t,i,r)}}class oN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zh{constructor(e,t,i,r,s=Mt.min(),c=Mt.min(),d=vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(e){return new zh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new zh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new zh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class J3{constructor(e){this.Jt=e}}function X3(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rA(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:U0(r=n.Jt,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:V0(r,s.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:gg(e.version)};else{if(!e.isUnknownDocument())return dt();i.unknownDocument={path:t.path.toArray(),version:gg(e.version)}}var r,s;return i}function rA(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mg(n){const e=new $i(n.seconds,n.nanoseconds);return Mt.fromTimestamp(e)}function Ay(n,e){const t=(e.baseMutations||[]).map(s=>nN(n.Jt,s));for(let s=0;s<e.mutations.length-1;++s){const c=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(c.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const i=e.mutations.map(s=>nN(n.Jt,s)),r=$i.fromMillis(e.localWriteTimeMs);return new rN(e.batchId,r,t,i)}function z0(n){const e=mg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?mg(n.lastLimboFreeSnapshotVersion):Mt.min();let i;var r;return void 0!==n.query.documents?(Pt(1===(r=n.query).documents.length),i=cl(Cy(P3(r.documents[0])))):i=cl(U3(n.query)),new zh(i,n.targetId,0,n.lastListenSequenceNumber,e,t,vr.fromBase64String(n.resumeToken))}function ez(n,e){const t=gg(e.snapshotVersion),i=gg(e.lastLimboFreeSnapshotVersion);let r;r=YI(e.target)?B3(n.Jt,e.target):V3(n.Jt,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cg(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function aN(n){const e=U3({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?l3(e,e.limit,"L"):e}function lN(n,e){return new oN(e.largestBatchId,nN(n.Jt,e.overlayMutation))}function tz(n,e){const t=e.path.lastSegment();return[n,Qs(e.path.popLast()),t]}class qX{getBundleMetadata(e,t){return nz(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:mg(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return nz(e).put({bundleId:(i=t).id,createTime:gg(Nr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return iz(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:aN(r.bundledQuery),readTime:mg(r.readTime)};var r})}saveNamedQuery(e,t){return iz(e).put({name:(i=t).name,readTime:gg(Nr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function nz(n){return Fr(n,"bundles")}function iz(n){return Fr(n,"namedQueries")}class cN{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new cN(e,t.uid||"")}getOverlay(e,t){return $0(e).get(tz(this.userId,t)).next(i=>i?lN(this.M,i):null)}saveOverlays(e,t,i){const r=[];return i.forEach((s,c)=>{const d=new oN(t,c);r.push(this.Xt(e,d))}),_e.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(c=>r.add(Qs(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push($0(e).Qt("collectionPathOverlayIndex",d))}),_e.waitFor(s)}getOverlaysForCollection(e,t,i){const r=F0(),s=Qs(t),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return $0(e).qt("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const y=lN(this.M,p);r.set(y.getKey(),y)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const s=F0();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $0(e).Wt({index:"collectionGroupOverlayIndex",range:d},(p,y,C)=>{const D=lN(this.M,y);s.size()<r||D.largestBatchId===c?(s.set(D.getKey(),D),c=D.largestBatchId):C.done()}).next(()=>s)}Xt(e,t){return $0(e).put(function(i,r,s){const[c,d,p]=tz(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:j0(i.Jt,s.mutation)}}(this.M,this.userId,t))}}function $0(n){return Fr(n,"documentOverlays")}class _g{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ni(e.integerValue));else if("doubleValue"in e){const i=Ni(e.doubleValue);isNaN(i)?this.ne(t,13):(this.ne(t,15),S0(i)?t.se(0):t.se(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ne(t,20),"string"==typeof i?t.ie(i):(t.ie(`${i.seconds||""}`),t.se(i.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(sg(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?WG(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):dt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const i=e.fields||{};this.ne(t,55);for(const r of Object.keys(i))this.re(r,t),this.te(i[r],t)}he(e,t){const i=e.values||[];this.ne(t,50);for(const r of i)this.te(r,t)}ae(e,t){this.ne(t,37),Je.fromName(e).path.forEach(i=>{this.ne(t,60),this.le(i,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function WX(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function rz(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const s=WX(255&t[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(e/8)}_g.fe=new _g;class ZX{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this._e(i.value),i=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.ge(i.value),i=t.next();this.ye()}pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(t<"\ud800"||"\udbff"<t)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{const r=t.codePointAt(0);this._e(240|r>>>18),this._e(128|63&r>>>12),this._e(128|63&r>>>6),this._e(128|63&r)}}this.we()}Ie(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{const r=t.codePointAt(0);this.ge(240|r>>>18),this.ge(128|63&r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r)}}this.ye()}Te(e){const t=this.Ee(e),i=rz(t);this.Ae(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Re(e){const t=this.Ee(e),i=rz(t);this.Ae(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class YX{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class KX{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class q0{constructor(){this.De=new ZX,this.Ce=new YX(this.De),this.xe=new KX(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class yg{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new yg(this.indexId,this.documentKey,this.arrayValue,i)}}function vg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=sz(n.arrayValue,e.arrayValue),0!==t?t:(t=sz(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function sz(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class QX{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const i=t;i.S()?this.Fe=i:this.Oe.push(i)}}$e(e){const t=$P(e);if(void 0!==t&&!this.Be(t))return!1;const i=lg(e);let r=0,s=0;for(;r<i.length&&this.Be(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Fe){const c=i[r];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Me.length||!this.Ue(this.Me[s++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class JX{constructor(){this.qe=new uN}addToCollectionParentIndex(e,t){return this.qe.add(t),_e.resolve()}getCollectionParents(e,t){return _e.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return _e.resolve()}deleteFieldIndex(e,t){return _e.resolve()}getDocumentsMatchingTarget(e,t){return _e.resolve(null)}getIndexType(e,t){return _e.resolve(0)}getFieldIndexes(e,t){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,t){return _e.resolve(nc.min())}updateCollectionGroup(e,t,i){return _e.resolve()}updateIndexEntries(e,t){return _e.resolve()}}class uN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Jn(hn.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Jn(hn.comparator)).toArray()}}const sA=new Uint8Array(0);class XX{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new uN,this.Ge=new Gh(i=>cg(i),(i,r)=>R0(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const s={collectionId:i,parent:Qs(r)};return oz(e).put(s)}return _e.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[VG(t),""],!1,!0);return oz(e).qt(r).next(s=>{for(const c of s){if(c.collectionId!==t)break;i.push(nu(c.parent))}return i})}addFieldIndex(e,t){const i=oA(e),r={indexId:(s=t).indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var s;return delete r.indexId,i.add(r).next()}deleteFieldIndex(e,t){const i=oA(e),r=aA(e),s=W0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=W0(e);let r=!0;const s=new Map;return _e.forEach(this.Qe(t),c=>this.je(e,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=xn();const d=[];return _e.forEach(s,(p,y)=>{var C;Ve("IndexedDbIndexManager",`Using index ${C=p,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(Ue=>`${Ue.fieldPath}:${Ue.kind}`).join(",")}`} to execute ${cg(t)}`);const D=function(Ue,je){const At=$P(je);if(void 0===At)return null;for(const xt of KI(Ue,At.fieldPath))switch(xt.op){case"array-contains-any":return xt.value.arrayValue.values||[];case"array-contains":return[xt.value]}return null}(y,p),x=function(Ue,je){const At=new Map;for(const xt of lg(je))for(const sn of KI(Ue,xt.fieldPath))switch(sn.op){case"==":case"in":At.set(xt.fieldPath.canonicalString(),sn.value);break;case"not-in":case"!=":return At.set(xt.fieldPath.canonicalString(),sn.value),Array.from(At.values())}return null}(y,p),O=function(Ue,je){const At=[];let xt=!0;for(const sn of lg(je)){const Wi=0===sn.kind?t3(Ue,sn.fieldPath,Ue.startAt):n3(Ue,sn.fieldPath,Ue.startAt);At.push(Wi.value),xt&&(xt=Wi.inclusive)}return new jh(At,xt)}(y,p),L=function(Ue,je){const At=[];let xt=!0;for(const sn of lg(je)){const Wi=0===sn.kind?n3(Ue,sn.fieldPath,Ue.endAt):t3(Ue,sn.fieldPath,Ue.endAt);At.push(Wi.value),xt&&(xt=Wi.inclusive)}return new jh(At,xt)}(y,p),Z=this.We(p,y,O),ae=this.We(p,y,L),Le=this.ze(p,y,x),We=this.He(p.indexId,D,Z,O.inclusive,ae,L.inclusive,Le);return _e.forEach(We,Ue=>i.Gt(Ue,t.limit).next(je=>{je.forEach(At=>{const xt=Je.fromSegments(At.documentKey);c.has(xt)||(c=c.add(xt),d.push(xt))})}))}).next(()=>d)}return _e.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,i,r,s,c,d){const p=(null!=t?t.length:1)*Math.max(i.length,s.length),y=p/(null!=t?t.length:1),C=[];for(let D=0;D<p;++D){const x=t?this.Je(t[D/y]):sA,O=this.Ye(e,x,i[D%y],r),L=this.Xe(e,x,s[D%y],c),Z=d.map(ae=>this.Ye(e,x,ae,!0));C.push(...this.createRange(O,L,Z))}return C}Ye(e,t,i,r){const s=new yg(e,Je.empty(),t,i);return r?s:s.ke()}Xe(e,t,i,r){const s=new yg(e,Je.empty(),t,i);return r?s.ke():s}je(e,t){const i=new QX(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let c=null;for(const d of s)i.$e(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(e,t){let i=2;return _e.forEach(this.Qe(t),r=>this.je(e,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new Jn(yr.comparator),p=!1;for(const y of c.filters){const C=y;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?p=!0:d=d.add(C.field))}for(const y of c.orderBy)y.field.isKeyField()||(d=d.add(y.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}Ze(e,t){const i=new q0;for(const r of lg(e)){const s=t.data.field(r.fieldPath);if(null==s)return null;const c=i.Ne(r.kind);_g.fe.Zt(s,c)}return i.Se()}Je(e){const t=new q0;return _g.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const i=new q0;return _g.fe.Zt(ag(this.databaseId,t),i.Ne(function(r){const s=lg(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Se()}ze(e,t,i){if(null===i)return[];let r=[];r.push(new q0);let s=0;for(const c of lg(e)){const d=i[s++];for(const p of r)if(this.en(t,c.fieldPath)&&A0(d))r=this.nn(r,c,d);else{const y=p.Ne(c.kind);_g.fe.Zt(d,y)}}return this.sn(r)}We(e,t,i){return this.ze(e,t,i.position)}sn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Se();return t}nn(e,t,i){const r=[...e],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new q0;p.seed(d.Se()),_g.fe.Zt(c,p.Ne(t.kind)),s.push(p)}return s}en(e,t){return!!e.filters.find(i=>i instanceof Xr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=oA(e),r=aA(e);return(t?i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.qt()).next(s=>{const c=[];return _e.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(y,C){const D=C?new x0(C.sequenceNumber,new nc(mg(C.readTime),new Je(nu(C.documentKey)),C.largestBatchId)):x0.empty(),x=y.fields.map(([O,L])=>new WI(yr.fromServerFormat(O),L));return new qI(y.indexId,y.collectionGroup,x,D)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:zt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=oA(e),s=aA(e);return this.rn(e).next(c=>r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(d=>_e.forEach(d,p=>{return s.put({indexId:p.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:gg((x=i).readTime),documentKey:Qs(x.documentKey.path),largestBatchId:x.largestBatchId});var x})))}updateIndexEntries(e,t){const i=new Map;return _e.forEach(t,(r,s)=>{const c=i.get(r.collectionGroup);return(c?_e.resolve(c):this.getFieldIndexes(e,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),_e.forEach(d,p=>this.on(e,r,p).next(y=>{const C=this.un(s,p);return y.isEqual(C)?_e.resolve():this.an(e,s,p,y,C)}))))})}cn(e,t,i,r){return W0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(i,t.key),documentKey:t.key.path.toArray()})}hn(e,t,i,r){return W0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(i,t.key),t.key.path.toArray()])}on(e,t,i){const r=W0(e);let s=new Jn(vg);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.tn(i,t)])},(c,d)=>{s=s.add(new yg(i.indexId,t,d.arrayValue,d.directionalValue))}).next(()=>s)}un(e,t){let i=new Jn(vg);const r=this.Ze(t,e);if(null==r)return i;const s=$P(t);if(null!=s){const c=e.data.field(s.fieldPath);if(A0(c))for(const d of c.arrayValue.values||[])i=i.add(new yg(t.indexId,e.key,this.Je(d),r))}else i=i.add(new yg(t.indexId,e.key,sA,r));return i}an(e,t,i,r,s){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(d,p,y,C,D){const x=d.getIterator(),O=p.getIterator();let L=by(x),Z=by(O);for(;L||Z;){let ae=!1,Le=!1;if(L&&Z){const We=y(L,Z);We<0?Le=!0:We>0&&(ae=!0)}else null!=L?Le=!0:ae=!0;ae?(C(Z),Z=by(O)):Le?(D(L),L=by(x)):(L=by(x),Z=by(O))}}(r,s,vg,d=>{c.push(this.cn(e,t,i,d))},d=>{c.push(this.hn(e,t,i,d))}),_e.waitFor(c)}rn(e){let t=1;return aA(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((c,d)=>vg(c,d)).filter((c,d,p)=>!d||0!==vg(c,p[d-1]));const r=[];r.push(e);for(const c of i){const d=vg(c,e),p=vg(c,t);if(0===d)r[0]=e.ke();else if(d>0&&p<0)r.push(c),r.push(c.ke());else if(p>0)break}r.push(t);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,sA,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,sA,[]]));return s}getMinOffset(e,t){let i;return _e.forEach(this.Qe(t),r=>this.je(e,r).next(s=>{s?(!i||JG(s.indexState.offset,i)<0)&&(i=s.indexState.offset):i=nc.min()})).next(()=>i)}}function oz(n){return Fr(n,"collectionParents")}function W0(n){return Fr(n,"indexEntries")}function oA(n){return Fr(n,"indexConfiguration")}function aA(n){return Fr(n,"indexState")}const az={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class So{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new So(e,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lz(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(t.batchId);let d=0;const p=i.Wt({range:c},(C,D,x)=>(d++,x.delete()));s.push(p.next(()=>{Pt(1===d)}));const y=[];for(const C of t.mutations){const D=$3(e,C.key.path,t.batchId);s.push(r.delete(D)),y.push(C.key)}return _e.waitFor(s).next(()=>y)}function lA(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw dt();e=n.noDocument}return JSON.stringify(e).length}So.DEFAULT_COLLECTION_PERCENTILE=10,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,So.DEFAULT=new So(41943040,So.DEFAULT_COLLECTION_PERCENTILE,So.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),So.DISABLED=new So(-1,0,0);class dN{constructor(e,t,i,r){this.userId=e,this.M=t,this.indexManager=i,this.referenceDelegate=r,this.ln={}}static Yt(e,t,i,r){Pt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new dN(s,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $h(e).Wt({index:"userMutationsIndex",range:i},(r,s,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const s=My(e),c=$h(e);return c.add({}).next(d=>{Pt("number"==typeof d);const p=new rN(d,t,i,r),y=function(x,O,L){const Z=L.baseMutations.map(Le=>j0(x.Jt,Le)),ae=L.mutations.map(Le=>j0(x.Jt,Le));return{userId:O,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:Z,mutations:ae}}(this.M,this.userId,p),C=[];let D=new Jn((x,O)=>zt(x.canonicalString(),O.canonicalString()));for(const x of r){const O=$3(this.userId,x.key.path,d);D=D.add(x.key.path.popLast()),C.push(c.put(y)),C.push(s.put(O,SX))}return D.forEach(x=>{C.push(this.indexManager.addToCollectionParentIndex(e,x))}),e.addOnCommittedListener(()=>{this.ln[d]=p.keys()}),_e.waitFor(C).next(()=>p)})}lookupMutationBatch(e,t){return $h(e).get(t).next(i=>i?(Pt(i.userId===this.userId),Ay(this.M,i)):null)}fn(e,t){return this.ln[t]?_e.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.ln[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return $h(e).Wt({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Pt(d.batchId>=i),s=Ay(this.M,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return $h(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $h(e).qt("userMutationsIndex",t).next(i=>i.map(r=>Ay(this.M,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=nA(this.userId,t.path),r=IDBKeyRange.lowerBound(i),s=[];return My(e).Wt({range:r},(c,d,p)=>{const[y,C,D]=c,x=nu(C);if(y===this.userId&&t.path.isEqual(x))return $h(e).get(D).next(O=>{if(!O)throw dt();Pt(O.userId===this.userId),s.push(Ay(this.M,O))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Jn(zt);const r=[];return t.forEach(s=>{const c=nA(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=My(e).Wt({range:d},(y,C,D)=>{const[x,O,L]=y,Z=nu(O);x===this.userId&&s.path.isEqual(Z)?i=i.add(L):D.done()});r.push(p)}),_e.waitFor(r).next(()=>this.dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,s=nA(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Jn(zt);return My(e).Wt({range:c},(p,y,C)=>{const[D,x,O]=p,L=nu(x);D===this.userId&&i.isPrefixOf(L)?L.length===r&&(d=d.add(O)):C.done()}).next(()=>this.dn(e,d))}dn(e,t){const i=[],r=[];return t.forEach(s=>{r.push($h(e).get(s).next(c=>{if(null===c)throw dt();Pt(c.userId===this.userId),i.push(Ay(this.M,c))}))}),_e.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return lz(e.Ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),_e.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _e.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return My(e).Wt({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=nu(s[1]);r.push(p)}else d.done()}).next(()=>{Pt(0===r.length)})})}containsKey(e,t){return cz(e,this.userId,t)}wn(e){return uz(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cz(n,e,t){const i=nA(e,t.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return My(n).Wt({range:s,jt:!0},(d,p,y)=>{const[C,D,x]=d;C===e&&D===r&&(c=!0),y.done()}).next(()=>c)}function $h(n){return Fr(n,"mutations")}function My(n){return Fr(n,"documentMutations")}function uz(n){return Fr(n,"mutationQueues")}class bg{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new bg(0)}static yn(){return new bg(-1)}}class eee{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const i=new bg(t.highestTargetId);return t.highestTargetId=i.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Mt.fromTimestamp(new $i(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.pn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.In(e,r)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(i=>(i.targetCount+=1,this.En(t,i),this.In(e,i))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>xy(e).delete(t.targetId)).next(()=>this.pn(e)).next(i=>(Pt(i.targetCount>0),i.targetCount-=1,this.In(e,i)))}removeTargets(e,t,i){let r=0;const s=[];return xy(e).Wt((c,d)=>{const p=z0(d);p.sequenceNumber<=t&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>_e.waitFor(s)).next(()=>r)}forEachTarget(e,t){return xy(e).Wt((i,r)=>{const s=z0(r);t(s)})}pn(e){return dz(e).get("targetGlobalKey").next(t=>(Pt(null!==t),t))}In(e,t){return dz(e).put("targetGlobalKey",t)}Tn(e,t){return xy(e).put(ez(this.M,t))}En(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=cg(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return xy(e).Wt({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const y=z0(d);R0(t,y.target)&&(s=y,p.done())}).next(()=>s)}addMatchingKeys(e,t,i){const r=[],s=qh(e);return t.forEach(c=>{const d=Qs(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(e,i,c))}),_e.waitFor(r)}removeMatchingKeys(e,t,i){const r=qh(e);return _e.forEach(t,s=>{const c=Qs(s.path);return _e.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,t){const i=qh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=qh(e);let s=xn();return r.Wt({range:i,jt:!0},(c,d,p)=>{const y=nu(c[1]),C=new Je(y);s=s.add(C)}).next(()=>s)}containsKey(e,t){const i=Qs(t.path),r=IDBKeyRange.bound([i],[VG(i)],!1,!0);let s=0;return qh(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},([c,d],p,y)=>{0!==c&&(s++,y.done())}).next(()=>s>0)}Et(e,t){return xy(e).get(t).next(i=>i?z0(i):null)}}function xy(n){return Fr(n,"targets")}function dz(n){return Fr(n,"targetGlobal")}function qh(n){return Fr(n,"targetDocuments")}function wg(n){return hN.apply(this,arguments)}function hN(){return hN=(0,Ce.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==Z3)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),hN.apply(this,arguments)}function hz([n,e],[t,i]){const r=zt(n,t);return 0===r?zt(e,i):r}class tee{constructor(e){this.An=e,this.buffer=new Jn(hz),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();hz(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nee{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const i=this.Vn?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,(0,Ce.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(r){fg(r)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield wg(r)}yield t.Sn(e)}))}}class iee{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return _e.resolve(ca.A);const i=new tee(t);return this.Dn.forEachTarget(e,r=>i.Pn(r.sequenceNumber)).next(()=>this.Dn.xn(e,r=>i.Pn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Dn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(az)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),az):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let i,r,s,c,d,p,y;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,c=Date.now(),this.nthSequenceNumber(e,r))).next(D=>(i=D,d=Date.now(),this.removeTargets(e,i,t))).next(D=>(s=D,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(D=>(y=Date.now(),UP()<=tl.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-C}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${D} documents in `+(y-p)+`ms\nTotal Duration: ${y-C}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:D})))}}class ree{constructor(e,t){this.db=e,this.garbageCollector=new iee(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}kn(e){let t=0;return this.xn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(i,r)=>t(r))}addReference(e,t,i){return cA(e,i)}removeReference(e,t,i){return cA(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return cA(e,t)}On(e,t){return function(i,r){let s=!1;return uz(i).zt(c=>cz(i,c,r).next(d=>(d&&(s=!0),_e.resolve(!d)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Mn(e,(c,d)=>{if(d<=t){const p=this.On(e,c).next(y=>{if(!y)return s++,i.getEntry(e,c).next(()=>(i.removeEntry(c,Mt.min()),qh(e).delete([0,Qs(c.path)])))});r.push(p)}}).next(()=>_e.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return cA(e,t)}Mn(e,t){const i=qh(e);let r,s=ca.A;return i.Wt({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:y})=>{0===c?(s!==ca.A&&t(new Je(nu(r)),s),s=y,r=p):s=ca.A}).next(()=>{s!==ca.A&&t(new Je(nu(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cA(n,e){return qh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Qs(e.path),sequenceNumber:i}));var i}class fz{constructor(){this.changes=new Gh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?_e.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class see{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Cg(e).put(i)}removeEntry(e,t,i){return Cg(e).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],rA(s),c[c.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Fn(e,i)))}getEntry(e,t){let i=ni.newInvalidDocument(t);return Cg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Z0(t))},(r,s)=>{i=this.$n(t,s)}).next(()=>i)}Bn(e,t){let i={size:0,document:ni.newInvalidDocument(t)};return Cg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Z0(t))},(r,s)=>{i={document:this.$n(t,s),size:lA(s)}}).next(()=>i)}getEntries(e,t){let i=ul();return this.Ln(e,t,(r,s)=>{const c=this.$n(r,s);i=i.insert(r,c)}).next(()=>i)}Un(e,t){let i=ul(),r=new qi(Je.comparator);return this.Ln(e,t,(s,c)=>{const d=this.$n(s,c);i=i.insert(s,d),r=r.insert(s,lA(c))}).next(()=>({documents:i,qn:r}))}Ln(e,t,i){if(t.isEmpty())return _e.resolve();let r=new Jn(mz);t.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(Z0(r.first()),Z0(r.last())),c=r.getIterator();let d=c.getNext();return Cg(e).Wt({index:"documentKeyIndex",range:s},(p,y,C)=>{const D=Je.fromSegments([...y.prefixPath,y.collectionGroup,y.documentId]);for(;d&&mz(d,D)<0;)i(d,null),d=c.getNext();d&&d.isEqual(D)&&(i(d,y),d=c.hasNext()?c.getNext():null),d?C.Ut(Z0(d)):C.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),rA(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cg(e).qt(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=ul();for(const p of c){const y=this.$n(Je.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(y.key,y)}return d})}getAllFromCollectionGroup(e,t,i,r){let s=ul();const c=gz(t,i),d=gz(t,nc.max());return Cg(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,y,C)=>{const D=this.$n(Je.fromSegments(y.prefixPath.concat(y.collectionGroup,y.documentId)),y);s=s.insert(D.key,D),s.size===r&&C.done()}).next(()=>s)}newChangeBuffer(e){return new oee(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return pz(e).get("remoteDocumentGlobalKey").next(t=>(Pt(!!t),t))}Fn(e,t){return pz(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const i=function $X(n,e){let t;if(e.document)t=L3(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Je.fromSegments(e.noDocument.path),r=mg(e.noDocument.readTime);t=ni.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const i=Je.fromSegments(e.unknownDocument.path),r=mg(e.unknownDocument.version);t=ni.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new $i(i[0],i[1]);return Mt.fromTimestamp(r)}(e.readTime)),t}(this.M,t);if(!i.isNoDocument()||!i.version.isEqual(Mt.min()))return i}return ni.newInvalidDocument(e)}}class oee extends fz{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Gh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Jn((s,c)=>zt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Gn.get(s);if(t.push(this.Kn.removeEntry(e,s,d.readTime)),c.isValidDocument()){const p=X3(this.Kn.M,c);r=r.add(s.path.popLast()),i+=lA(p)-d.size,t.push(this.Kn.addEntry(e,s,p))}else if(i-=d.size,this.trackRemovals){const p=X3(this.Kn.M,c.convertToNoDocument(Mt.min()));t.push(this.Kn.addEntry(e,s,p))}}),r.forEach(s=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Kn.updateMetadata(e,i)),_e.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(i=>(this.Gn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:i,qn:r})=>(r.forEach((s,c)=>{this.Gn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function pz(n){return Fr(n,"remoteDocumentGlobal")}function Cg(n){return Fr(n,"remoteDocumentsV14")}function Z0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gz(n,e){const t=e.documentKey.path.toArray();return[n,rA(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function mz(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<t.length-2&&s<i.length-2;++s)if(r=zt(t[s],i[s]),r)return r;return r=zt(t.length,i.length),r||(r=zt(t[t.length-2],i[i.length-2]),r||zt(t[t.length-1],i[i.length-1]))}class aee{constructor(e){this.M=e}kt(e,t,i,r){const s=new iA("createOrUpgrade",t);var d;i<1&&r>=1&&(e.createObjectStore("owner"),(d=e).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z3,{unique:!0}),d.createObjectStore("documentMutations"),_z(e),function(d){d.createObjectStore("remoteDocuments")}(e));let c=_e.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(e),_z(e)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Mt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",y)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").qt().next(y=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",z3,{unique:!0});const C=p.store("mutations"),D=y.map(x=>C.put(x));return _e.waitFor(D)})}(e,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(c=c.next(()=>this.Qn(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(e),this.jn(s)))),i<7&&r>=7&&(c=c.next(()=>this.Wn(s))),i<8&&r>=8&&(c=c.next(()=>this.zn(e,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(c=c.next(()=>this.Hn(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:BX});p.createIndex("collectionPathOverlayIndex",VX,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",UX,{unique:!1})}(e)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:IX});p.createIndex("documentKeyIndex",AX),p.createIndex("collectionGroupIndex",MX)}(e)).next(()=>this.Jn(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>{!function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:PX}).createIndex("sequenceNumberIndex",NX,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:FX}).createIndex("documentKeyIndex",LX,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((i,r)=>{t+=lA(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Qn(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.qt().next(r=>_e.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.qt("userMutationsIndex",c).next(d=>_e.forEach(d,p=>{Pt(p.userId===s.userId);const y=Ay(this.M,p);return lz(e,s.userId,y).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Wt((c,d)=>{const p=new hn(c),y=[0,Qs(p)];s.push(t.get(y).next(C=>C?_e.resolve():t.put({targetId:0,path:Qs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>_e.waitFor(s))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:OX});const i=t.store("collectionParents"),r=new uN,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:Qs(p)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,d)=>{const p=new hn(c);return s(p.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,d,p],y)=>{const C=nu(d);return s(C.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((i,r)=>{const s=z0(r),c=ez(this.M,s);return t.put(c)})}Jn(e,t){const i=t.store("remoteDocuments"),r=[];return i.Wt((s,c)=>{const d=t.store("remoteDocumentsV14"),p=(y=c,y.document?new Je(hn.fromString(y.document.name).popFirst(5)):y.noDocument?Je.fromSegments(y.noDocument.path):y.unknownDocument?Je.fromSegments(y.unknownDocument.path):dt()).path.toArray();var y;const C={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(C))}).next(()=>_e.waitFor(r))}}function _z(n){n.createObjectStore("targetDocuments",{keyPath:RX}).createIndex("documentTargetsIndex",kX,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xX,{unique:!0}),n.createObjectStore("targetGlobal")}const fN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class pN{constructor(e,t,i,r,s,c,d,p,y,C,D=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Yn=s,this.window=c,this.document=d,this.Xn=y,this.Zn=C,this.ts=D,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=x=>Promise.resolve(),!pN.vt())throw new Oe(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ree(this,r),this.hs=t+"main",this.M=new J3(p),this.ls=new ic(this.hs,this.ts,new aee(this.M)),this.fs=new eee(this.referenceDelegate,this.M),this.ds=new see(this.M),this._s=new qX,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===C&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,fN);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ca(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var i=(0,Ce.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ce.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>uA(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(fg(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return Y0(e).get("owner").next(t=>_e.resolve(this.Ps(t)))}Vs(e){return uA(e).delete(this.clientId)}vs(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Fr(i,"clientMetadata");return r.qt().next(s=>{const c=e.Ds(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return _e.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(e.ws)for(const i of t)e.ws.removeItem(e.Cs(i.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?_e.resolve(!0):Y0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Oe(fe.FAILED_PRECONDITION,fN);return!1}}return!(!this.networkEnabled||!this.inForeground)||uA(e).qt().next(i=>void 0===this.Ds(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Q3(t,ca.A);return e.Rs(i).next(()=>e.Vs(i))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(i=>this.Ss(i.updateTimeMs,t)&&!this.xs(i.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>uA(e).qt().next(t=>this.Ds(t,18e5).map(i=>i.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return dN.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new XX(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return cN.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,i){Ve("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",s=14===(c=this.ts)?jX:13===c?W3:12===c?HX:11===c?q3:void dt();var c;let d;return this.ls.runTransaction(e,r,s,p=>(d=new Q3(p,this.es?this.es.next():ca.A),"readwrite-primary"===t?this.Es(d).next(y=>!!y||this.As(d)).next(y=>{if(!y)throw or(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Oe(fe.FAILED_PRECONDITION,Z3);return i(d)}).next(y=>this.bs(d).next(()=>y)):this.$s(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}$s(e){return Y0(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Oe(fe.FAILED_PRECONDITION,fN)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Y0(e).put("owner",t)}static vt(){return ic.vt()}Rs(e){const t=Y0(e);return t.get("owner").next(i=>this.Ps(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):_e.resolve())}Ss(e,t){const i=Date.now();return!(e<i-t||e>i&&(or(`Detected an update time that is in the future: ${e} > ${i}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,N.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const i=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return or("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){or("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Y0(n){return Fr(n,"owner")}function uA(n){return Fr(n,"clientMetadata")}function gN(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class lee{constructor(e,t,i){this.ds=e,this.Bs=t,this.indexManager=i}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(i=>this.Us(e,t,i))}Us(e,t,i){return this.ds.getEntry(e,t).next(r=>{for(const s of i)s.applyToLocalView(r);return r})}qs(e,t){e.forEach((i,r)=>{for(const s of t)s.applyToLocalView(r)})}Ks(e,t){return this.ds.getEntries(e,t).next(i=>this.Gs(e,i).next(()=>i))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(i=>this.qs(t,i))}Qs(e,t,i){return Je.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.js(e,t.path):ZP(t)?this.Ws(e,t,i):this.zs(e,t,i);var r}js(e,t){return this.Ls(e,new Je(t)).next(i=>{let r=XP();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}Ws(e,t,i){const r=t.collectionGroup;let s=XP();return this.indexManager.getCollectionParents(e,r).next(c=>_e.forEach(c,d=>{const p=(y=t,C=d.child(r),new dd(C,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,C;return this.zs(e,p,i).next(y=>{y.forEach((C,D)=>{s=s.insert(C,D)})})}).next(()=>s))}zs(e,t,i){let r;return this.ds.getAllFromCollection(e,t.path,i).next(s=>(r=s,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const c of s)for(const d of c.mutations){const p=d.key;let y=r.get(p);null==y&&(y=ni.newInvalidDocument(p),r=r.insert(p,y)),QP(d,y,c.localWriteTime),y.isFoundDocument()||(r=r.remove(p))}}).next(()=>(r.forEach((s,c)=>{KP(t,c)||(r=r.remove(s))}),r))}}class mN{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Hs=i,this.Js=r}static Ys(e,t){let i=xn(),r=xn();for(const s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new mN(e,t.fromCache,i,r)}}class yz{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,i,r){return this.ti(e,t).next(s=>s||this.ei(e,t,r,i)).next(s=>s||this.ni(e,t))}ti(e,t){return _e.resolve(null)}ei(e,t,i,r){return function QJ(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Mt.min())?this.ni(e,t):this.Zs.Ks(e,i).next(s=>{const c=this.si(t,s);return this.ii(t,c,i,r)?this.ni(e,t):(UP()<=tl.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),YP(t)),this.ri(e,c,t,QG(r,-1)))})}si(e,t){let i=new Jn(d3(e));return t.forEach((r,s)=>{KP(e,s)&&(i=i.add(s))}),i}ii(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}ni(e,t){return UP()<=tl.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",YP(t)),this.Zs.Qs(e,t,nc.min())}ri(e,t,i,r){return this.Zs.Qs(e,i,r).next(s=>(t.forEach(c=>{s=s.insert(c.key,c)}),s))}}class cee{constructor(e,t,i,r){this.persistence=e,this.oi=t,this.M=r,this.ui=new qi(zt),this.ai=new Gh(s=>cg(s),R0),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(i)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new lee(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function vz(n,e,t,i){return new cee(n,e,t,i)}function bz(n,e){return _N.apply(this,arguments)}function _N(){return _N=(0,Ce.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.Bs.getAllMutationBatches(i).next(s=>(r=s,t.li(e),t.Bs.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=xn();for(const y of r){c.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}for(const y of s){d.push(y.batchId);for(const C of y.mutations)p=p.add(C.key)}return t.fi.Ks(i,p).next(y=>({di:y,removedBatchIds:c,addedBatchIds:d}))})})}),_N.apply(this,arguments)}function uee(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=t.hi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,y){const C=p.batch,D=C.keys();let x=_e.resolve();return D.forEach(O=>{x=x.next(()=>y.getEntry(d,O)).next(L=>{const Z=p.docVersions.get(O);Pt(null!==Z),L.version.compareTo(Z)<0&&(C.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))})}),x.next(()=>c.Bs.removeMutationBatch(d,C))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.Bs.performConsistencyCheck(i)).next(()=>t.fi.Ks(i,r))})}function wz(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function dee(n,e){const t=it(n),i=e.snapshotVersion;let r=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=t.hi.newChangeBuffer({trackRemovals:!0});r=t.ui;const d=[];e.targetChanges.forEach((y,C)=>{const D=r.get(C);if(!D)return;d.push(t.fs.removeMatchingKeys(s,y.removedDocuments,C).next(()=>t.fs.addMatchingKeys(s,y.addedDocuments,C)));let x=D.withSequenceNumber(s.currentSequenceNumber);var O,L,Z;e.targetMismatches.has(C)?x=x.withResumeToken(vr.EMPTY_BYTE_STRING,Mt.min()).withLastLimboFreeSnapshotVersion(Mt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,i)),r=r.insert(C,x),L=x,Z=y,(0===(O=D).resumeToken.approximateByteSize()||L.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8||Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0)&&d.push(t.fs.updateTargetData(s,x))});let p=ul();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),d.push(Cz(s,c,e.documentUpdates).next(y=>{p=y})),!i.isEqual(Mt.min())){const y=t.fs.getLastRemoteSnapshotVersion(s).next(C=>t.fs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(y)}return _e.waitFor(d).next(()=>c.apply(s)).next(()=>t.fi.Gs(s,p)).next(()=>p)}).then(s=>(t.ui=r,s))}function Cz(n,e,t){let i=xn();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let s=ul();return t.forEach((c,d)=>{const p=r.get(c);d.isNoDocument()&&d.version.isEqual(Mt.min())?(e.removeEntry(c,d.readTime),s=s.insert(c,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||0===d.version.compareTo(p.version)&&p.hasPendingWrites?(e.addEntry(d),s=s.insert(c,d)):Ve("LocalStore","Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",d.version)}),s})}function hee(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(i,e)))}function Ry(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.fs.getTargetData(i,e).next(s=>s?(r=s,_e.resolve(r)):t.fs.allocateTargetId(i).next(c=>(r=new zh(e,c,0,i.currentSequenceNumber),t.fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ui=t.ui.insert(i.targetId,i),t.ai.set(e,i.targetId)),i})}function ky(n,e,t){return yN.apply(this,arguments)}function yN(){return yN=(0,Ce.Z)(function*(n,e,t){const i=it(n),r=i.ui.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!fg(c))throw c;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.ui=i.ui.remove(e),i.ai.delete(r.target)}),yN.apply(this,arguments)}function dA(n,e,t){const i=it(n);let r=Mt.min(),s=xn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,y){const C=it(d),D=C.ai.get(y);return void 0!==D?_e.resolve(C.ui.get(D)):C.fs.getTargetData(p,y)}(i,c,cl(e)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.fs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.oi.Qs(c,e,t?r:Mt.min(),t?s:xn())).next(d=>(Tz(i,u3(e),d),{documents:d,_i:s})))}function Ez(n,e){const t=it(n),i=it(t.fs),r=t.ui.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",s=>i.Et(s,e).next(c=>c?c.target:null))}function Dz(n,e){const t=it(n),i=t.ci.get(e)||Mt.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.hi.getAllFromCollectionGroup(r,e,QG(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(Tz(t,e,r),r))}function Tz(n,e,t){let i=Mt.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.ci.set(e,i)}function vN(){return vN=(0,Ce.Z)(function*(n,e,t,i){const r=it(n);let s=xn(),c=ul();for(const y of t){const C=e.wi(y.metadata.name);y.document&&(s=s.add(C));const D=e.mi(y);D.setReadTime(e.gi(y.metadata.readTime)),c=c.insert(C,D)}const d=r.hi.newChangeBuffer({trackRemovals:!0}),p=yield Ry(r,(y=i,cl(Cy(hn.fromString(`__bundle__/docs/${y}`)))));var y;return r.persistence.runTransaction("Apply bundle documents","readwrite",y=>Cz(y,d,c).next(C=>(d.apply(y),C)).next(C=>r.fs.removeMatchingKeysForTargetId(y,p.targetId).next(()=>r.fs.addMatchingKeys(y,s,p.targetId)).next(()=>r.fi.Gs(y,C)).next(()=>C)))}),vN.apply(this,arguments)}function pee(n,e){return bN.apply(this,arguments)}function bN(){return bN=(0,Ce.Z)(function*(n,e,t=xn()){const i=yield Ry(n,cl(aN(e.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Nr(e.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r._s.saveNamedQuery(s,e);const d=i.withResumeToken(vr.EMPTY_BYTE_STRING,c);return r.ui=r.ui.insert(d.targetId,d),r.fs.updateTargetData(s,d).next(()=>r.fs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.fs.addMatchingKeys(s,t,i.targetId)).next(()=>r._s.saveNamedQuery(s,e))})}),bN.apply(this,arguments)}class gee{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return _e.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var i;return this.yi.set(t.id,{id:(i=t).id,version:i.version,createTime:Nr(i.createTime)}),_e.resolve()}getNamedQuery(e,t){return _e.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(i=t).name,query:aN(i.bundledQuery),readTime:Nr(i.readTime)}),_e.resolve();var i}}class mee{constructor(){this.overlays=new qi(Je.comparator),this.Ii=new Map}getOverlay(e,t){return _e.resolve(this.overlays.get(t))}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.Xt(e,t,s)}),_e.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Ii.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ii.delete(i)),_e.resolve()}getOverlaysForCollection(e,t,i){const r=F0(),s=t.length+1,c=new Je(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return _e.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new qi((y,C)=>y-C);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let C=s.get(y.largestBatchId);null===C&&(C=F0(),s=s.insert(y.largestBatchId,C)),C.set(y.getKey(),y)}}const d=F0(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,C)=>d.set(y,C)),!(d.size()>=r)););return _e.resolve(d)}Xt(e,t,i){if(null===i)return;const r=this.overlays.get(i.key);if(null!==r){const c=this.Ii.get(r.largestBatchId).delete(i.key);this.Ii.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new oN(t,i));let s=this.Ii.get(t);void 0===s&&(s=xn(),this.Ii.set(t,s)),this.Ii.set(t,s.add(i.key))}}class wN{constructor(){this.Ti=new Jn(Lr.Ei),this.Ai=new Jn(Lr.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const i=new Lr(e,t);this.Ti=this.Ti.add(i),this.Ai=this.Ai.add(i)}bi(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Pi(new Lr(e,t))}Vi(e,t){e.forEach(i=>this.removeReference(i,t))}vi(e){const t=new Je(new hn([])),i=new Lr(t,e),r=new Lr(t,e+1),s=[];return this.Ai.forEachInRange([i,r],c=>{this.Pi(c),s.push(c.key)}),s}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Je(new hn([])),i=new Lr(t,e),r=new Lr(t,e+1);let s=xn();return this.Ai.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(e){const t=new Lr(e,0),i=this.Ti.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Lr{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Je.comparator(e.key,t.key)||zt(e.Ci,t.Ci)}static Ri(e,t){return zt(e.Ci,t.Ci)||Je.comparator(e.key,t.key)}}class _ee{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Jn(Lr.Ei)}checkEmpty(e){return _e.resolve(0===this.Bs.length)}addMutationBatch(e,t,i,r){const s=this.xi;this.xi++;const c=new rN(s,t,i,r);this.Bs.push(c);for(const d of r)this.Ni=this.Ni.add(new Lr(d.key,s)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return _e.resolve(c)}lookupMutationBatch(e,t){return _e.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Mi(t+1),s=r<0?0:r;return _e.resolve(this.Bs.length>s?this.Bs[s]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return _e.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Lr(t,0),r=new Lr(t,Number.POSITIVE_INFINITY),s=[];return this.Ni.forEachInRange([i,r],c=>{const d=this.ki(c.Ci);s.push(d)}),_e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Jn(zt);return t.forEach(r=>{const s=new Lr(r,0),c=new Lr(r,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([s,c],d=>{i=i.add(d.Ci)})}),_e.resolve(this.Oi(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let s=i;Je.isDocumentKey(s)||(s=s.child(""));const c=new Lr(new Je(s),0);let d=new Jn(zt);return this.Ni.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===r&&(d=d.add(p.Ci)),!0)},c),_e.resolve(this.Oi(d))}Oi(e){const t=[];return e.forEach(i=>{const r=this.ki(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Pt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let i=this.Ni;return _e.forEach(t.mutations,r=>{const s=new Lr(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Ni=i})}_n(e){}containsKey(e,t){const i=new Lr(t,0),r=this.Ni.firstAfterOrEqual(i);return _e.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return _e.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class yee{constructor(e){this.$i=e,this.docs=new qi(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),s=r?r.size:0,c=this.$i(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return _e.resolve(i?i.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let i=ul();return t.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ni.newInvalidDocument(r))}),_e.resolve(i)}getAllFromCollection(e,t,i){let r=ul();const s=new Je(t.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!t.isPrefixOf(d.path))break;d.path.length>t.length+1||JG(UJ(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return _e.resolve(r)}getAllFromCollectionGroup(e,t,i,r){dt()}Bi(e,t){return _e.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new vee(this)}getSize(e){return _e.resolve(this.size)}}class vee extends fz{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.Kn.addEntry(e,r)):this.Kn.removeEntry(i)}),_e.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class bee{constructor(e){this.persistence=e,this.Li=new Gh(t=>cg(t),R0),this.lastRemoteSnapshotVersion=Mt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new wN,this.targetCount=0,this.Ki=bg.gn()}forEachTarget(e,t){return this.Li.forEach((i,r)=>t(r)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ui&&(this.Ui=t),_e.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new bg(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,_e.resolve()}updateTargetData(e,t){return this.Tn(t),_e.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,t,i){let r=0;const s=[];return this.Li.forEach((c,d)=>{d.sequenceNumber<=t&&null===i.get(d.targetId)&&(this.Li.delete(c),s.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)}),_e.waitFor(s).next(()=>r)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,t){const i=this.Li.get(t)||null;return _e.resolve(i)}addMatchingKeys(e,t,i){return this.qi.bi(t,i),_e.resolve()}removeMatchingKeys(e,t,i){this.qi.Vi(t,i);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(c=>{s.push(r.markPotentiallyOrphaned(e,c))}),_e.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),_e.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qi.Di(t);return _e.resolve(i)}containsKey(e,t){return _e.resolve(this.qi.containsKey(t))}}class wee{constructor(e,t){this.Gi={},this.overlays={},this.es=new ca(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new bee(this),this.indexManager=new JX,this.ds=new yee(i=>this.referenceDelegate.Qi(i)),this.M=new J3(t),this._s=new gee(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mee,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Gi[e.toKey()];return i||(i=new _ee(t,this.referenceDelegate),this.Gi[e.toKey()]=i),i}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,i){Ve("MemoryPersistence","Starting transaction:",e);const r=new Cee(this.es.next());return this.referenceDelegate.ji(),i(r).next(s=>this.referenceDelegate.Wi(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}zi(e,t){return _e.or(Object.values(this.Gi).map(i=>()=>i.containsKey(e,t)))}}class Cee extends Y3{constructor(e){super(),this.currentSequenceNumber=e}}class CN{constructor(e){this.persistence=e,this.Hi=new wN,this.Ji=null}static Yi(e){return new CN(e)}get Xi(){if(this.Ji)return this.Ji;throw dt()}addReference(e,t,i){return this.Hi.addReference(i,t),this.Xi.delete(i.toString()),_e.resolve()}removeReference(e,t,i){return this.Hi.removeReference(i,t),this.Xi.add(i.toString()),_e.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),_e.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(r=>this.Xi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xi.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.Xi,i=>{const r=Je.fromPath(i);return this.Zi(e,r).next(s=>{s||t.removeEntry(r,Mt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(i=>{i?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return _e.or([()=>_e.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Sz(n,e){return`firestore_clients_${n}_${e}`}function Iz(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function EN(n,e){return`firestore_targets_${n}_${e}`}class hA{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static tr(e,t,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Oe(r.error.code,r.error.message))),c?new hA(e,t,r.state,s):(or("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class K0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static tr(e,t){const i=JSON.parse(t);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Oe(i.error.code,i.error.message))),s?new K0(e,i.state,r):(or("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class fA{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=eA();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=GG(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new fA(e,s):(or("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class DN{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new DN(t.clientId,t.onlineState):(or("SharedClientState",`Failed to parse online state: ${e}`),null)}}class TN{constructor(){this.activeTargetIds=eA()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SN{constructor(e,t,i,r,s){this.window=e,this.Yn=t,this.persistenceKey=i,this.ir=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new qi(zt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.hr=Sz(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new TN),this.dr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.Fs();for(const r of t){if(r===e.ir)continue;const s=e.getItem(Sz(e.persistenceKey,r));if(s){const c=fA.tr(r,s);c&&(e.ar=e.ar.insert(c.clientId,c))}}e.yr();const i=e.storage.getItem(e.mr);if(i){const r=e.pr(i);r&&e.Ir(r)}for(const r of e.cr)e.ur(r);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,i){this.Er(e,t,i),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(EN(this.persistenceKey,e));if(i){const r=K0.tr(e,i);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(EN(this.persistenceKey,e))}updateQueryState(e,t,i){this.br(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Ar(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.hr)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==i.key)if(t.dr.test(i.key)){if(null==i.newValue){const r=t.vr(i.key);return t.Sr(r,null)}{const r=t.Dr(i.key,i.newValue);if(r)return t.Sr(r.clientId,r)}}else if(t._r.test(i.key)){if(null!==i.newValue){const r=t.Cr(i.key,i.newValue);if(r)return t.Nr(r)}}else if(t.wr.test(i.key)){if(null!==i.newValue){const r=t.kr(i.key,i.newValue);if(r)return t.Mr(r)}}else if(i.key===t.mr){if(null!==i.newValue){const r=t.pr(i.newValue);if(r)return t.Ir(r)}}else if(i.key===t.lr){const r=function(s){let c=ca.A;if(null!=s)try{const d=JSON.parse(s);Pt("number"==typeof d),c=d}catch(d){or("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==ca.A&&t.sequenceNumberHandler(r)}else if(i.key===t.gr){const r=t.Or(i.newValue);yield Promise.all(r.map(s=>t.syncEngine.Fr(s)))}}else t.cr.push(i)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,i){const r=new hA(this.currentUser,e,t,i),s=Iz(this.persistenceKey,this.currentUser,e);this.setItem(s,r.er())}Ar(e){const t=Iz(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,i){const r=EN(this.persistenceKey,e),s=new K0(e,t,i);this.setItem(r,s.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const i=this.vr(e);return fA.tr(i,t)}Cr(e,t){const i=this._r.exec(e),r=Number(i[1]);return hA.tr(new Qr(void 0!==i[2]?i[2]:null),r,t)}kr(e,t){const i=this.wr.exec(e),r=Number(i[1]);return K0.tr(r,t)}pr(e){return DN.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const i=t?this.ar.insert(e,t):this.ar.remove(e),r=this.Tr(this.ar),s=this.Tr(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Lr(c,d).then(()=>{this.ar=i})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=eA();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class Az{constructor(){this.Ur=new TN,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,i){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new TN,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Eee{Kr(e){}shutdown(){}}class Mz{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Dee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Tee{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class See extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,i,r,s){const c=this.ho(e,t);Ve("RestConnection","Sending: ",c,i);const d={};return this.lo(d,r,s),this.fo(e,c,d,i).then(p=>(Ve("RestConnection","Received: ",p),p),p=>{throw C0("RestConnection",`${e} failed with error: `,p,"url: ",c,"request:",i),p})}_o(e,t,i,r,s){return this.co(e,t,i,r,s)}lo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+my,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}ho(e,t){return`${this.uo}/v1/${t}:${Dee[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,i,r){return new Promise((s,c)=>{const d=new DJ;d.listenOnce(wJ.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case VP.NO_ERROR:const y=d.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(y)),s(y);break;case VP.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),c(new Oe(fe.DEADLINE_EXCEEDED,"Request time out"));break;case VP.HTTP_ERROR:const C=d.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',C,"response text:",d.getResponseText()),C>0){const D=d.getResponseJson().error;if(D&&D.status&&D.message){const x=function(O){const L=O.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(L)>=0?L:fe.UNKNOWN}(D.status);c(new Oe(x,D.message))}else c(new Oe(fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Oe(fe.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(r);d.send(t,"POST",p,i,15)})}wo(e,t,i){const r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vJ(),c=bJ(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new EJ({})),this.lo(d.initMessageHeaders,t,i),(0,N.uI)()||(0,N.b$)()||(0,N.d)()||(0,N.w1)()||(0,N.Mn)()||(0,N.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Ve("Connection","Creating WebChannel: "+p,d);const y=s.createWebChannel(p,d);let C=!1,D=!1;const x=new Tee({Jr:L=>{D?Ve("Connection","Not sending because WebChannel is closed:",L):(C||(Ve("Connection","Opening WebChannel transport."),y.open(),C=!0),Ve("Connection","WebChannel sending:",L),y.send(L))},Yr:()=>y.close()}),O=(L,Z,ae)=>{L.listen(Z,Le=>{try{ae(Le)}catch(We){setTimeout(()=>{throw We},0)}})};return O(y,GI.EventType.OPEN,()=>{D||Ve("Connection","WebChannel transport opened.")}),O(y,GI.EventType.CLOSE,()=>{D||(D=!0,Ve("Connection","WebChannel transport closed"),x.ro())}),O(y,GI.EventType.ERROR,L=>{D||(D=!0,C0("Connection","WebChannel transport errored:",L),x.ro(new Oe(fe.UNAVAILABLE,"The operation could not be completed")))}),O(y,GI.EventType.MESSAGE,L=>{var Z;if(!D){const ae=L.data[0];Pt(!!ae);const Le=ae,We=Le.error||(null===(Z=Le[0])||void 0===Z?void 0:Z.error);if(We){Ve("Connection","WebChannel received error:",We);const Ue=We.status;let je=function(xt){const sn=lr[xt];if(void 0!==sn)return S3(sn)}(Ue),At=We.message;void 0===je&&(je=fe.INTERNAL,At="Unknown error status: "+Ue+" with message "+We.message),D=!0,x.ro(new Oe(je,At)),y.close()}else Ve("Connection","WebChannel received:",ae),x.oo(ae)}}),O(c,CJ.STAT_EVENT,L=>{L.stat===PG.PROXY?Ve("Connection","Detected buffering proxy"):L.stat===PG.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.io()},0),x}}function xz(){return"undefined"!=typeof window?window:null}function pA(){return"undefined"!=typeof document?document:null}function Q0(n){return new pX(n,!0)}class IN{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Yn=e,this.timerId=t,this.mo=i,this.yo=r,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),i=Math.max(0,Date.now()-this.Eo),r=Math.max(0,t-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Rz{constructor(e,t,i,r,s,c,d,p){this.Yn=e,this.Vo=i,this.vo=r,this.So=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new IN(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Ce.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var i=this;return(0,Ce.Z)(function*(){i.Uo(),i.qo(),i.No.cancel(),i.Do++,4!==e?i.No.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(or(t.toString()),or("Using maximum backoff delay to prevent overloading the backend."),i.No.Ao()):t&&t.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Ko(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Do===t&&this.Qo(i,r)},i=>{e(()=>{const r=new Oe(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.jo(r)})})}Qo(e,t){const i=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{i(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(r=>{i(()=>this.jo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Oo(){var e=this;this.state=5,this.No.Ro((0,Ce.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Iee extends Rz{constructor(e,t,i,r,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,c),this.M=s}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function _X(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:dt(),r=e.targetChange.targetIds||[],s=function(p,y){return p.N?(Pt(void 0===y||"string"==typeof y),vr.fromBase64String(y||"")):(Pt(void 0===y||y instanceof Uint8Array),vr.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(p){const y=void 0===p.code?fe.UNKNOWN:S3(p.code);return new Oe(y,p.message||"")}(c);t=new A3(i,r,s,d||null)}else if("documentChange"in e){const i=e.documentChange,r=tu(n,i.document.name),s=Nr(i.document.updateTime),c=new Es({mapValue:{fields:i.document.fields}}),d=ni.newFoundDocument(r,s,c);t=new tA(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in e){const i=e.documentDelete,r=tu(n,i.document),s=i.readTime?Nr(i.readTime):Mt.min(),c=ni.newNoDocument(r,s);t=new tA([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const i=e.documentRemove,r=tu(n,i.document);t=new tA([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return dt();{const i=e.filter,s=new sX(i.count||0);t=new I3(i.targetId,s)}}var p;return t}(this.M,e),i=function(r){if(!("targetChange"in r))return Mt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Mt.min():s.readTime?Nr(s.readTime):Mt.min()}(e);return this.listener.zo(t,i)}Ho(e){const t={};t.database=H0(this.M),t.addTarget=function(r,s){let c;const d=s.target;return c=YI(d)?{documents:B3(r,d)}:{query:V3(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=k3(r,s.resumeToken):s.snapshotVersion.compareTo(Mt.min())>0&&(c.readTime=V0(r,s.snapshotVersion.toTimestamp())),c}(this.M,e);const i=function vX(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return dt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Lo(t)}Jo(e){const t={};t.database=H0(this.M),t.removeTarget=e,this.Lo(t)}}class Aee extends Rz{constructor(e,t,i,r,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,c),this.M=s,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function yX(n,e){return n&&n.length>0?(Pt(void 0!==e),n.map(t=>function(i,r){let s=Nr(i.updateTime?i.updateTime:r);return s.isEqual(Mt.min())&&(s=Nr(r)),new nX(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Nr(e.commitTime);return this.listener.tu(i,t)}return Pt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=H0(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>j0(this.M,i))};this.Lo(t)}}class Mee extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=i,this.M=r,this.su=!1}iu(){if(this.su)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So.co(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(fe.UNKNOWN,r.toString())})}_o(e,t,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.So._o(e,t,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(fe.UNKNOWN,r.toString())})}terminate(){this.su=!0}}class xee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(or(t),this.uu=!1):Ve("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Ree{constructor(e,t,i,r,s){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=s,this.gu.Kr(d=>{i.enqueueAndForget((0,Ce.Z)(function*(){var p;Wh(c)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Ce.Z)(function*(y){const C=it(y);C.wu.add(4),yield Oy(C),C.yu.set("Unknown"),C.wu.delete(4),yield J0(C)}),function(y){return p.apply(this,arguments)})(c))}))}),this.yu=new xee(i,r)}}function J0(n){return AN.apply(this,arguments)}function AN(){return AN=(0,Ce.Z)(function*(n){if(Wh(n))for(const e of n.mu)yield e(!0)}),AN.apply(this,arguments)}function Oy(n){return MN.apply(this,arguments)}function MN(){return MN=(0,Ce.Z)(function*(n){for(const e of n.mu)yield e(!1)}),MN.apply(this,arguments)}function gA(n,e){const t=it(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),kN(t)?RN(t):Ny(t).Mo()&&xN(t,e))}function X0(n,e){const t=it(n),i=Ny(t);t._u.delete(e),i.Mo()&&kz(t,e),0===t._u.size&&(i.Mo()?i.$o():Wh(t)&&t.yu.set("Unknown"))}function xN(n,e){n.pu.Z(e.targetId),Ny(n).Ho(e)}function kz(n,e){n.pu.Z(e),Ny(n).Jo(e)}function RN(n){n.pu=new dX({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Ny(n).start(),n.yu.au()}function kN(n){return Wh(n)&&!Ny(n).ko()&&n._u.size>0}function Wh(n){return 0===it(n).wu.size}function Oz(n){n.pu=void 0}function kee(n){return ON.apply(this,arguments)}function ON(){return ON=(0,Ce.Z)(function*(n){n._u.forEach((e,t)=>{xN(n,e)})}),ON.apply(this,arguments)}function Oee(n,e){return PN.apply(this,arguments)}function PN(){return PN=(0,Ce.Z)(function*(n,e){Oz(n),kN(n)?(n.yu.lu(e),RN(n)):n.yu.set("Unknown")}),PN.apply(this,arguments)}function Pee(n,e,t){return NN.apply(this,arguments)}function NN(){return NN=(0,Ce.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof A3&&2===e.state&&e.cause)try{yield(i=(0,Ce.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r._u.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r._u.delete(d),r.pu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,e)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield mA(n,i)}else if(e instanceof tA?n.pu.ut(e):e instanceof I3?n.pu._t(e):n.pu.ht(e),!t.isEqual(Mt.min()))try{const i=yield wz(n.localStore);t.compareTo(i)>=0&&(yield function(r,s){const c=r.pu.yt(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const y=r._u.get(p);y&&r._u.set(p,y.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r._u.get(d);if(!p)return;r._u.set(d,p.withResumeToken(vr.EMPTY_BYTE_STRING,p.snapshotVersion)),kz(r,d);const y=new zh(p.target,d,1,p.sequenceNumber);xN(r,y)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield mA(n,i)}var i}),NN.apply(this,arguments)}function mA(n,e,t){return FN.apply(this,arguments)}function FN(){return FN=(0,Ce.Z)(function*(n,e,t){if(!fg(e))throw e;n.wu.add(1),yield Oy(n),n.yu.set("Offline"),t||(t=()=>wz(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield J0(n)}))}),FN.apply(this,arguments)}function Pz(n,e){return e().catch(t=>mA(n,t,e))}function Py(n){return LN.apply(this,arguments)}function LN(){return LN=(0,Ce.Z)(function*(n){const e=it(n),t=Zh(e);let i=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Nee(e);)try{const r=yield hee(e.localStore,i);if(null===r){0===e.du.length&&t.$o();break}i=r.batchId,Fee(e,r)}catch(r){yield mA(e,r)}Nz(e)&&Fz(e)}),LN.apply(this,arguments)}function Nee(n){return Wh(n)&&n.du.length<10}function Fee(n,e){n.du.push(e);const t=Zh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function Nz(n){return Wh(n)&&!Zh(n).ko()&&n.du.length>0}function Fz(n){Zh(n).start()}function Lee(n){return BN.apply(this,arguments)}function BN(){return BN=(0,Ce.Z)(function*(n){Zh(n).nu()}),BN.apply(this,arguments)}function Bee(n){return VN.apply(this,arguments)}function VN(){return VN=(0,Ce.Z)(function*(n){const e=Zh(n);for(const t of n.du)e.Zo(t.mutations)}),VN.apply(this,arguments)}function Vee(n,e,t){return UN.apply(this,arguments)}function UN(){return UN=(0,Ce.Z)(function*(n,e,t){const i=n.du.shift(),r=sN.from(i,e,t);yield Pz(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Py(n)}),UN.apply(this,arguments)}function Uee(n,e){return HN.apply(this,arguments)}function HN(){return HN=(0,Ce.Z)(function*(n,e){var t;e&&Zh(n).Xo&&(yield(t=(0,Ce.Z)(function*(i,r){if(T3(s=r.code)&&s!==fe.ABORTED){const c=i.du.shift();Zh(i).Fo(),yield Pz(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield Py(i)}var s}),function(i,r){return t.apply(this,arguments)})(n,e)),Nz(n)&&Fz(n)}),HN.apply(this,arguments)}function Lz(n,e){return jN.apply(this,arguments)}function jN(){return jN=(0,Ce.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=Wh(t);t.wu.add(3),yield Oy(t),i&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield J0(t)}),jN.apply(this,arguments)}function GN(n,e){return zN.apply(this,arguments)}function zN(){return zN=(0,Ce.Z)(function*(n,e){const t=it(n);e?(t.wu.delete(2),yield J0(t)):e||(t.wu.add(2),yield Oy(t),t.yu.set("Unknown"))}),zN.apply(this,arguments)}function Ny(n){return n.Iu||(n.Iu=function(e,t,i){const r=it(e);return r.iu(),new Iee(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:kee.bind(null,n),eo:Oee.bind(null,n),zo:Pee.bind(null,n)}),n.mu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Iu.Fo(),kN(n)?RN(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Oz(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Zh(n){return n.Tu||(n.Tu=function(e,t,i){const r=it(e);return r.iu(),new Aee(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,i)}(n.datastore,n.asyncQueue,{Xr:Lee.bind(null,n),eo:Uee.bind(null,n),eu:Bee.bind(null,n),tu:Vee.bind(null,n)}),n.mu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Tu.Fo(),yield Py(n)):(yield n.Tu.stop(),n.du.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class $N{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,i,r,s){const c=Date.now()+i,d=new $N(e,t,c,r,s);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fy(n,e){if(or("AsyncQueue",`${e}: ${n}`),fg(n))return new Oe(fe.UNAVAILABLE,`${e}: ${n}`);throw n}class Ly{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Je.comparator(t.key,i.key):(t,i)=>Je.comparator(t.key,i.key),this.keyedMap=XP(),this.sortedSet=new qi(this.comparator)}static emptySet(e){return new Ly(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ly)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Ly;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Bz{constructor(){this.Eu=new qi(Je.comparator)}track(e){const t=e.doc.key,i=this.Eu.get(t);i?0!==e.type&&3===i.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==i.type?this.Eu=this.Eu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Eu=this.Eu.remove(t):1===e.type&&2===i.type?this.Eu=this.Eu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):dt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,i)=>{e.push(i)}),e}}class By{constructor(e,t,i,r,s,c,d,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(e,t,i,r){const s=[];return t.forEach(c=>{s.push({type:0,doc:c})}),new By(e,t,Ly.emptySet(t),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&k0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class Hee{constructor(){this.Ru=void 0,this.listeners=[]}}class jee{constructor(){this.queries=new Gh(e=>c3(e),k0),this.onlineState="Unknown",this.bu=new Set}}function qN(n,e){return WN.apply(this,arguments)}function WN(){return WN=(0,Ce.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1,s=t.queries.get(i);if(s||(r=!0,s=new Hee),r)try{s.Ru=yield t.onListen(i)}catch(c){const d=Fy(c,`Initialization of query '${YP(e.query)}' failed`);return void e.onError(d)}t.queries.set(i,s),s.listeners.push(e),e.Pu(t.onlineState),s.Ru&&e.Vu(s.Ru)&&KN(t)}),WN.apply(this,arguments)}function ZN(n,e){return YN.apply(this,arguments)}function YN(){return YN=(0,Ce.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1;const s=t.queries.get(i);if(s){const c=s.listeners.indexOf(e);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),YN.apply(this,arguments)}function Gee(n,e){const t=it(n);let i=!1;for(const r of e){const c=t.queries.get(r.query);if(c){for(const d of c.listeners)d.Vu(r)&&(i=!0);c.Ru=r}}i&&KN(t)}function zee(n,e,t){const i=it(n),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(t);i.queries.delete(e)}function KN(n){n.bu.forEach(e=>{e.next()})}class QN{constructor(e,t,i){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=i||{}}Vu(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new By(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=By.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class $ee{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class Vz{constructor(e){this.M=e}wi(e){return tu(this.M,e)}mi(e){return e.metadata.exists?L3(this.M,e.document,!1):ni.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return Nr(e)}}class qee{constructor(e,t,i){this.Ou=e,this.localStore=t,this.M=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Uz(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=hn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,i=new Vz(this.M);for(const r of e)if(r.metadata.queries){const s=i.wi(r.metadata.name);for(const c of r.metadata.queries){const d=(t.get(c)||xn()).add(s);t.set(c,d)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function fee(n,e,t,i){return vN.apply(this,arguments)}(e.localStore,new Vz(e.M),e.documents,e.Ou.id),i=e.$u(e.documents);for(const r of e.queries)yield pee(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Uz(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Hz{constructor(e){this.key=e}}class jz{constructor(e){this.key=e}}class Gz{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=xn(),this.mutatedKeys=xn(),this.Gu=d3(e),this.Qu=new Ly(this.Gu)}get ju(){return this.Uu}Wu(e,t){const i=t?t.zu:new Bz,r=t?t.Qu:this.Qu;let s=t?t.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,y="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((C,D)=>{const x=r.get(C),O=KP(this.query,D)?D:null,L=!!x&&this.mutatedKeys.has(x.key),Z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let ae=!1;x&&O?x.data.isEqual(O.data)?L!==Z&&(i.track({type:3,doc:O}),ae=!0):this.Hu(x,O)||(i.track({type:2,doc:O}),ae=!0,(p&&this.Gu(O,p)>0||y&&this.Gu(O,y)<0)&&(d=!0)):!x&&O?(i.track({type:0,doc:O}),ae=!0):x&&!O&&(i.track({type:1,doc:x}),ae=!0,(p||y)&&(d=!0)),ae&&(O?(c=c.add(O),s=Z?s.add(C):s.delete(C)):(c=c.delete(C),s=s.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),s=s.delete(C.key),i.track({type:1,doc:C})}return{Qu:c,zu:i,ii:d,mutatedKeys:s}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Au();s.sort((y,C)=>function(D,x){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return O(D)-O(x)}(y.type,C.type)||this.Gu(y.doc,C.doc)),this.Ju(i);const c=t?this.Yu():[],d=0===this.Ku.size&&this.current?1:0,p=d!==this.qu;return this.qu=d,0!==s.length||p?{snapshot:new By(this.query,e.Qu,r,s,e.mutatedKeys,0===d,p,!1),Xu:c}:{Xu:c}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Bz,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=xn(),this.Qu.forEach(i=>{this.Zu(i.key)&&(this.Ku=this.Ku.add(i.key))});const t=[];return e.forEach(i=>{this.Ku.has(i)||t.push(new jz(i))}),this.Ku.forEach(i=>{e.has(i)||t.push(new Hz(i))}),t}ta(e){this.Uu=e._i,this.Ku=xn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return By.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class Wee{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class Zee{constructor(e){this.key=e,this.na=!1}}class Yee{constructor(e,t,i,r,s,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.sa={},this.ia=new Gh(d=>c3(d),k0),this.ra=new Map,this.oa=new Set,this.ua=new qi(Je.comparator),this.aa=new Map,this.ca=new wN,this.ha={},this.la=new Map,this.fa=bg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function Kee(n,e){return JN.apply(this,arguments)}function JN(){return JN=(0,Ce.Z)(function*(n,e){const t=C1(n);let i,r;const s=t.ia.get(e);if(s)i=s.targetId,t.sharedClientState.addLocalQueryTarget(i),r=s.view.ea();else{const c=yield Ry(t.localStore,cl(e));t.isPrimaryClient&&gA(t.remoteStore,c);const d=t.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield XN(t,e,i,"current"===d)}return r}),JN.apply(this,arguments)}function XN(n,e,t,i){return e1.apply(this,arguments)}function e1(){return e1=(0,Ce.Z)(function*(n,e,t,i){n._a=(C,D,x)=>{return(O=(0,Ce.Z)(function*(L,Z,ae,Le){let We=Z.view.Wu(ae);We.ii&&(We=yield dA(L.localStore,Z.query,!1).then(({documents:At})=>Z.view.Wu(At,We)));const Ue=Le&&Le.targetChanges.get(Z.targetId),je=Z.view.applyChanges(We,L.isPrimaryClient,Ue);return d1(L,Z.targetId,je.Xu),je.snapshot}),function(L,Z,ae,Le){return O.apply(this,arguments)})(n,C,D,x);var O};const r=yield dA(n.localStore,e,!0),s=new Gz(e,r._i),c=s.Wu(r.documents),d=B0.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,d);d1(n,t,p.Xu);const y=new Wee(e,t,s);return n.ia.set(e,y),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),p.snapshot}),e1.apply(this,arguments)}function Qee(n,e){return t1.apply(this,arguments)}function t1(){return t1=(0,Ce.Z)(function*(n,e){const t=it(n),i=t.ia.get(e),r=t.ra.get(i.targetId);if(r.length>1)return t.ra.set(i.targetId,r.filter(s=>!k0(s,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ky(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),X0(t.remoteStore,i.targetId),Vy(t,i.targetId)}).catch(wg))):(Vy(t,i.targetId),yield ky(t.localStore,i.targetId,!0))}),t1.apply(this,arguments)}function n1(){return n1=(0,Ce.Z)(function*(n,e,t){const i=E1(n);try{const r=yield function(s,c){const d=it(s),p=$i.now(),y=c.reduce((D,x)=>D.add(x.key),xn());let C;return d.persistence.runTransaction("Locally write mutations","readwrite",D=>d.fi.Ks(D,y).next(x=>{C=x;const O=[];for(const L of c){const Z=rX(L,C.get(L.key));null!=Z&&O.push(new hg(L.key,Z,KG(Z.value.mapValue),ar.exists(!0)))}return d.Bs.addMutationBatch(D,p,O,c)})).then(D=>(D.applyToLocalDocumentSet(C),{batchId:D.batchId,changes:C}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.ha[s.currentUser.toKey()];p||(p=new qi(zt)),p=p.insert(c,d),s.ha[s.currentUser.toKey()]=p}(i,r.batchId,t),yield hd(i,r.changes),yield Py(i.remoteStore)}catch(r){const s=Fy(r,"Failed to persist write");t.reject(s)}}),n1.apply(this,arguments)}function zz(n,e){return r1.apply(this,arguments)}function r1(){return r1=(0,Ce.Z)(function*(n,e){const t=it(n);try{const i=yield dee(t.localStore,e);e.targetChanges.forEach((r,s)=>{const c=t.aa.get(s);c&&(Pt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.na=!0:r.modifiedDocuments.size>0?Pt(c.na):r.removedDocuments.size>0&&(Pt(c.na),c.na=!1))}),yield hd(t,i,e)}catch(i){yield wg(i)}}),r1.apply(this,arguments)}function $z(n,e,t){const i=it(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ia.forEach((s,c)=>{const d=c.view.Pu(e);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=it(s);d.onlineState=c;let p=!1;d.queries.forEach((y,C)=>{for(const D of C.listeners)D.Pu(c)&&(p=!0)}),p&&KN(d)}(i.eventManager,e),r.length&&i.sa.zo(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function Xee(n,e,t){return s1.apply(this,arguments)}function s1(){return s1=(0,Ce.Z)(function*(n,e,t){const i=it(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.aa.get(e),s=r&&r.key;if(s){let c=new qi(Je.comparator);c=c.insert(s,ni.newNoDocument(s,Mt.min()));const d=xn().add(s),p=new L0(Mt.min(),new Map,new Jn(zt),c,d);yield zz(i,p),i.ua=i.ua.remove(s),i.aa.delete(e),h1(i)}else yield ky(i.localStore,e,!1).then(()=>Vy(i,e,t)).catch(wg)}),s1.apply(this,arguments)}function ete(n,e){return o1.apply(this,arguments)}function o1(){return o1=(0,Ce.Z)(function*(n,e){const t=it(n),i=e.batch.batchId;try{const r=yield uee(t.localStore,e);u1(t,i,null),c1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield hd(t,r)}catch(r){yield wg(r)}}),o1.apply(this,arguments)}function tte(n,e,t){return a1.apply(this,arguments)}function a1(){return a1=(0,Ce.Z)(function*(n,e,t){const i=it(n);try{const r=yield function(s,c){const d=it(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return d.Bs.lookupMutationBatch(p,c).next(C=>(Pt(null!==C),y=C.keys(),d.Bs.removeMutationBatch(p,C))).next(()=>d.Bs.performConsistencyCheck(p)).next(()=>d.fi.Ks(p,y))})}(i.localStore,e);u1(i,e,t),c1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield hd(i,r)}catch(r){yield wg(r)}}),a1.apply(this,arguments)}function l1(){return l1=(0,Ce.Z)(function*(n,e){const t=it(n);Wh(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=it(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.Bs.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(-1===i)return void e.resolve();const r=t.la.get(i)||[];r.push(e),t.la.set(i,r)}catch(i){const r=Fy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),l1.apply(this,arguments)}function c1(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function u1(n,e,t){const i=it(n);let r=i.ha[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.ha[i.currentUser.toKey()]=r}}function Vy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ra.get(e))n.ia.delete(i),t&&n.sa.wa(i,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(i=>{n.ca.containsKey(i)||qz(n,i)})}function qz(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(X0(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),h1(n))}function d1(n,e,t){for(const i of t)i instanceof Hz?(n.ca.addReference(i.key,e),ite(n,i)):i instanceof jz?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.ca.removeReference(i.key,e),n.ca.containsKey(i.key)||qz(n,i.key)):dt()}function ite(n,e){const t=e.key,i=t.path.canonicalString();n.ua.get(t)||n.oa.has(i)||(Ve("SyncEngine","New document in limbo: "+t),n.oa.add(i),h1(n))}function h1(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Je(hn.fromString(e)),i=n.fa.next();n.aa.set(i,new Zee(t)),n.ua=n.ua.insert(t,i),gA(n.remoteStore,new zh(cl(Cy(t.path)),i,2,ca.A))}}function hd(n,e,t){return f1.apply(this,arguments)}function f1(){return f1=(0,Ce.Z)(function*(n,e,t){const i=it(n),r=[],s=[],c=[];var d;i.ia.isEmpty()||(i.ia.forEach((d,p)=>{c.push(i._a(p,e,t).then(y=>{if(y){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,y.fromCache?"not-current":"current"),r.push(y);const C=mN.Ys(p.targetId,y);s.push(C)}}))}),yield Promise.all(c),i.sa.zo(r),yield(d=(0,Ce.Z)(function*(p,y){const C=it(p);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>_e.forEach(y,x=>_e.forEach(x.Hs,O=>C.persistence.referenceDelegate.addReference(D,x.targetId,O)).next(()=>_e.forEach(x.Js,O=>C.persistence.referenceDelegate.removeReference(D,x.targetId,O)))))}catch(D){if(!fg(D))throw D;Ve("LocalStore","Failed to update sequence numbers: "+D)}for(const D of y){const x=D.targetId;if(!D.fromCache){const O=C.ui.get(x),Z=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);C.ui=C.ui.insert(x,Z)}}}),function(p,y){return d.apply(this,arguments)})(i.localStore,s))}),f1.apply(this,arguments)}function rte(n,e){return p1.apply(this,arguments)}function p1(){return p1=(0,Ce.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const i=yield bz(t.localStore,e);t.currentUser=e,(r=t).la.forEach(c=>{c.forEach(d=>{d.reject(new Oe(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.la.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield hd(t,i.di)}var r}),p1.apply(this,arguments)}function ste(n,e){const t=it(n),i=t.aa.get(e);if(i&&i.na)return xn().add(i.key);{let r=xn();const s=t.ra.get(e);if(!s)return r;for(const c of s){const d=t.ia.get(c);r=r.unionWith(d.view.ju)}return r}}function ote(n,e){return g1.apply(this,arguments)}function g1(){return g1=(0,Ce.Z)(function*(n,e){const t=it(n),i=yield dA(t.localStore,e.query,!0),r=e.view.ta(i);return t.isPrimaryClient&&d1(t,e.targetId,r.Xu),r}),g1.apply(this,arguments)}function ate(n,e){return m1.apply(this,arguments)}function m1(){return m1=(0,Ce.Z)(function*(n,e){const t=it(n);return Dz(t.localStore,e).then(i=>hd(t,i))}),m1.apply(this,arguments)}function lte(n,e,t,i){return _1.apply(this,arguments)}function _1(){return _1=(0,Ce.Z)(function*(n,e,t,i){const r=it(n),s=yield function(c,d){const p=it(c),y=it(p.Bs);return p.persistence.runTransaction("Lookup mutation documents","readonly",C=>y.fn(C,d).next(D=>D?p.fi.Ks(C,D):_e.resolve(null)))}(r.localStore,e);var d;null!==s?("pending"===t?yield Py(r.remoteStore):"acknowledged"===t||"rejected"===t?(u1(r,e,i||null),c1(r,e),d=e,it(it(r.localStore).Bs)._n(d)):dt(),yield hd(r,s)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),_1.apply(this,arguments)}function y1(){return y1=(0,Ce.Z)(function*(n,e){const t=it(n);if(C1(t),E1(t),!0===e&&!0!==t.da){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield Wz(t,i.toArray());t.da=!0,yield GN(t.remoteStore,!0);for(const s of r)gA(t.remoteStore,s)}else if(!1===e&&!1!==t.da){const i=[];let r=Promise.resolve();t.ra.forEach((s,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Vy(t,c),ky(t.localStore,c,!0))),X0(t.remoteStore,c)}),yield r,yield Wz(t,i),function(s){const c=it(s);c.aa.forEach((d,p)=>{X0(c.remoteStore,p)}),c.ca.Si(),c.aa=new Map,c.ua=new qi(Je.comparator)}(t),t.da=!1,yield GN(t.remoteStore,!1)}}),y1.apply(this,arguments)}function Wz(n,e,t){return v1.apply(this,arguments)}function v1(){return v1=(0,Ce.Z)(function*(n,e,t){const i=it(n),r=[],s=[];for(const c of e){let d;const p=i.ra.get(c);if(p&&0!==p.length){d=yield Ry(i.localStore,cl(p[0]));for(const y of p){const C=i.ia.get(y),D=yield ote(i,C);D.snapshot&&s.push(D.snapshot)}}else{const y=yield Ez(i.localStore,c);d=yield Ry(i.localStore,y),yield XN(i,Zz(y),c,!1)}r.push(d)}return i.sa.zo(s),r}),v1.apply(this,arguments)}function Zz(n){return a3(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ute(n){const e=it(n);return it(it(e.localStore).persistence).Fs()}function dte(n,e,t,i){return b1.apply(this,arguments)}function b1(){return b1=(0,Ce.Z)(function*(n,e,t,i){const r=it(n);if(r.da)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const s=r.ra.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const c=yield Dz(r.localStore,u3(s[0])),d=L0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield hd(r,c,d);break}case"rejected":yield ky(r.localStore,e,!0),Vy(r,e,i);break;default:dt()}}),b1.apply(this,arguments)}function hte(n,e,t){return w1.apply(this,arguments)}function w1(){return w1=(0,Ce.Z)(function*(n,e,t){const i=C1(n);if(i.da){for(const r of e){if(i.ra.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const s=yield Ez(i.localStore,r),c=yield Ry(i.localStore,s);yield XN(i,Zz(s),c.targetId,!1),gA(i.remoteStore,c)}for(const r of t)i.ra.has(r)&&(yield ky(i.localStore,r,!1).then(()=>{X0(i.remoteStore,r),Vy(i,r)}).catch(wg))}}),w1.apply(this,arguments)}function C1(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=zz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ste.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xee.bind(null,e),e.sa.zo=Gee.bind(null,e.eventManager),e.sa.wa=zee.bind(null,e.eventManager),e}function E1(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ete.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tte.bind(null,e),e}class Yz{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.M=Q0(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return vz(this.persistence,new yz,e.initialUser,this.M)}ya(e){return new wee(CN.Yi,this.M)}ga(e){return new Az}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Kz extends Yz{constructor(e,t,i){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield t().call(i,e),yield i.Ta.initialize(i,e),yield E1(i.Ta.syncEngine),yield Py(i.Ta.remoteStore),yield i.persistence.Ts(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()))})()}Ia(e){return vz(this.persistence,new yz,e.initialUser,this.M)}pa(e){return new nee(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=gN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?So.withCacheSize(this.cacheSizeBytes):So.DEFAULT;return new pN(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,xz(),pA(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Az}}class pte extends Kz{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield t().call(i,e);const r=i.Ta.syncEngine;i.sharedClientState instanceof SN&&(i.sharedClientState.syncEngine={$r:lte.bind(null,r),Br:dte.bind(null,r),Lr:hte.bind(null,r),Fs:ute.bind(null,r),Fr:ate.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ts(function(){var s=(0,Ce.Z)(function*(c){yield function cte(n,e){return y1.apply(this,arguments)}(i.Ta.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):c||i.gcScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}ga(e){const t=xz();if(!SN.vt(t))throw new Oe(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=gN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new SN(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class D1{initialize(e,t){var i=this;return(0,Ce.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>$z(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=rte.bind(null,i.syncEngine),yield GN(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jee}createDatastore(e){const t=Q0(e.databaseInfo.databaseId),i=new See(e.databaseInfo);return new Mee(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,s=d=>$z(this.syncEngine,d,0),c=Mz.vt()?new Mz:new Eee,new Ree(t,i,r,s,c);var t,i,r,s,c}createSyncEngine(e,t){return function(i,r,s,c,d,p,y){const C=new Yee(i,r,s,c,d,p);return y&&(C.da=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const i=it(t);Ve("RemoteStore","RemoteStore shutting down."),i.wu.add(5),yield Oy(i),i.gu.shutdown(),i.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Qz(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _A{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gte{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Pr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(i=>{i&&i.Mu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Va();if(null===t)return null;const i=e.ba.decode(t),r=Number(i);isNaN(r)&&e.va(`length string (${i}) is not valid number`);const s=yield e.Sa(r);return new $ee(JSON.parse(s),t.length+r)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,Ce.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}Sa(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const i=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class mte{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Oe(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ce.Z)(function*(s,c){const d=it(s),p=H0(d.M)+"/documents",y={documents:c.map(O=>U0(d.M,O))},C=yield d._o("BatchGetDocuments",p,y),D=new Map;C.forEach(O=>{const L=function mX(n,e){return"found"in e?function(t,i){Pt(!!i.found);const r=tu(t,i.found.name),s=Nr(i.found.updateTime),c=new Es({mapValue:{fields:i.found.fields}});return ni.newFoundDocument(r,s,c)}(n,e):"missing"in e?function(t,i){Pt(!!i.missing),Pt(!!i.readTime);const r=tu(t,i.missing),s=Nr(i.readTime);return ni.newNoDocument(r,s)}(n,e):dt()}(d.M,O);D.set(L.key.toString(),L)});const x=[];return c.forEach(O=>{const L=D.get(O.toString());Pt(!!L),x.push(L)}),x}),function(s,c){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new N0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const s=Je.fromPath(r);e.mutations.push(new JP(s,e.precondition(s)))}),yield(i=(0,Ce.Z)(function*(r,s){const c=it(r),d=H0(c.M)+"/documents",p={writes:s.map(y=>j0(c.M,y))};yield c.co("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw dt();t=Mt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Oe(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ar.updateTime(t):ar.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Mt.min()))throw new Oe(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ar.updateTime(t)}return ar.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class _te{constructor(e,t,i,r,s){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=s,this.xa=i.maxAttempts,this.No=new IN(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,Ce.Z)(function*(){const t=new mte(e.datastore),i=e.ka(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Ma(s)}))}).catch(r=>{e.Ma(r)})}))}ka(e){try{const t=this.updateFunction(e);return!T0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!T3(t)}return!1}}class yte{constructor(e,t,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Qr.UNAUTHENTICATED,this.clientId=BG.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ce.Z)(function*(d){Ve("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Fy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function Jz(n,e){return T1.apply(this,arguments)}function T1(){return T1=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ce.Z)(function*(s){i.isEqual(s)||(yield bz(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),T1.apply(this,arguments)}function Xz(n,e){return S1.apply(this,arguments)}function S1(){return S1=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield I1(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>Lz(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Lz(e.remoteStore,s)),n.onlineComponents=e}),S1.apply(this,arguments)}function I1(n){return A1.apply(this,arguments)}function A1(){return A1=(0,Ce.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield Jz(n,new Yz)),n.offlineComponents}),A1.apply(this,arguments)}function yA(n){return M1.apply(this,arguments)}function M1(){return M1=(0,Ce.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield Xz(n,new D1)),n.onlineComponents}),M1.apply(this,arguments)}function e$(n){return I1(n).then(e=>e.persistence)}function x1(n){return I1(n).then(e=>e.localStore)}function t$(n){return yA(n).then(e=>e.remoteStore)}function R1(n){return yA(n).then(e=>e.syncEngine)}function Uy(n){return k1.apply(this,arguments)}function k1(){return k1=(0,Ce.Z)(function*(n){const e=yield yA(n),t=e.eventManager;return t.onListen=Kee.bind(null,e.syncEngine),t.onUnlisten=Qee.bind(null,e.syncEngine),t}),k1.apply(this,arguments)}function n$(n,e,t={}){const i=new Pr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,s,c,d,p){const y=new _A({next:D=>{s.enqueueAndForget(()=>ZN(r,C));const x=D.docs.has(c);!x&&D.fromCache?p.reject(new Oe(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&D.fromCache&&d&&"server"===d.source?p.reject(new Oe(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new QN(Cy(c.path),y,{includeMetadataChanges:!0,ku:!0});return qN(r,C)}(yield Uy(n),n.asyncQueue,e,t,i)})),i.promise}function i$(n,e,t={}){const i=new Pr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,s,c,d,p){const y=new _A({next:D=>{s.enqueueAndForget(()=>ZN(r,C)),D.fromCache&&"server"===d.source?p.reject(new Oe(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),C=new QN(c,y,{includeMetadataChanges:!0,ku:!0});return qN(r,C)}(yield Uy(n),n.asyncQueue,e,t,i)})),i.promise}const r$=new Map;function O1(n,e,t){if(!t)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function s$(n,e,t,i){if(!0===e&&!0===i)throw new Oe(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function o$(n){if(!Je.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function a$(n){if(Je.isDocumentKey(n))throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":dt()}function ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Oe(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vA(n);throw new Oe(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function l$(n,e){if(e<=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class c${constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,s$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eC{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c$({}),this._settingsFrozen=!1,e instanceof ud?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Oe(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ud(r.options.projectId)}(e))}get app(){if(!this._app)throw new Oe(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new IJ;switch(t.type){case"gapi":const i=t.client;return Pt(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new RJ(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Oe(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=r$.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),r$.delete(e),t.terminate())}(this),Promise.resolve()}}class ii{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new iu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ii(this.firestore,e,this._key)}}class Ds{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ds(this.firestore,e,this._query)}}class iu extends Ds{constructor(e,t,i){super(e,t,Cy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ii(this.firestore,null,new Je(e))}withConverter(e){return new iu(this.firestore,e,this._path)}}function u$(n,e,...t){if(n=(0,N.m9)(n),O1("collection","path",e),n instanceof eC){const i=hn.fromString(e,...t);return a$(i),new iu(n,null,i)}{if(!(n instanceof ii||n instanceof iu))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(e,...t));return a$(i),new iu(n.firestore,null,i)}}function bA(n,e,...t){if(n=(0,N.m9)(n),1===arguments.length&&(e=BG.R()),O1("doc","path",e),n instanceof eC){const i=hn.fromString(e,...t);return o$(i),new ii(n,null,new Je(i))}{if(!(n instanceof ii||n instanceof iu))throw new Oe(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(hn.fromString(e,...t));return o$(i),new ii(n.firestore,n instanceof iu?n.converter:null,new Je(i))}}function d$(n,e){return n=(0,N.m9)(n),e=(0,N.m9)(e),(n instanceof ii||n instanceof iu)&&(e instanceof ii||e instanceof iu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function h$(n,e){return n=(0,N.m9)(n),e=(0,N.m9)(e),n instanceof Ds&&e instanceof Ds&&n.firestore===e.firestore&&k0(n._query,e._query)&&n.converter===e.converter}class Mte{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new IN(this,"async_queue_retry"),this.Qa=()=>{const t=pA();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=pA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=pA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Pr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!fg(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(i=>{throw this.Ua=i,this.qa=!1,or("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.qa=!1,i))));return this.Fa=t,t}enqueueAfterDelay(e,t,i){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const r=$N.createAndSchedule(this,e,t,i,s=>this.Ha(s));return this.La.push(r),r}ja(){this.Ua&&dt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function P1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class xte{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hi extends eC{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new Mte,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||f$(this),this._firestoreClient.terminate()}}function cr(n){return n._firestoreClient||f$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function f$(n){var e;const t=n._freezeSettings(),i=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new LJ(n._databaseId,s,n._persistenceKey,(d=t).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new yte(n._authCredentials,n._appCheckCredentials,n._queue,i)}function p$(n,e,t){const i=new Pr;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield Jz(n,t),yield Xz(n,e),i.resolve()}catch(r){if(!("FirebaseError"===(s=r).name?s.code===fe.FAILED_PRECONDITION||s.code===fe.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r)}var s})).then(()=>i.promise)}function g$(n){if(n._initialized||n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Oe(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(vr.fromBase64String(e))}catch(t){throw new Oe(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ru(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Eg{constructor(e){this._methodName=e}}class wA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Oe(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Oe(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zt(this._lat,e._lat)||zt(this._long,e._long)}}const Ute=/^__.*__$/;class Hte{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new hg(e,this.data,this.fieldMask,t,this.fieldTransforms):new P0(e,this.data,t,this.fieldTransforms)}}class m${constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new hg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class CA{constructor(e,t,i,r,s,c){this.settings=e,this.databaseId=t,this.M=i,this.ignoreUndefinedProperties=r,void 0===s&&this.tc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new CA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.rc(e),r}oc(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:i,ic:!1});return r.tc(),r}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return TA(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(_$(this.ec)&&Ute.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class jte{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=i||Q0(e)}lc(e,t,i,r=!1){return new CA({ec:e,methodName:t,hc:i,path:yr.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Dg(n){const e=n._freezeSettings(),t=Q0(n._databaseId);return new jte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EA(n,e,t,i,r,s={}){const c=n.lc(s.merge||s.mergeFields?2:0,e,t,r);B1("Data must be an object, but it was:",c,i);const d=b$(i,c);let p,y;if(s.merge)p=new yy(c.fieldMask),y=c.fieldTransforms;else if(s.mergeFields){const C=[];for(const D of s.mergeFields){const x=V1(e,D,t);if(!c.contains(x))throw new Oe(fe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);C$(C,x)||C.push(x)}p=new yy(C),y=c.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,y=c.fieldTransforms;return new Hte(new Es(d),p,y)}class tC extends Eg{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tC}}function y$(n,e,t){return new CA({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class N1 extends Eg{_toFieldTransform(e){return new O0(e.path,new Dy)}isEqual(e){return e instanceof N1}}class Gte extends Eg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=y$(this,e,!0),i=this.fc.map(s=>Tg(s,t)),r=new ug(i);return new O0(e.path,r)}isEqual(e){return this===e}}class zte extends Eg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=y$(this,e,!0),i=this.fc.map(s=>Tg(s,t)),r=new dg(i);return new O0(e.path,r)}isEqual(e){return this===e}}class $te extends Eg{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Ty(e.M,p3(e.M,this.dc));return new O0(e.path,t)}isEqual(e){return this===e}}function F1(n,e,t,i){const r=n.lc(1,e,t);B1("Data must be an object, but it was:",r,i);const s=[],c=Es.empty();rg(i,(p,y)=>{const C=DA(e,p,t);y=(0,N.m9)(y);const D=r.oc(C);if(y instanceof tC)s.push(C);else{const x=Tg(y,D);null!=x&&(s.push(C),c.set(C,x))}});const d=new yy(s);return new m$(c,d,r.fieldTransforms)}function L1(n,e,t,i,r,s){const c=n.lc(1,e,t),d=[V1(e,i,t)],p=[r];if(s.length%2!=0)throw new Oe(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)d.push(V1(e,s[x])),p.push(s[x+1]);const y=[],C=Es.empty();for(let x=d.length-1;x>=0;--x)if(!C$(y,d[x])){const O=d[x];let L=p[x];L=(0,N.m9)(L);const Z=c.oc(O);if(L instanceof tC)y.push(O);else{const ae=Tg(L,Z);null!=ae&&(y.push(O),C.set(O,ae))}}const D=new yy(y);return new m$(C,D,c.fieldTransforms)}function v$(n,e,t,i=!1){return Tg(t,n.lc(i?4:3,e))}function Tg(n,e){if(w$(n=(0,N.m9)(n)))return B1("Unsupported field value:",e,n),b$(n,e);if(n instanceof Eg)return function(t,i){if(!_$(i.ec))throw i.ac(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.ac(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,i){const r=[];let s=0;for(const c of t){let d=Tg(c,i.uc(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,N.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return p3(i.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=$i.fromDate(t);return{timestampValue:V0(i.M,r)}}if(t instanceof $i){const r=new $i(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:V0(i.M,r)}}if(t instanceof wA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ru)return{bytesValue:k3(i.M,t._byteString)};if(t instanceof ii){const r=i.databaseId,s=t.firestore._databaseId;if(!s.isEqual(r))throw i.ac(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:eN(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.ac(`Unsupported field value: ${vA(t)}`)}(n,e)}function b$(n,e){const t={};return HG(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rg(n,(i,r)=>{const s=Tg(r,e.sc(i));null!=s&&(t[i]=s)}),{mapValue:{fields:t}}}function w$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $i||n instanceof wA||n instanceof ru||n instanceof ii||n instanceof Eg)}function B1(n,e,t){if(!w$(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=vA(t);throw e.ac("an object"===i?n+" a custom object":n+" "+i)}var i}function V1(n,e,t){if((e=(0,N.m9)(e))instanceof fd)return e._internalPath;if("string"==typeof e)return DA(n,e);throw TA("Field path arguments must be of type string or ",n,!1,void 0,t)}const qte=new RegExp("[~\\*/\\[\\]]");function DA(n,e,t){if(e.search(qte)>=0)throw TA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fd(...e.split("."))._internalPath}catch(i){throw TA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function TA(n,e,t,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Oe(fe.INVALID_ARGUMENT,d+n+p)}function C$(n,e){return n.some(t=>t.isEqual(e))}class nC{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ii(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Wte(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Wte extends nC{data(){return super.data()}}function SA(n,e){return"string"==typeof e?DA(n,e):e instanceof fd?e._internalPath:e._delegate._internalPath}class Sg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pd extends nC{constructor(e,t,i,r,s,c){super(e,t,i,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(SA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class iC extends pd{data(e={}){return super.data(e)}}class Yh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new iC(this._firestore,this._userDataWriter,i.key,i,new Sg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oe(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new iC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new iC(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),y=s.indexOf(c.doc.key)),{type:Zte(c.type),doc:d,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Zte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function E$(n,e){return n instanceof pd&&e instanceof pd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Yh&&e instanceof Yh&&n._firestore===e._firestore&&h$(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function D$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Oe(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rC{}function Kh(n,...e){for(const t of e)n=t._apply(n);return n}class Yte extends rC{constructor(e,t,i){super(),this._c=e,this.wc=t,this.mc=i,this.type="where"}_apply(e){const t=Dg(e.firestore),i=function(r,s,c,d,p,y,C){let D;if(p.isKeyField()){if("array-contains"===y||"array-contains-any"===y)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if("in"===y||"not-in"===y){x$(C,y);const O=[];for(const L of C)O.push(M$(d,r,L));D={arrayValue:{values:O}}}else D=M$(d,r,C)}else"in"!==y&&"not-in"!==y&&"array-contains-any"!==y||x$(C,y),D=v$(c,"where",C,"in"===y||"not-in"===y);const x=Xr.create(p,y,D);return function(O,L){if(L.S()){const ae=WP(O);if(null!==ae&&!ae.isEqual(L.field))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ae.toString()}' and '${L.field.toString()}'`);const Le=qP(O);null!==Le&&R$(0,L.field,Le)}const Z=function(ae,Le){for(const We of ae.filters)if(Le.indexOf(We.op)>=0)return We.op;return null}(O,function(ae){switch(ae){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(L.op));if(null!==Z)throw new Oe(fe.INVALID_ARGUMENT,Z===L.op?`Invalid query. You cannot use more than one '${L.op.toString()}' filter.`:`Invalid query. You cannot use '${L.op.toString()}' filters with '${Z.toString()}' filters.`)}(r,x),x}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Ds(e.firestore,e.converter,function(r,s){const c=r.filters.concat([s]);return new dd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class Qte extends rC{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(i,r,s){if(null!==i.startAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new wy(r,s);return function(d,p){if(null===qP(d)){const y=WP(d);null!==y&&R$(0,y,p.field)}}(i,c),c}(e._query,this._c,this.gc);return new Ds(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new dd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class T$ extends rC{constructor(e,t,i){super(),this.type=e,this.yc=t,this.Ic=i}_apply(e){return new Ds(e.firestore,e.converter,l3(e._query,this.yc,this.Ic))}}class S$ extends rC{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=A$(e,this.type,this.Tc,this.Ec);return new Ds(e.firestore,e.converter,(r=t,new dd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class I$ extends rC{constructor(e,t,i){super(),this.type=e,this.Tc=t,this.Ec=i}_apply(e){const t=A$(e,this.type,this.Tc,this.Ec);return new Ds(e.firestore,e.converter,(r=t,new dd((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function A$(n,e,t,i){if(t[0]=(0,N.m9)(t[0]),t[0]instanceof nC)return function(r,s,c,d,p){if(!d)throw new Oe(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const y=[];for(const C of Ey(r))if(C.field.isKeyField())y.push(ag(s,d.key));else{const D=d.data.field(C.field);if(jP(D))throw new Oe(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const x=C.field.canonicalString();throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}y.push(D)}return new jh(y,p)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=Dg(n.firestore);return function(s,c,d,p,y,C){const D=s.explicitOrderBy;if(y.length>D.length)throw new Oe(fe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let O=0;O<y.length;O++){const L=y[O];if(D[O].field.isKeyField()){if("string"!=typeof L)throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof L}`);if(!ZP(s)&&-1!==L.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${L}' contains a slash.`);const Z=s.path.child(hn.fromString(L));if(!Je.isDocumentKey(Z))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${Z}' is not because it contains an odd number of segments.`);const ae=new Je(Z);x.push(ag(c,ae))}else{const Z=v$(d,p,L);x.push(Z)}}return new jh(x,C)}(n._query,n.firestore._databaseId,r,e,t,i)}}function M$(n,e,t){if("string"==typeof(t=(0,N.m9)(t))){if(""===t)throw new Oe(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZP(e)&&-1!==t.indexOf("/"))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(hn.fromString(t));if(!Je.isDocumentKey(i))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ag(n,new Je(i))}if(t instanceof ii)return ag(n,t._key);throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vA(t)}.`)}function x$(n,e){if(!Array.isArray(n)||0===n.length)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Oe(fe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function R$(n,e,t){if(!t.isEqual(e))throw new Oe(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const sne={maxAttempts:5};class U1{convertValue(e,t="none"){switch(og(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw dt()}}convertObject(e,t){const i={};return rg(e.fields,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertGeoPoint(e){return new wA(Ni(e.latitude),Ni(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jG(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(D0(e));default:return null}}convertTimestamp(e){const t=Vh(e);return new $i(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=hn.fromString(e);Pt(j3(i));const r=new ud(i.get(1),i.get(3)),s=new Je(i.popFirst(5));return r.isEqual(t)||or(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function IA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class one extends U1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}class k${constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Dg(e)}set(e,t,i){this._verifyNotCommitted();const r=Qh(e,this._firestore),s=IA(r.converter,t,i),c=EA(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,ar.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const s=Qh(e,this._firestore);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof fd?L1(this._dataReader,"WriteBatch.update",s._key,t,i,r):F1(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(c.toMutation(s._key,ar.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Qh(e,this._firestore);return this._mutations=this._mutations.concat(new N0(t._key,ar.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Qh(n,e){if((n=(0,N.m9)(n)).firestore!==e)throw new Oe(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ig extends U1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ii(this.firestore,null,t)}}function O$(n,e,t){n=ln(n,ii);const i=ln(n.firestore,hi),r=IA(n.converter,e,t);return Hy(i,[EA(Dg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,ar.none())])}function P$(n,e,t,...i){n=ln(n,ii);const r=ln(n.firestore,hi),s=Dg(r);let c;return c="string"==typeof(e=(0,N.m9)(e))||e instanceof fd?L1(s,"updateDoc",n._key,e,t,i):F1(s,"updateDoc",n._key,e),Hy(r,[c.toMutation(n._key,ar.exists(!0))])}function N$(n,...e){var t,i,r;n=(0,N.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||P1(e[c])||(s=e[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(P1(e[c])){const D=e[c];e[c]=null===(t=D.next)||void 0===t?void 0:t.bind(D),e[c+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),e[c+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,y,C;if(n instanceof ii)y=ln(n.firestore,hi),C=Cy(n._key.path),p={next:D=>{e[c]&&e[c](H1(y,n,D))},error:e[c+1],complete:e[c+2]};else{const D=ln(n,Ds);y=ln(D.firestore,hi),C=D._query;const x=new Ig(y);p={next:O=>{e[c]&&e[c](new Yh(y,x,D,O))},error:e[c+1],complete:e[c+2]},D$(n._query)}return function(D,x,O,L){const Z=new _A(L),ae=new QN(x,Z,O);return D.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return qN(yield Uy(D),ae)})),()=>{Z.Aa(),D.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return ZN(yield Uy(D),ae)}))}}(cr(y),C,d,p)}function Hy(n,e){return function(t,i){const r=new Pr;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function Jee(n,e,t){return n1.apply(this,arguments)}(yield R1(t),i,r)})),r.promise}(cr(n),e)}function H1(n,e,t){const i=t.docs.get(e._key),r=new Ig(n);return new pd(n,r,e._key,i,new Sg(t.hasPendingWrites,t.fromCache),e.converter)}class mne extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Dg(e)}get(e){const t=Qh(e,this._firestore),i=new one(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return dt();const s=r[0];if(s.isFoundDocument())return new nC(this._firestore,i,s.key,s,t.converter);if(s.isNoDocument())return new nC(this._firestore,i,t._key,null,t.converter);throw dt()})}set(e,t,i){const r=Qh(e,this._firestore),s=IA(r.converter,t,i),c=EA(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(e,t,i,...r){const s=Qh(e,this._firestore);let c;return c="string"==typeof(t=(0,N.m9)(t))||t instanceof fd?L1(this._dataReader,"Transaction.update",s._key,t,i,r):F1(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,c),this}delete(e){const t=Qh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Qh(e,this._firestore),i=new Ig(this._firestore);return super.get(e).then(r=>new pd(this._firestore,i,t._key,r._document,new Sg(!1,!1),t.converter))}}function j1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function L$(){if("undefined"==typeof Uint8Array)throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function B$(){if(!function NJ(){return"undefined"!=typeof atob}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){my=bs.SDK_VERSION,(0,bs._registerComponent)(new el.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),s=new hi(r,new MJ(t.getProvider("auth-internal")),new kJ(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),s._setSettings(i),s},"PUBLIC")),(0,bs.registerVersion)(NG,"3.4.9",n),(0,bs.registerVersion)(NG,"3.4.9","esm2017")}();class sC{constructor(e){this._delegate=e}static fromBase64String(e){return B$(),new sC(ru.fromBase64String(e))}static fromUint8Array(e){return L$(),new sC(ru.fromUint8Array(e))}toBase64(){return B$(),this._delegate.toBase64()}toUint8Array(){return L$(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function G1(n){return function Tne(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class Sne{enableIndexedDbPersistence(e,t){return function kte(n,e){g$(n=ln(n,hi));const t=cr(n),i=n._freezeSettings(),r=new D1;return p$(t,r,new Kz(r,i.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Ote(n){g$(n=ln(n,hi));const e=cr(n),t=n._freezeSettings(),i=new D1;return p$(e,i,new pte(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Pte(n){if(n._initialized&&!n._terminated)throw new Oe(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(i){if(!ic.vt())return Promise.resolve();const r=i+"main";yield ic.delete(r)}),function(i){return t.apply(this,arguments)})(gN(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class V${constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ud||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&C0("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function Ite(n,e,t,i={}){var r;const s=(n=ln(n,eC))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&C0("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Qr.MOCK_USER;else{c=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Oe(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Qr(p)}n._authCredentials=new AJ(new FG(c,d))}}(this._delegate,e,t,i)}enableNetwork(){return function Fte(n){return function vte(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield e$(n),t=yield t$(n);return e.setNetworkEnabled(!0),function(i){const r=it(i);return r.wu.delete(0),J0(r)}(t)}))}(cr(n=ln(n,hi)))}(this._delegate)}disableNetwork(){return function Lte(n){return function bte(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield e$(n),t=yield t$(n);return e.setNetworkEnabled(!1),(i=(0,Ce.Z)(function*(r){const s=it(r);s.wu.add(0),yield Oy(s),s.yu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(cr(n=ln(n,hi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,s$("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Nte(n){return function(e){const t=new Pr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function nte(n,e){return l1.apply(this,arguments)}(yield R1(e),t)})),t.promise}(cr(n=ln(n,hi)))}(this._delegate)}onSnapshotsInSync(e){return function gne(n,e){return function Ete(n,e){const t=new _A(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Uy(n),r=t,it(i).bu.add(r),void r.next();var i,r})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Uy(n),r=t,void it(i).bu.delete(r);var i,r}))}}(cr(n=ln(n,hi)),P1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jy(this,u$(this._delegate,e))}catch(t){throw Js(t,"collection()","Firestore.collection()")}}doc(e){try{return new dl(this,bA(this._delegate,e))}catch(t){throw Js(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xs(this,function Ate(n,e){if(n=ln(n,eC),O1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ds(n,null,(t=e,new dd(hn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Js(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _ne(n,e,t){n=ln(n,hi);const i=Object.assign(Object.assign({},sne),t);return function(r){if(r.maxAttempts<1)throw new Oe(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function Dte(n,e,t){const i=new Pr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const r=yield(s=n,yA(s).then(c=>c.datastore));var s;new _te(n.asyncQueue,r,t,e,i).run()})),i.promise}(cr(n),r=>e(new mne(n,r)),i)}(this._delegate,t=>e(new U$(this,t)))}batch(){return cr(this._delegate),new H$(new k$(this._delegate,e=>Hy(this._delegate,e)))}loadBundle(e){return function Bte(n,e){const t=cr(n=ln(n,hi)),i=new xte;return function Tte(n,e,t,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,y){if(p instanceof Uint8Array)return Qz(p,y);if(p instanceof ArrayBuffer)return Qz(new Uint8Array(p),y);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new gte(p,c);var p}(t,Q0(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function fte(n,e,t){const i=it(n);var r;(r=(0,Ce.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(x,O){const L=it(x),Z=Nr(O.createTime);return L.persistence.runTransaction("hasNewerBundle","readonly",ae=>L._s.getBundleMetadata(ae,O.id)).then(ae=>!!ae&&ae.createTime.compareTo(Z)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(x=p).totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}),Promise.resolve(new Set);d._updateProgress(Uz(p));const y=new qee(p,s.localStore,c.M);let C=yield c.ma();for(;C;){const x=yield y.Fu(C);x&&d._updateProgress(x),C=yield c.ma()}const D=yield y.complete();return yield hd(s,D.Lu,void 0),yield function(x,O){const L=it(x);return L.persistence.runTransaction("Save bundle","readwrite",Z=>L._s.saveBundleMetadata(Z,O))}(s.localStore,p),d._completeWith(D.progress),Promise.resolve(D.Bu)}catch(p){return C0("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var x}),function(s,c,d){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield R1(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Vte(n,e){return function Ste(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,i){const r=it(t);return r.persistence.runTransaction("Get named query","readonly",s=>r._s.getNamedQuery(s,i))}(yield x1(n),e)}))}(cr(n=ln(n,hi)),e).then(t=>t?new Ds(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Xs(this,t):null)}}class AA extends U1{constructor(e){super(),this.firestore=e}convertBytes(e){return new sC(new ru(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return dl.forKey(t,this.firestore,null)}}class U${constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AA(e)}get(e){const t=Mg(e);return this._delegate.get(t).then(i=>new oC(this._firestore,new pd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=Mg(e);return i?(j1("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Mg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Mg(e);return this._delegate.delete(t),this}}class H${constructor(e){this._delegate=e}set(e,t,i){const r=Mg(e);return i?(j1("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const s=Mg(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,i,...r),this}delete(e){const t=Mg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ag{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new iC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new aC(this._firestore,i),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=Ag.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(t);return s||(s=new Ag(e,new AA(e),t),r.set(t,s)),s}}Ag.INSTANCES=new WeakMap;class dl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AA(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new dl(t,new ii(t._delegate,i,new Je(e)))}static forKey(e,t,i){return new dl(t,new ii(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new jy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jy(this.firestore,u$(this._delegate,e))}catch(t){throw Js(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,N.m9)(e))instanceof ii&&d$(this._delegate,e)}set(e,t){t=j1("DocumentReference.set",t);try{return t?O$(this._delegate,e,t):O$(this._delegate,e)}catch(i){throw Js(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?P$(this._delegate,e):P$(this._delegate,e,t,...i)}catch(r){throw Js(r,"updateDoc()","DocumentReference.update()")}}delete(){return function fne(n){return Hy(ln(n.firestore,hi),[new N0(n._key,ar.none())])}(this._delegate)}onSnapshot(...e){const t=j$(e),i=G$(e,r=>new oC(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return N$(this._delegate,t,i)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function lne(n){n=ln(n,ii);const e=ln(n.firestore,hi),t=cr(e),i=new Ig(e);return function wte(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,s,c){try{const d=yield function(p,y){const C=it(p);return C.persistence.runTransaction("read document","readonly",D=>C.fi.Ls(D,y))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Oe(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=Fy(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield x1(n),e,t);var i})),t.promise}(t,n._key).then(r=>new pd(e,i,n._key,r,new Sg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function cne(n){n=ln(n,ii);const e=ln(n.firestore,hi);return n$(cr(e),n._key,{source:"server"}).then(t=>H1(e,n,t))}(this._delegate):function ane(n){n=ln(n,ii);const e=ln(n.firestore,hi);return n$(cr(e),n._key).then(t=>H1(e,n,t))}(this._delegate),t.then(i=>new oC(this.firestore,new pd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new dl(this.firestore,this._delegate.withConverter(e?Ag.getInstance(this.firestore,e):null))}}function Js(n,e,t){return n.message=n.message.replace(e,t),n}function j$(n){for(const e of n)if("object"==typeof e&&!G1(e))return e;return{}}function G$(n,e){var t,i;let r;return r=G1(n[0])?n[0]:G1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class oC{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new dl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return E$(this._delegate,e._delegate)}}class aC extends oC{data(e){const t=this._delegate.data(e);return function SJ(n,e){n||dt()}(void 0!==t),t}}class Xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AA(e)}where(e,t,i){try{return new Xs(this.firestore,Kh(this._delegate,function Kte(n,e,t){const i=e,r=SA("where",n);return new Yte(r,i,t)}(e,t,i)))}catch(r){throw Js(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Xs(this.firestore,Kh(this._delegate,function Jte(n,e="asc"){const t=e,i=SA("orderBy",n);return new Qte(i,t)}(e,t)))}catch(i){throw Js(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xs(this.firestore,Kh(this._delegate,function Xte(n){return l$("limit",n),new T$("limit",n,"F")}(e)))}catch(t){throw Js(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Xs(this.firestore,Kh(this._delegate,function ene(n){return l$("limitToLast",n),new T$("limitToLast",n,"L")}(e)))}catch(t){throw Js(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xs(this.firestore,Kh(this._delegate,function tne(...n){return new S$("startAt",n,!0)}(...e)))}catch(t){throw Js(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xs(this.firestore,Kh(this._delegate,function nne(...n){return new S$("startAfter",n,!1)}(...e)))}catch(t){throw Js(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xs(this.firestore,Kh(this._delegate,function ine(...n){return new I$("endBefore",n,!1)}(...e)))}catch(t){throw Js(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xs(this.firestore,Kh(this._delegate,function rne(...n){return new I$("endAt",n,!0)}(...e)))}catch(t){throw Js(t,"endAt()","Query.endAt()")}}isEqual(e){return h$(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function dne(n){n=ln(n,Ds);const e=ln(n.firestore,hi),t=cr(e),i=new Ig(e);return function Cte(n,e){const t=new Pr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,s,c){try{const d=yield dA(r,s,!0),p=new Gz(s,d._i),y=p.Wu(d.documents),C=p.applyChanges(y,!1);c.resolve(C.snapshot)}catch(d){const p=Fy(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield x1(n),e,t);var i})),t.promise}(t,n._query).then(r=>new Yh(e,i,n,r))}(this._delegate):"server"===(null==e?void 0:e.source)?function hne(n){n=ln(n,Ds);const e=ln(n.firestore,hi),t=cr(e),i=new Ig(e);return i$(t,n._query,{source:"server"}).then(r=>new Yh(e,i,n,r))}(this._delegate):function une(n){n=ln(n,Ds);const e=ln(n.firestore,hi),t=cr(e),i=new Ig(e);return D$(n._query),i$(t,n._query).then(r=>new Yh(e,i,n,r))}(this._delegate),t.then(i=>new z1(this.firestore,new Yh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=j$(e),i=G$(e,r=>new z1(this.firestore,new Yh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return N$(this._delegate,t,i)}withConverter(e){return new Xs(this.firestore,this._delegate.withConverter(e?Ag.getInstance(this.firestore,e):null))}}class Ane{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new aC(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class z1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new aC(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Ane(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new aC(this._firestore,i))})}isEqual(e){return E$(this._delegate,e._delegate)}}class jy extends Xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new dl(this.firestore,e):null}doc(e){try{return new dl(this.firestore,void 0===e?bA(this._delegate):bA(this._delegate,e))}catch(t){throw Js(t,"doc()","CollectionReference.doc()")}}add(e){return function pne(n,e){const t=ln(n.firestore,hi),i=bA(n),r=IA(n.converter,e);return Hy(t,[EA(Dg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,ar.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new dl(this.firestore,t))}isEqual(e){return d$(this._delegate,e._delegate)}withConverter(e){return new jy(this.firestore,this._delegate.withConverter(e?Ag.getInstance(this.firestore,e):null))}}function Mg(n){return ln(n,ii)}class $1{constructor(...e){this._delegate=new fd(...e)}static documentId(){return new $1(yr.keyField().canonicalString())}isEqual(e){return(e=(0,N.m9)(e))instanceof fd&&this._delegate._internalPath.isEqual(e._internalPath)}}class xg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function vne(){return new N1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xg(e)}static delete(){const e=function yne(){return new tC("deleteField")}();return e._methodName="FieldValue.delete",new xg(e)}static arrayUnion(...e){const t=function bne(...n){return new Gte("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new xg(t)}static arrayRemove(...e){const t=function wne(...n){return new zte("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new xg(t)}static increment(e){const t=function Cne(n){return new $te("increment",n)}(e);return t._methodName="FieldValue.increment",new xg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Mne={Firestore:V$,GeoPoint:wA,Timestamp:$i,Blob:sC,Transaction:U$,WriteBatch:H$,DocumentReference:dl,DocumentSnapshot:oC,Query:Xs,QueryDocumentSnapshot:aC,QuerySnapshot:z1,CollectionReference:jy,FieldPath:$1,FieldValue:xg,setLogLevel:function Ine(n){!function TJ(n){Bh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function z$(n,e){return function kne(n,e=Bu.z){return new en.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=i&&i()}})}(n,e)}function q1(n,e){return z$(n,e).pipe((0,st.U)(t=>({payload:t,type:"query"})))}function MA(n,e){return q1(n,e).pipe(yi(void 0),ZO(),(0,st.U)(([t,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(C=>C.doc.ref.isEqual(c.ref)),y=null==t?void 0:t.payload.docs.find(C=>C.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&y&&JSON.stringify(y.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function $$(n,e,t){return MA(n,t).pipe(mr((i,r)=>function Pne(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function Nne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return W1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return W1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return W1(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),e),[]),Um(),(0,st.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function W1(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function q$(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Rne(n){(function xne(n,e){n.INTERNAL.registerComponent(new el.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Mne)))})(n,(e,t)=>new V$(e,t,new Sne)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(XT.Z);class W${constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=MA(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,st.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(yi(void 0),ZO(),Ln(([i,r])=>r.length>0||!i),(0,st.U)(([i,r])=>r),_n.iC)}auditTrail(e){return this.stateChanges(e).pipe(mr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=q$(e);return $$(this.query,t,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return q1(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),_n.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(_n.iC)}add(e){return this.ref.add(e)}doc(e){return new Z$(this.ref.doc(e),this.afs)}}class Z${constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:s}=Q$(i,t);return new W$(r,s,this.afs)}snapshotChanges(){return function One(n,e){return z$(n,e).pipe(yi(void 0),ZO(),(0,st.U)(([t,i])=>i.exists?(null==t?void 0:t.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,st.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(_n.iC)}}class Fne{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?MA(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Ln(t=>t.length>0),_n.iC):MA(this.query,this.afs.schedulers.outsideAngular).pipe(_n.iC)}auditTrail(e){return this.stateChanges(e).pipe(mr((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=q$(e);return $$(this.query,t,this.afs.schedulers.outsideAngular).pipe(_n.iC)}valueChanges(e={}){return q1(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),_n.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(_n.iC)}}const Y$=new l.OlP("angularfire2.enableFirestorePersistence"),K$=new l.OlP("angularfire2.firestore.persistenceSettings"),Lne=new l.OlP("angularfire2.firestore.settings"),Bne=new l.OlP("angularfire2.firestore.use-emulator");function Q$(n,e=(t=>t)){return{query:e(n),ref:n}}let Vne=(()=>{class n{constructor(t,i,r,s,c,d,p,y,C,D,x,O,L,Z,ae,Le,We){this.schedulers=p;const Ue=(0,zi.on)(t,d,i),je=C;D&&QT(Ue,d,x,L,Z,ae,O,Le),[this.firestore,this.persistenceEnabled$]=(0,zi.cc)(`${Ue.name}.firestore`,"AngularFirestore",Ue.name,()=>{const At=d.runOutsideAngular(()=>Ue.firestore());if(s&&At.settings(s),je&&At.useEmulator(...je),r&&!_a(c)){const xt=()=>{try{return(0,bn.D)(At.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(sn){return"undefined"!=typeof console&&console.warn(sn),Ze(!1)}};return[At,d.runOutsideAngular(xt)]}return[At,Ze(!1)]},[s,je,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:c}=Q$(r,i),d=this.schedulers.ngZone.run(()=>s);return new W$(d,c,this)}collectionGroup(t,i){const r=i||(c=>c),s=this.firestore.collectionGroup(t);return new Fne(r(s),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new Z$(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(zi.Dh),l.LFG(zi.xv,8),l.LFG(Y$,8),l.LFG(Lne,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_n.HU),l.LFG(K$,8),l.LFG(Bne,8),l.LFG(V_,8),l.LFG(WT,8),l.LFG(ZT,8),l.LFG(uw,8),l.LFG(dw,8),l.LFG(YT,8),l.LFG(KT,8),l.LFG(bh,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Une=(()=>{class n{constructor(){B_.Z.registerVersion("angularfire",_n.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Y$,useValue:!0},{provide:K$,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Vne]}),n})();const J$_firebaseConfig={apiKey:"AIzaSyCvxR4HUwEMeF-JzNFsoW-lYh4W6L8T9vU",authDomain:"dashboard3-cbefd.firebaseapp.com",projectId:"dashboard3-cbefd",storageBucket:"dashboard3-cbefd.appspot.com",messagingSenderId:"263573491674",appId:"1:263573491674:web:7456ecb9020bbdf596fae3",measurementId:"G-L8VR640WF8"};let iq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[wn,y_],wn]}),n})(),rq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),sq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[rq,y_,wn,_E],rq,wn]}),n})(),oie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[sj,dj,$w,G2,aH,bp,cj,iq,sq,vj,E_],sj,dj,$w,G2,aH,bp,cj,iq,sq,vj,E_]}),n})(),oq=(()=>{class n{constructor(t,i){this.loading=t,this.alert=i}intercept(t,i){return this.loading.setLoading(!0,t.url),i.handle(t).pipe(Xi(r=>(this.loading.setLoading(!1,t.url),r))).pipe((0,st.U)(r=>(r instanceof Ww&&(this.loading.setLoading(!1,t.url),this.alert.successEmitter.emit(!0)),r)))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(gI),l.LFG(uj))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var aie=F(233);const lC={},aq="@ngrx/store/init";let Gy=(()=>{class n extends Yn{constructor(){super({type:aq})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const fie=[Gy],lq=new l.OlP("@ngrx/store Internal Root Guard"),cq=new l.OlP("@ngrx/store Internal Initial State"),K1=new l.OlP("@ngrx/store Initial State"),uq=new l.OlP("@ngrx/store Reducer Factory"),dq=new l.OlP("@ngrx/store Internal Reducer Factory Provider"),hq=new l.OlP("@ngrx/store Initial Reducers"),Q1=new l.OlP("@ngrx/store Internal Initial Reducers"),fq=new l.OlP("@ngrx/store Store Features"),pq=new l.OlP("@ngrx/store Internal Store Reducers"),J1=new l.OlP("@ngrx/store Internal Feature Reducers"),gq=new l.OlP("@ngrx/store Internal Feature Configs"),mq=new l.OlP("@ngrx/store Internal Store Features"),_q=new l.OlP("@ngrx/store Internal Feature Reducers Token"),yq=new l.OlP("@ngrx/store Feature Reducers"),vq=new l.OlP("@ngrx/store User Provided Meta Reducers"),xA=new l.OlP("@ngrx/store Meta Reducers"),bq=new l.OlP("@ngrx/store Internal Resolved Meta Reducers"),wq=new l.OlP("@ngrx/store User Runtime Checks Config"),Cq=new l.OlP("@ngrx/store Internal User Runtime Checks Config"),cC=new l.OlP("@ngrx/store Internal Runtime Checks"),X1=new l.OlP("@ngrx/store Check if Action types are unique");function eF(n,e={}){const t=Object.keys(n),i={};for(let s=0;s<t.length;s++){const c=t[s];"function"==typeof n[c]&&(i[c]=n[c])}const r=Object.keys(i);return function(c,d){c=void 0===c?e:c;let p=!1;const y={};for(let C=0;C<r.length;C++){const D=r[C],O=c[D],L=(0,i[D])(O,d);y[D]=L,p=p||L!==O}return p?y:c}}function Eq(...n){return function(e){if(0===n.length)return e;const t=n[n.length-1];return n.slice(0,-1).reduceRight((r,s)=>s(r),t(e))}}function Dq(n,e){return Array.isArray(e)&&e.length>0&&(n=Eq.apply(null,[...e,n])),(t,i)=>{const r=n(t);return(s,c)=>r(s=void 0===s?i:s,c)}}class tF extends en.y{}class Tq extends Gy{}let RA=(()=>{class n extends Yn{constructor(t,i,r,s){super(s(r,i)),this.dispatcher=t,this.initialState=i,this.reducers=r,this.reducerFactory=s}get currentReducers(){return this.reducers}addFeature(t){this.addFeatures([t])}addFeatures(t){const i=t.reduce((r,{reducers:s,reducerFactory:c,metaReducers:d,initialState:p,key:y})=>{const C="function"==typeof s?function gie(n){const e=Array.isArray(n)&&n.length>0?Eq(...n):t=>t;return(t,i)=>(t=e(t),(r,s)=>t(r=void 0===r?i:r,s))}(d)(s,p):Dq(c,d)(s,p);return r[y]=C,r},{});this.addReducers(i)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(i=>i.key))}addReducer(t,i){this.addReducers({[t]:i})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(i=>{this.reducers=function pie(n,e){return Object.keys(n).filter(t=>t!==e).reduce((t,i)=>Object.assign(t,{[i]:n[i]}),{})}(this.reducers,i)}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:t})}ngOnDestroy(){this.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Tq),l.LFG(K1),l.LFG(hq),l.LFG(uq))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _ie=[RA,{provide:tF,useExisting:RA},{provide:Tq,useExisting:Gy}];let nF=(()=>{class n extends pt.x{ngOnDestroy(){this.complete()}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const yie=[nF];class Sq extends en.y{}let Iq=(()=>{class n extends Yn{constructor(t,i,r,s){super(s);const y=t.pipe((0,Ep.Q)(aie.N)).pipe(JT(i)).pipe(mr(vie,{state:s}));this.stateSubscription=y.subscribe(({state:C,action:D})=>{this.next(C),r.next(D)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return n.INIT=aq,n.\u0275fac=function(t){return new(t||n)(l.LFG(Gy),l.LFG(tF),l.LFG(nF),l.LFG(K1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function vie(n={state:void 0},[e,t]){const{state:i}=n;return{state:t(i,e),action:e}}const bie=[Iq,{provide:Sq,useExisting:Iq}];let iF=(()=>{class n extends en.y{constructor(t,i,r){super(),this.actionsObserver=i,this.reducerManager=r,this.source=t}select(t,...i){return Cie.call(null,t,...i)(this)}lift(t){const i=new n(this,this.actionsObserver,this.reducerManager);return i.operator=t,i}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,i){this.reducerManager.addReducer(t,i)}removeReducer(t){this.reducerManager.removeReducer(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Sq),l.LFG(Gy),l.LFG(RA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const wie=[iF];function Cie(n,e,...t){return function(r){let s;if("string"==typeof n){const c=[e,...t].filter(Boolean);s=r.pipe(function lie(...n){const e=n.length;if(0===e)throw new Error("list of properties cannot be empty.");return(0,st.U)(t=>{let i=t;for(let r=0;r<e;r++){const s=null==i?void 0:i[n[r]];if(void 0===s)return;i=s}return i})}(n,...c))}else{if("function"!=typeof n)throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);s=r.pipe((0,st.U)(c=>n(c,e)))}return s.pipe(Um())}}const rF="https://ngrx.io/guide/store/configuration/runtime-checks";function Aq(n){return void 0===n}function Mq(n){return null===n}function xq(n){return Array.isArray(n)}function Rq(n){return"object"==typeof n&&null!==n}function sF(n){return"function"==typeof n}function lF(n){Object.freeze(n);const e=sF(n);return Object.getOwnPropertyNames(n).forEach(t=>{if(!t.startsWith("\u0275")&&function Aie(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(n,t)&&(!e||"caller"!==t&&"callee"!==t&&"arguments"!==t)){const i=n[t];(Rq(i)||sF(i))&&!Object.isFrozen(i)&&lF(i)}}),n}function cF(n,e=[]){return(Aq(n)||Mq(n))&&0===e.length?{path:["root"],value:n}:Object.keys(n).reduce((i,r)=>{if(i)return i;const s=n[r];return function Iie(n){return sF(n)&&n.hasOwnProperty("\u0275cmp")}(s)?i:!(Aq(s)||Mq(s)||function Tie(n){return"number"==typeof n}(s)||function Die(n){return"boolean"==typeof n}(s)||function Eie(n){return"string"==typeof n}(s)||xq(s))&&(function kq(n){if(!function Sie(n){return Rq(n)&&!xq(n)}(n))return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||null===e}(s)?cF(s,[...e,r]):{path:[...e,r],value:s})},!1)}function Nq(n,e){if(!1===n)return;const t=n.path.join("."),i=new Error(`Detected unserializable ${e} at "${t}". ${rF}#strict${e}serializability`);throw i.value=n.value,i.unserializablePath=t,i}function Vie(n){return(0,l.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Uie({strictActionSerializability:n,strictStateSerializability:e}){return t=>n||e?function Lie(n,e){return function(t,i){e.action(i)&&Nq(cF(i),"action");const r=n(t,i);return e.state()&&Nq(cF(r),"state"),r}}(t,{action:i=>n&&!uF(i),state:()=>e}):t}function Hie({strictActionImmutability:n,strictStateImmutability:e}){return t=>n||e?function Fie(n,e){return function(t,i){const r=e.action(i)?lF(i):i,s=n(t,r);return e.state()?lF(s):s}}(t,{action:i=>n&&!uF(i),state:()=>e}):t}function uF(n){return n.type.startsWith("@ngrx")}function jie({strictActionWithinNgZone:n}){return e=>n?function Bie(n,e){return function(t,i){if(e.action(i)&&!l.R0b.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${rF}#strictactionwithinngzone`);return n(t,i)}}(e,{action:t=>n&&!uF(t)}):e}function Gie(n){return[{provide:Cq,useValue:n},{provide:wq,useFactory:zie,deps:[Cq]},{provide:cC,deps:[wq],useFactory:Vie},{provide:xA,multi:!0,deps:[cC],useFactory:Hie},{provide:xA,multi:!0,deps:[cC],useFactory:Uie},{provide:xA,multi:!0,deps:[cC],useFactory:jie}]}function Fq(){return[{provide:X1,multi:!0,deps:[cC],useFactory:$ie}]}function zie(n){return n}function $ie(n){if(!n.strictActionTypeUniqueness)return;const e=Object.entries(lC).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${rF}#strictactiontypeuniqueness`)}let Lq=(()=>{class n{constructor(t,i,r,s,c,d){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Gy),l.LFG(tF),l.LFG(nF),l.LFG(iF),l.LFG(lq,8),l.LFG(X1,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),qie=(()=>{class n{constructor(t,i,r,s,c){this.features=t,this.featureReducers=i,this.reducerManager=r;const d=t.map((p,y)=>{const D=i.shift()[y];return Object.assign(Object.assign({},p),{reducers:D,initialState:Bq(p.initialState)})});r.addFeatures(d)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mq),l.LFG(yq),l.LFG(RA),l.LFG(Lq),l.LFG(X1,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Wie=(()=>{class n{static forRoot(t,i={}){return{ngModule:Lq,providers:[{provide:lq,useFactory:Jie,deps:[[iF,new l.FiY,new l.tp0]]},{provide:cq,useValue:i.initialState},{provide:K1,useFactory:Bq,deps:[cq]},{provide:Q1,useValue:t},{provide:pq,useExisting:t instanceof l.OlP?t:Q1},{provide:hq,deps:[l.zs3,Q1,[new l.tBr(pq)]],useFactory:Zie},{provide:vq,useValue:i.metaReducers?i.metaReducers:[]},{provide:bq,deps:[xA,vq],useFactory:Qie},{provide:dq,useValue:i.reducerFactory?i.reducerFactory:eF},{provide:uq,deps:[dq,bq],useFactory:Dq},fie,_ie,yie,bie,wie,Gie(i.runtimeChecks),Fq()]}}static forFeature(t,i,r={}){return{ngModule:qie,providers:[{provide:gq,multi:!0,useValue:t instanceof Object?{}:r},{provide:fq,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:r instanceof l.OlP||!r.reducerFactory?eF:r.reducerFactory,metaReducers:r instanceof l.OlP||!r.metaReducers?[]:r.metaReducers,initialState:r instanceof l.OlP||!r.initialState?void 0:r.initialState}},{provide:mq,deps:[l.zs3,gq,fq],useFactory:Yie},{provide:J1,multi:!0,useValue:t instanceof Object?t.reducer:i},{provide:_q,multi:!0,useExisting:i instanceof l.OlP?i:J1},{provide:yq,multi:!0,deps:[l.zs3,J1,[new l.tBr(_q)]],useFactory:Kie},Fq()]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Zie(n,e){return e instanceof l.OlP?n.get(e):e}function Yie(n,e,t){return t.map((i,r)=>{if(e[r]instanceof l.OlP){const s=n.get(e[r]);return{key:i.key,reducerFactory:s.reducerFactory?s.reducerFactory:eF,metaReducers:s.metaReducers?s.metaReducers:[],initialState:s.initialState}}return i})}function Kie(n,e){return e.map(i=>i instanceof l.OlP?n.get(i):i)}function Bq(n){return"function"==typeof n?n():n}function Qie(n,e){return n.concat(e)}function Jie(n){if(n)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}let Xie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[_Q]}),n.\u0275inj=l.cJS({providers:[gI,oq,{useClass:oq,provide:fO,multi:!0}],imports:[[Ca,pQ,Nx,X5,oie,l5,zi.hO.initializeApp(J$_firebaseConfig),wB,Une,t7,h8,c5,Wie.forRoot({},{})]]}),n})();(0,l.G48)(),gc().bootstrapModule(Xie).catch(n=>console.error(n))},5867:(et,ve,F)=>{F.d(ve,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=F(9681);(0,l.registerVersion)("firebase","9.8.2","app")},127:(et,ve,F)=>{F.d(ve,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.8.2","app-compat")},8775:(et,ve,F)=>{F.r(ve);var l=F(5861),ee=F(3942),B=F(2090),de=F(9681),se=F(655),ge=F(1877),ne=F(4859);const Pe=function Ye(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new ge.Yd("@firebase/auth");function tt(v,...g){Ke.logLevel<=ge.in.ERROR&&Ke.error(`Auth (${de.SDK_VERSION}): ${v}`,...g)}function Ae(v,...g){throw ze(v,...g)}function we(v,...g){return ze(v,...g)}function De(v,g,_){const w=Object.assign(Object.assign({},He()),{[g]:_});return new B.LL("auth","Firebase",w).create(g,{appName:v.name})}function Ge(v,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ae(v,"argument-error"),De(v,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ze(v,...g){if("string"!=typeof v){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(_,...w)}return pe.create(v,...g)}function $(v,g,..._){if(!v)throw ze(g,..._)}function Ee(v){const g="INTERNAL ASSERTION FAILED: "+v;throw tt(g),new Error(g)}function Q(v,g){v||Ee(g)}const le=new Map;function ie(v){Q(v instanceof Function,"Expected a class definition");let g=le.get(v);return g?(Q(g instanceof v,"Instance stored in cache mismatched with class"),g):(g=new v,le.set(v,g),g)}function Fe(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function mt(){return"http:"===qt()||"https:"===qt()}function qt(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class cn{constructor(g,_){this.shortDelay=g,this.longDelay=_,Q(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function Ht(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(mt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zn(v,g){Q(v.emulator,"Emulator should always be set here");const{url:_}=v.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class pn{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ee("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ee("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ee("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zi=new cn(3e4,6e4);function Xt(v,g){return v.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:v.tenantId}):g}function jt(v,g,_,w){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(v,g,_,w,A={}){return br(v,A,(0,l.Z)(function*(){let P={},K={};w&&("GET"===g?K=w:P={body:JSON.stringify(w)});const me=(0,B.xO)(Object.assign({key:v.config.apiKey},K)).slice(1),Be=yield v._getAdditionalHeaders();return Be["Content-Type"]="application/json",v.languageCode&&(Be["X-Firebase-Locale"]=v.languageCode),pn.fetch()(to(v,v.config.apiHost,_,me),Object.assign({method:g,headers:Be,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function br(v,g,_){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(v,g,_){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},rn),g);try{const A=new ur(v),P=yield Promise.race([_(),A.promise]);A.clearNetworkTimeout();const K=yield P.json();if("needConfirmation"in K)throw Vr(v,"account-exists-with-different-credential",K);if(P.ok&&!("errorMessage"in K))return K;{const me=P.ok?K.errorMessage:K.error.message,[Be,Xe]=me.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw Vr(v,"credential-already-in-use",K);if("EMAIL_EXISTS"===Be)throw Vr(v,"email-already-in-use",K);if("USER_DISABLED"===Be)throw Vr(v,"user-disabled",K);const Ct=w[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw De(v,Ct,Xe);Ae(v,Ct)}}catch(A){if(A instanceof B.ZR)throw A;Ae(v,"network-request-failed")}})).apply(this,arguments)}function Yi(v,g,_,w){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(v,g,_,w,A={}){const P=yield jt(v,g,_,w,A);return"mfaPendingCredential"in P&&Ae(v,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function to(v,g,_,w){const A=`${g}${_}?${w}`;return v.config.emulator?zn(v.config,A):`${v.config.apiScheme}://${A}`}class ur{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(we(this.auth,"network-request-failed")),Zi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vr(v,g,_){const w={appName:v.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const A=we(v,g,w);return A.customData._tokenResponse=_,A}function wr(){return(wr=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Un(v,g){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function no(v,g){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function fi(v){if(v)try{const g=new Date(Number(v));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Io(){return(Io=(0,l.Z)(function*(v,g=!1){const _=(0,B.m9)(v),w=yield _.getIdToken(g),A=ut(w);$(A&&A.exp&&A.auth_time&&A.iat,_.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,K=null==P?void 0:P.sign_in_provider;return{claims:A,token:w,authTime:fi(Wt(A.auth_time)),issuedAtTime:fi(Wt(A.iat)),expirationTime:fi(Wt(A.exp)),signInProvider:K||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Wt(v){return 1e3*Number(v)}function ut(v){const[g,_,w]=v.split(".");if(void 0===g||void 0===_||void 0===w)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,B.tV)(_);return A?JSON.parse(A):(tt("Failed to decode base64 JWT payload"),null)}catch(A){return tt("Caught error parsing JWT payload as JSON",A),null}}function Li(v,g){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(v,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof B.ZR&&$t(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function $t({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ao{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class Bi{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=fi(this.lastLoginAt),this.creationTime=fi(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Vi(v){return H.apply(this,arguments)}function H(){return(H=(0,l.Z)(function*(v){var g;const _=v.auth,w=yield v.getIdToken(),A=yield Li(v,no(_,{idToken:w}));$(null==A?void 0:A.users.length,_,"internal-error");const P=A.users[0];v._notifyReloadListener(P);const K=(null===(g=P.providerUserInfo)||void 0===g?void 0:g.length)?q(P.providerUserInfo):[],me=Se(v.providerData,K),Ct=!!v.isAnonymous&&!(v.email&&P.passwordHash||(null==me?void 0:me.length)),_t={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:me,metadata:new Bi(P.createdAt,P.lastLoginAt),isAnonymous:Ct};Object.assign(v,_t)})).apply(this,arguments)}function Y(){return(Y=(0,l.Z)(function*(v){const g=(0,B.m9)(v);yield Vi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Se(v,g){return[...v.filter(w=>!g.some(A=>A.providerId===w.providerId)),...g]}function q(v){return v.map(g=>{var{providerId:_}=g,w=(0,se._T)(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ke(){return(ke=(0,l.Z)(function*(v,g){const _=yield br(v,{},(0,l.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:A,apiKey:P}=v.config,K=to(v,A,"/v1/token",`key=${P}`),me=yield v._getAdditionalHeaders();return me["Content-Type"]="application/x-www-form-urlencoded",pn.fetch()(K,{method:"POST",headers:me,body:w})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){$(g.idToken,"internal-error"),$(void 0!==g.idToken,"internal-error"),$(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function Et(v){const g=ut(v);return $(g,"internal-error"),$(void 0!==g.exp,"internal-error"),$(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,l.Z)(function*(){return $(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,l.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:K}=yield function te(v,g){return ke.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(A,P,Number(K))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:A,expirationTime:P}=_,K=new rt;return w&&($("string"==typeof w,"internal-error",{appName:g}),K.refreshToken=w),A&&($("string"==typeof A,"internal-error",{appName:g}),K.accessToken=A),P&&($("number"==typeof P,"internal-error",{appName:g}),K.expirationTime=P),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return Ee("not implemented")}}function yt(v,g){$("string"==typeof v||void 0===v,"internal-error",{appName:g})}class It{constructor(g){var{uid:_,auth:w,stsTokenManager:A}=g,P=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ao(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Bi(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const w=yield Li(_,_.stsTokenManager.getToken(_.auth,g));return $(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function Cr(v){return Io.apply(this,arguments)}(this,g)}reload(){return function W(v){return Y.apply(this,arguments)}(this)}_assign(g){this!==g&&($(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new It(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,l.Z)(function*(){let A=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),A=!0),_&&(yield Vi(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield Li(g,function wt(v,g){return wr.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,A,P,K,me,Be,Xe,Ct;const _t=null!==(w=_.displayName)&&void 0!==w?w:void 0,jn=null!==(A=_.email)&&void 0!==A?A:void 0,Rr=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,Lu=null!==(K=_.photoURL)&&void 0!==K?K:void 0,fv=null!==(me=_.tenantId)&&void 0!==me?me:void 0,Ua=null!==(Be=_._redirectEventId)&&void 0!==Be?Be:void 0,Wd=null!==(Xe=_.createdAt)&&void 0!==Xe?Xe:void 0,Zd=null!==(Ct=_.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:Mf,emailVerified:Yd,isAnonymous:li,providerData:xf,stsTokenManager:Rf}=_;$(Mf&&Rf,g,"internal-error");const Kd=rt.fromJSON(this.name,Rf);$("string"==typeof Mf,g,"internal-error"),yt(_t,g.name),yt(jn,g.name),$("boolean"==typeof Yd,g,"internal-error"),$("boolean"==typeof li,g,"internal-error"),yt(Rr,g.name),yt(Lu,g.name),yt(fv,g.name),yt(Ua,g.name),yt(Wd,g.name),yt(Zd,g.name);const Ha=new It({uid:Mf,auth:g,email:jn,emailVerified:Yd,displayName:_t,isAnonymous:li,photoURL:Lu,phoneNumber:Rr,tenantId:fv,stsTokenManager:Kd,createdAt:Wd,lastLoginAt:Zd});return xf&&Array.isArray(xf)&&(Ha.providerData=xf.map(Nc=>Object.assign({},Nc))),Ua&&(Ha._redirectEventId=Ua),Ha}static _fromIdTokenResponse(g,_,w=!1){return(0,l.Z)(function*(){const A=new rt;A.updateFromServerResponse(_);const P=new It({uid:_.localId,auth:g,stsTokenManager:A,isAnonymous:w});return yield Vi(P),P})()}}const Dt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var A=this;return(0,l.Z)(function*(){A.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const A=w.storage[_];return void 0===A?null:A})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return v.type="NONE",v})();function ri(v,g,_){return`firebase:${v}:${g}:${_}`}class Ki{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:A,name:P}=this.auth;this.fullUserKey=ri(this.userKey,A.apiKey,P),this.fullPersistenceKey=ri("persistence",A.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?It._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Ki(ie(Dt),g,w);const A=(yield Promise.all(_.map(function(){var Xe=(0,l.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let P=A[0]||ie(Dt);const K=ri(w,g.config.apiKey,g.name);let me=null;for(const Xe of _)try{const Ct=yield Xe._get(K);if(Ct){const _t=It._fromJSON(g,Ct);Xe!==P&&(me=_t),P=Xe;break}}catch(Ct){}const Be=A.filter(Xe=>Xe._shouldAllowMigration);return P._shouldAllowMigration&&Be.length?(P=Be[0],me&&(yield P._set(K,me.toJSON())),yield Promise.all(_.map(function(){var Xe=(0,l.Z)(function*(Ct){if(Ct!==P)try{yield Ct._remove(K)}catch(_t){}});return function(Ct){return Xe.apply(this,arguments)}}())),new Ki(P,g,w)):new Ki(P,g,w)})()}}function rc(v){const g=v.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(si(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(hl(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Ts(g))return"Blackberry";if(oi(g))return"Webos";if(sc(g))return"Safari";if((g.includes("chrome/")||fl(g))&&!g.includes("edge/"))return"Chrome";if(Qi(g))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function hl(v=(0,B.z$)()){return/firefox\//i.test(v)}function sc(v=(0,B.z$)()){const g=v.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function fl(v=(0,B.z$)()){return/crios\//i.test(v)}function si(v=(0,B.z$)()){return/iemobile/i.test(v)}function Qi(v=(0,B.z$)()){return/android/i.test(v)}function Ts(v=(0,B.z$)()){return/blackberry/i.test(v)}function oi(v=(0,B.z$)()){return/webos/i.test(v)}function hr(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)}function io(v=(0,B.z$)()){return hr(v)||Qi(v)||oi(v)||Ts(v)||/windows phone/i.test(v)||si(v)}function ha(v,g=[]){let _;switch(v){case"Browser":_=rc((0,B.z$)());break;case"Worker":_=`${rc((0,B.z$)())}-${v}`;break;default:_=v}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${de.SDK_VERSION}/${w}`}class fr{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,_){const w=P=>new Promise((K,me)=>{try{K(g(P))}catch(Be){me(Be)}});w.onAbort=_,this.queue.push(w);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}runMiddleware(g){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===g)return;const w=[];try{for(const A of _.queue)yield A(g),A.onAbort&&w.push(A.onAbort)}catch(A){w.reverse();for(const P of w)try{P()}catch(K){}throw _.auth._errorFactory.create("login-blocked",{originalMessage:A.message})}})()}}class Qe{constructor(g,_,w){this.app=g,this.heartbeatServiceProvider=_,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gn(this),this.idTokenSubscription=new gn(this),this.beforeStateQueue=new fr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=ie(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var A,P;if(!w._deleted&&(w.persistenceManager=yield Ki.create(w,g),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(K){}yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_,!0)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var w;const A=yield _.assertedPersistence.getCurrentUser();let P=A,K=!1;if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const me=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,Be=null==P?void 0:P._redirectEventId,Xe=yield _.tryRedirectSignIn(g);(!me||me===Be)&&(null==Xe?void 0:Xe.user)&&(P=Xe.user,K=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(K)try{yield _.beforeStateQueue.runMiddleware(P)}catch(me){P=A,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(me))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return $(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(A){yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield Vi(g)}catch(w){if("auth/network-request-failed"!==w.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function nt(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const w=g?(0,B.m9)(g):null;return w&&$(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g,_=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return g&&$(w.tenantId===g.tenantId,w,"tenant-id-mismatch"),_||(yield w.beforeStateQueue.runMiddleware(g)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(g),w.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(ie(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}beforeAuthStateChanged(g,_){return this.beforeStateQueue.pushCallback(g,_)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,l.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(_);return null===g?A.removeCurrentUser():A.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&ie(g)||_._popupRedirectResolver;$(w,_,"argument-error"),_.redirectPersistenceManager=yield Ki.create(_,[ie(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var w,A;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(A=_.redirectUser)||void 0===A?void 0:A._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,A){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),K=this._isInitialized?Promise.resolve():this._initializationPromise;return $(K,this,"internal-error"),K.then(()=>P(this.currentUser)),"function"==typeof _?g.addObserver(_,w,A):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=ha(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,l.Z)(function*(){var _;const w={"X-Client-Version":g.clientVersion};g.app.options.appId&&(w["X-Firebase-gmpid"]=g.app.options.appId);const A=yield null===(_=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return A&&(w["X-Firebase-Client"]=A),w})()}}function ft(v){return(0,B.m9)(v)}class gn{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ns(v){const g=v.indexOf(":");return g<0?"":v.substr(0,g+1)}function is(v){if(!v)return null;const g=Number(v);return isNaN(g)?null:g}class Ur{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return Ee("not implemented")}_getIdTokenResponse(g){return Ee("not implemented")}_linkToIdToken(g,_){return Ee("not implemented")}_getReauthenticationResolver(g){return Ee("not implemented")}}function Wn(v,g){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:resetPassword",Xt(v,g))})).apply(this,arguments)}function fa(v,g){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function oc(v,g){return ro.apply(this,arguments)}function ro(){return(ro=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",Xt(v,g))})).apply(this,arguments)}function xo(){return(xo=(0,l.Z)(function*(v,g){return Yi(v,"POST","/v1/accounts:signInWithPassword",Xt(v,g))})).apply(this,arguments)}function so(v,g){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendOobCode",Xt(v,g))})).apply(this,arguments)}function vn(v,g){return ac.apply(this,arguments)}function ac(){return(ac=(0,l.Z)(function*(v,g){return so(v,g)})).apply(this,arguments)}function gl(v,g){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,l.Z)(function*(v,g){return so(v,g)})).apply(this,arguments)}function Dr(v,g){return ml.apply(this,arguments)}function ml(){return(ml=(0,l.Z)(function*(v,g){return so(v,g)})).apply(this,arguments)}function _d(v,g){return ss.apply(this,arguments)}function ss(){return(ss=(0,l.Z)(function*(v,g){return so(v,g)})).apply(this,arguments)}function ou(){return(ou=(0,l.Z)(function*(v,g){return Yi(v,"POST","/v1/accounts:signInWithEmailLink",Xt(v,g))})).apply(this,arguments)}function yd(){return(yd=(0,l.Z)(function*(v,g){return Yi(v,"POST","/v1/accounts:signInWithEmailLink",Xt(v,g))})).apply(this,arguments)}class Hi extends Ur{constructor(g,_,w,A=null){super("password",w),this._email=g,this._password=_,this._tenantId=A}static _fromEmailAndPassword(g,_){return new Hi(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new Hi(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function pi(v,g){return xo.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function os(v,g){return ou.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ae(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return fa(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Pg(v,g){return yd.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Ae(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function oo(v,g){return vd.apply(this,arguments)}function vd(){return(vd=(0,l.Z)(function*(v,g){return Yi(v,"POST","/v1/accounts:signInWithIdp",Xt(v,g))})).apply(this,arguments)}class Ss extends Ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Ss(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ae("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:A}=_,P=(0,se._T)(_,["providerId","signInMethod"]);if(!w||!A)return null;const K=new Ss(w,A);return K.idToken=P.idToken||void 0,K.accessToken=P.accessToken||void 0,K.secret=P.secret,K.nonce=P.nonce,K.pendingToken=P.pendingToken||null,K}_getIdTokenResponse(g){return oo(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,oo(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,oo(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,B.xO)(_)}return g}}function ef(v,g){return bd.apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:sendVerificationCode",Xt(v,g))})).apply(this,arguments)}function ao(){return(ao=(0,l.Z)(function*(v,g){return Yi(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,g))})).apply(this,arguments)}function wd(){return(wd=(0,l.Z)(function*(v,g){const _=yield Yi(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,g));if(_.temporaryProof)throw Vr(v,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Lg={USER_NOT_FOUND:"user-not-found"};function Cd(){return(Cd=(0,l.Z)(function*(v,g){return Yi(v,"POST","/v1/accounts:signInWithPhoneNumber",Xt(v,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Lg)})).apply(this,arguments)}class pa extends Ur{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new pa({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new pa({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function au(v,g){return ao.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function Fg(v,g){return wd.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Bg(v,g){return Cd.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:A}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:A}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:P}=g;return w||_||A||P?new pa({verificationId:_,verificationCode:w,phoneNumber:A,temporaryProof:P}):null}}class lc{constructor(g){var _,w,A,P,K,me;const Be=(0,B.zd)((0,B.pd)(g)),Xe=null!==(_=Be.apiKey)&&void 0!==_?_:null,Ct=null!==(w=Be.oobCode)&&void 0!==w?w:null,_t=function tf(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Be.mode)&&void 0!==A?A:null);$(Xe&&Ct&&_t,"argument-error"),this.apiKey=Xe,this.operation=_t,this.code=Ct,this.continueUrl=null!==(P=Be.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(K=Be.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(me=Be.tenantId)&&void 0!==me?me:null}static parseLink(g){const _=function _l(v){const g=(0,B.zd)((0,B.pd)(v)).link,_=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||_||g||v}(g);try{return new lc(_)}catch(w){return null}}}let Dd=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(_,w){return Hi._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const A=lc.parseLink(w);return $(A,"argument-error"),Hi._fromEmailAndCode(_,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ji{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ro extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class as extends Ro{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return $("providerId"in _&&"signInMethod"in _,"argument-error"),Ss._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return $(g.idToken||g.accessToken,"argument-error"),Ss._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return as.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return as.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:P,nonce:K,providerId:me}=g;if(!w&&!A&&!_&&!P||!me)return null;try{return new as(me)._credential({idToken:_,accessToken:w,nonce:K,pendingToken:P})}catch(Be){return null}}}let ga=(()=>{class v extends Ro{constructor(){super("facebook.com")}static credential(_){return Ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Td=(()=>{class v extends Ro{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:A}=_;if(!w&&!A)return null;try{return v.credential(w,A)}catch(P){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),nf=(()=>{class v extends Ro{constructor(){super("github.com")}static credential(_){return Ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return v.credential(_.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ko extends Ur{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return oo(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,oo(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,oo(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:A,pendingToken:P}=_;return w&&A&&P&&w===A?new ko(w,P):null}static _create(g,_){return new ko(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ji extends ji{constructor(g){$(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ji.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ji.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=ko.fromJSON(g);return $(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return ko._create(w,_)}catch(A){return null}}}let Sd=(()=>{class v extends Ro{constructor(){super("twitter.com")}static credential(_,w){return Ss._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=_;if(!w||!A)return null;try{return v.credential(w,A)}catch(P){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Gi(v,g){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(v,g){return Yi(v,"POST","/v1/accounts:signUp",Xt(v,g))})).apply(this,arguments)}class Tr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,A=!1){return(0,l.Z)(function*(){const P=yield It._fromIdTokenResponse(g,w,A),K=lu(w);return new Tr({user:P,providerId:K,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const A=lu(w);return new Tr({user:g,providerId:A,_tokenResponse:w,operationType:_})})()}}function lu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function cu(){return(cu=(0,l.Z)(function*(v){var g;const _=ft(v);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Tr({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Gi(_,{returnSecureToken:!0}),A=yield Tr._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class ya extends B.ZR{constructor(g,_,w,A){var P;super(_.code,_.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,ya.prototype),this.customData={appName:g.name,tenantId:null!==(P=g.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,A){return new ya(g,_,w,A)}}function uu(v,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(v):_._getIdTokenResponse(v)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?ya._fromErrorAndOperation(v,P,g,w):P})}function ls(v){return new Set(v.map(({providerId:g})=>g).filter(g=>!!g))}function mn(){return(mn=(0,l.Z)(function*(v,g){const _=(0,B.m9)(v);yield on(!0,_,g);const{providerUserInfo:w}=yield Un(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),A=ls(w||[]);return _.providerData=_.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function yl(v,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(v,g,_=!1){const w=yield Li(v,g._linkToIdToken(v.auth,yield v.getIdToken()),_);return Tr._forOperation(v,"link",w)})).apply(this,arguments)}function on(v,g,_){return vl.apply(this,arguments)}function vl(){return(vl=(0,l.Z)(function*(v,g,_){yield Vi(g);const A=!1===v?"provider-already-linked":"no-such-provider";$(ls(g.providerData).has(_)===v,g.auth,A)})).apply(this,arguments)}function cc(v,g){return co.apply(this,arguments)}function co(){return(co=(0,l.Z)(function*(v,g,_=!1){const{auth:w}=v,A="reauthenticate";try{const P=yield Li(v,uu(w,A,g,v),_);$(P.idToken,w,"internal-error");const K=ut(P.idToken);$(K,w,"internal-error");const{sub:me}=K;return $(v.uid===me,w,"user-mismatch"),Tr._forOperation(v,A,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&Ae(w,"user-mismatch"),P}})).apply(this,arguments)}function Ti(v,g){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(v,g,_=!1){const w="signIn",A=yield uu(v,w,g),P=yield Tr._fromIdTokenResponse(v,w,A);return _||(yield v._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Pn(v,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,l.Z)(function*(v,g){return Ti(ft(v),g)})).apply(this,arguments)}function Si(v,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(v,g){const _=(0,B.m9)(v);return yield on(!1,_,g.providerId),yl(_,g)})).apply(this,arguments)}function Is(v,g){return bl.apply(this,arguments)}function bl(){return(bl=(0,l.Z)(function*(v,g){return cc((0,B.m9)(v),g)})).apply(this,arguments)}function Hr(v,g){return us.apply(this,arguments)}function us(){return(us=(0,l.Z)(function*(v,g){return Yi(v,"POST","/v1/accounts:signInWithCustomToken",Xt(v,g))})).apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(v,g){const _=ft(v),w=yield Hr(_,{token:g,returnSecureToken:!0}),A=yield Tr._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(A.user),A})).apply(this,arguments)}class ba{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?uc._fromServerResponse(g,_):Ae(g,"internal-error")}}class uc extends ba{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new uc(_)}}function wl(v,g,_){var w;$((null===(w=_.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),$(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&($(_.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&($(_.android.packageName.length>0,v,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Cl(){return(Cl=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v),A={requestType:"PASSWORD_RESET",email:g};_&&wl(w,A,_),yield gl(w,A)})).apply(this,arguments)}function pu(){return(pu=(0,l.Z)(function*(v,g,_){yield Wn((0,B.m9)(v),{oobCode:g,newPassword:_})})).apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(v,g){yield oc((0,B.m9)(v),{oobCode:g})})).apply(this,arguments)}function dc(v,g){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,l.Z)(function*(v,g){const _=(0,B.m9)(v),w=yield Wn(_,{oobCode:g}),A=w.requestType;switch($(A,_,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":$(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":$(w.mfaInfo,_,"internal-error");default:$(w.email,_,"internal-error")}let P=null;return w.mfaInfo&&(P=ba._fromServerResponse(ft(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function No(){return(No=(0,l.Z)(function*(v,g){const{data:_}=yield dc((0,B.m9)(v),g);return _.email})).apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(v,g,_){const w=ft(v),A=yield Gi(w,{returnSecureToken:!0,email:g,password:_}),P=yield Tr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(P.user),P})).apply(this,arguments)}function hc(){return(hc=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v),A={requestType:"EMAIL_SIGNIN",email:g};$(_.handleCodeInApp,w,"argument-error"),_&&wl(w,A,_),yield Dr(w,A)})).apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v),A=Dd.credentialWithLink(g,_||Fe());return $(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Pn(w,A)})).apply(this,arguments)}function As(v,g){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:createAuthUri",Xt(v,g))})).apply(this,arguments)}function jr(){return(jr=(0,l.Z)(function*(v,g){const w={identifier:g,continueUri:mt()?Fe():"http://localhost"},{signinMethods:A}=yield As((0,B.m9)(v),w);return A||[]})).apply(this,arguments)}function pc(){return(pc=(0,l.Z)(function*(v,g){const _=(0,B.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};g&&wl(_.auth,A,g);const{email:P}=yield vn(_.auth,A);P!==v.email&&(yield v.reload())})).apply(this,arguments)}function gc(){return(gc=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:g};_&&wl(w.auth,P,_);const{email:K}=yield _d(w.auth,P);K!==v.email&&(yield v.reload())})).apply(this,arguments)}function Sl(v,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(v,g){return jt(v,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Il(){return(Il=(0,l.Z)(function*(v,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,B.m9)(v),P={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},K=yield Li(w,Sl(w.auth,P));w.displayName=K.displayName||null,w.photoURL=K.photoUrl||null;const me=w.providerData.find(({providerId:Be})=>"password"===Be);me&&(me.displayName=w.displayName,me.photoURL=w.photoURL),yield w._updateTokensIfNecessary(K)})).apply(this,arguments)}function Ea(v,g,_){return Al.apply(this,arguments)}function Al(){return(Al=(0,l.Z)(function*(v,g,_){const{auth:w}=v,P={idToken:yield v.getIdToken(),returnSecureToken:!0};g&&(P.email=g),_&&(P.password=_);const K=yield Li(v,fa(w,P));yield v._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class Da{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class Md extends Da{constructor(g,_,w,A){super(g,_,w),this.username=A}}class Ta extends Da{constructor(g,_){super(g,"facebook.com",_)}}class ds extends Md{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class sf extends Da{constructor(g,_){super(g,"google.com",_)}}class gi extends Md{constructor(g,_,w){super(g,"twitter.com",_,w)}}function hs(v){const{user:g,_tokenResponse:_}=v;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Ad(v){var g,_;if(!v)return null;const{providerId:w}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},P=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const K=null===(_=null===(g=ut(v.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(K)return new Da(P,"anonymous"!==K&&"custom"!==K?K:null)}if(!w)return null;switch(w){case"facebook.com":return new Ta(P,A);case"github.com":return new ds(P,A);case"google.com":return new sf(P,A);case"twitter.com":return new gi(P,A,v.screenName||null);case"custom":case"anonymous":return new Da(P,null);default:return new Da(P,w,A)}}(_)}class Ms{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new Ms("enroll",g)}static _fromMfaPendingCredential(g){return new Ms("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return Ms._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return Ms._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Sa{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=ft(g),A=_.customData._serverResponse,P=(A.mfaInfo||[]).map(me=>ba._fromServerResponse(w,me));$(A.mfaPendingCredential,w,"internal-error");const K=Ms._fromMfaPendingCredential(A.mfaPendingCredential);return new Sa(K,P,function(){var me=(0,l.Z)(function*(Be){const Xe=yield Be._process(w,K);delete A.mfaInfo,delete A.mfaPendingCredential;const Ct=Object.assign(Object.assign({},A),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(_.operationType){case"signIn":const _t=yield Tr._fromIdTokenResponse(w,_.operationType,Ct);return yield w._updateCurrentUser(_t.user),_t;case"reauthenticate":return $(_.user,w,"internal-error"),Tr._forOperation(_.user,_.operationType,Ct);default:Ae(w,"internal-error")}});return function(Be){return me.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function lf(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:start",Xt(v,g))}class kd{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>ba._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new kd(g)}getSession(){var g=this;return(0,l.Z)(function*(){return Ms._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var w=this;return(0,l.Z)(function*(){const A=g,P=yield w.getSession(),K=yield Li(w.user,A._process(w.user.auth,P,_));return yield w.user._updateTokensIfNecessary(K),w.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const w="string"==typeof g?g:g.uid,A=yield _.user.getIdToken(),P=yield Li(_.user,function mc(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Xt(v,g))}(_.user.auth,{idToken:A,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:K})=>K!==w),yield _.user._updateTokensIfNecessary(P);try{yield _.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const _c=new WeakMap,ho="__sak";class bu{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(ho,"1"),this.storage.removeItem(ho),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const pt=(()=>{class v extends bu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jg(){const v=(0,B.z$)();return sc(v)||hr(v)}()&&function Di(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=io(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),P=this.localCache[w];A!==P&&_(w,P,A)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((me,Be,Xe)=>{this.notifyListeners(me,Xe)});const A=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const me=this.storage.getItem(A);if(_.newValue!==me)null!==_.newValue?this.storage.setItem(A,_.newValue):this.storage.removeItem(A);else if(this.localCache[A]===_.newValue&&!w)return}const P=()=>{const me=this.storage.getItem(A);!w&&this.localCache[A]===me||this.notifyListeners(A,me)},K=this.storage.getItem(A);!function pl(){return(0,B.w1)()&&10===document.documentMode}()||K===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const P of Array.from(A))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var A=()=>super._set,P=this;return(0,l.Z)(function*(){yield A().call(P,_,w),P.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,A=this;return(0,l.Z)(function*(){const P=yield w().call(A,_);return A.localCache[_]=JSON.stringify(P),P})()}_remove(_){var w=()=>super._remove,A=this;return(0,l.Z)(function*(){yield w().call(A,_),delete A.localCache[_]})()}}return v.type="LOCAL",v})(),en=(()=>{class v extends bu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return v.type="SESSION",v})();let Od=(()=>{class v{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(P=>P.isListeningto(_));if(w)return w;const A=new v(_);return this.receivers.push(A),A}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const A=_,{eventId:P,eventType:K,data:me}=A.data,Be=w.handlersMap[K];if(!(null==Be?void 0:Be.size))return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:K});const Xe=Array.from(Be).map(function(){var _t=(0,l.Z)(function*(jn){return jn(A.origin,me)});return function(jn){return _t.apply(this,arguments)}}()),Ct=yield function wu(v){return Promise.all(v.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(Xe);A.ports[0].postMessage({status:"done",eventId:P,eventType:K,response:Ct})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function fs(v="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return v+_}class Cu{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var A=this;return(0,l.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let K,me;return new Promise((Be,Xe)=>{const Ct=fs("",20);P.port1.start();const _t=setTimeout(()=>{Xe(new Error("unsupported_event"))},w);me={messageChannel:P,onMessage(jn){const Rr=jn;if(Rr.data.eventId===Ct)switch(Rr.data.status){case"ack":clearTimeout(_t),K=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Be(Rr.data.response);break;default:clearTimeout(_t),clearTimeout(K),Xe(new Error("invalid_response"))}}},A.handlers.add(me),P.port1.addEventListener("message",me.onMessage),A.target.postMessage({eventType:g,eventId:Ct,data:_},[P.port2])}).finally(()=>{me&&A.removeMessageHandler(me)})})()}}function En(){return window}function Ir(){return void 0!==En().WorkerGlobalScope&&"function"==typeof En().importScripts}function yc(){return(yc=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Du="firebaseLocalStorageDb",Aa="firebaseLocalStorage",ps="fbase_key";class fo{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function Ii(v,g){return v.transaction([Aa],g?"readwrite":"readonly").objectStore(Aa)}function xs(){const v=indexedDB.open(Du,1);return new Promise((g,_)=>{v.addEventListener("error",()=>{_(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Aa,{keyPath:ps})}catch(A){_(A)}}),v.addEventListener("success",(0,l.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Aa)?g(w):(w.close(),yield function gr(){const v=indexedDB.deleteDatabase(Du);return new fo(v).toPromise()}(),g(yield xs()))}))})}function Ma(v,g,_){return po.apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(v,g,_){const w=Ii(v,!0).put({[ps]:g,value:_});return new fo(w).toPromise()})).apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(v,g){const _=Ii(v,!1).get(g),w=yield new fo(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Vo(v,g){const _=Ii(v,!0).delete(g);return new fo(_).toPromise()}const _i=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield xs()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let A=0;for(;;)try{const P=yield w._openDb();return yield _(P)}catch(P){if(A++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Ir()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=Od._getInstance(function Eu(){return Ir()?self:null}()),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(A,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(A,P){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,A;if(_.activeServiceWorker=yield function st(){return yc.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Cu(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);!P||(null===(w=P[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Pd(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield xs();return yield Ma(_,ho,"1"),yield Vo(_,ho),!0}catch(_){}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var A=this;return(0,l.Z)(function*(){return A._withPendingWrite((0,l.Z)(function*(){return yield A._withRetries(P=>Ma(P,_,w)),A.localCache[_]=w,A.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const A=yield w._withRetries(P=>function xa(v,g){return Bo.apply(this,arguments)}(P,_));return w.localCache[_]=A,A})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(A=>Vo(A,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(K=>{const me=Ii(K,!1).getAll();return new fo(me).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:K,value:me}of w)P.add(K),JSON.stringify(_.localCache[K])!==JSON.stringify(me)&&(_.notifyListeners(K,me),A.push(K));for(const K of Object.keys(_.localCache))_.localCache[K]&&!P.has(K)&&(_.notifyListeners(K,null),A.push(K));return A})()}notifyListeners(_,w){this.localCache[_]=w;const A=this.listeners[_];if(A)for(const P of Array.from(A))P(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Nn(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:start",Xt(v,g))}function In(){return(In=(0,l.Z)(function*(v){return(yield jt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yi(v){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=g,w.onerror=A=>{const P=we("internal-error");P.customData=A,_(P)},w.type="text/javascript",w.charset="UTF-8",function Fn(){var v,g;return null!==(g=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==g?g:document}().appendChild(w)})}function Rs(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Xi=1e12;class Bn{constructor(g){this.auth=g,this.counter=Xi,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new Rl(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||Xi;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Xi))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(g||Xi))||void 0===w||w.execute(),""})()}}class Rl{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof g?document.getElementById(g):g;$(A,"argument-error",{appName:_}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function kl(v){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}(50);const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Rn=Rs("rcb"),Gg=new cn(3e4,6e4);class Wy{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!En().grecaptcha}load(g,_=""){return $(function ka(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(_),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(En().grecaptcha):new Promise((w,A)=>{const P=En().setTimeout(()=>{A(we(g,"network-request-failed"))},Gg.get());En()[Rn]=()=>{En().clearTimeout(P),delete En()[Rn];const me=En().grecaptcha;if(!me)return void A(we(g,"internal-error"));const Be=me.render;me.render=(Xe,Ct)=>{const _t=Be(Xe,Ct);return this.counter++,_t},this.hostLanguage=_,w(me)},yi(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Rn,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),A(we(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!En().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vi{load(g){return(0,l.Z)(function*(){return new Bn(g)})()}clearedOneInstance(){}}const Tu="recaptcha",mo={theme:"light",type:"image"};class Ho{constructor(g,_=Object.assign({},mo),w){this.parameters=_,this.type=Tu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ft(w),this.isInvisible="invisible"===this.parameters.size,$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof g?document.getElementById(g):g;$(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vi:new Wy,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(P=>{const K=me=>{!me||(g.tokenChangeListeners.delete(K),P(me))};g.tokenChangeListeners.add(K),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){$(!this.parameters.sitekey,this.auth,"argument-error"),$(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),$("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=En()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){$(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){$(mt()&&!Ir(),g.auth,"internal-error"),yield function bc(){let v=null;return new Promise(g=>{"complete"!==document.readyState?(v=()=>g(),window.addEventListener("load",v)):g()}).catch(g=>{throw v&&window.removeEventListener("load",v),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function vc(v){return In.apply(this,arguments)}(g.auth);$(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return $(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vn{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=pa._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function jo(){return(jo=(0,l.Z)(function*(v,g,_){const w=ft(v),A=yield _o(w,g,(0,B.m9)(_));return new Vn(A,P=>Pn(w,P))})).apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v);yield on(!1,w,"phone");const A=yield _o(w.auth,g,(0,B.m9)(_));return new Vn(A,P=>Si(w,P))})).apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v),A=yield _o(w.auth,g,(0,B.m9)(_));return new Vn(A,P=>Is(w,P))})).apply(this,arguments)}function _o(v,g,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(v,g,_){var w;const A=yield _.verify();try{let P;if($("string"==typeof A,v,"argument-error"),$(_.type===Tu,v,"argument-error"),P="string"==typeof g?{phoneNumber:g}:g,"session"in P){const K=P.session;if("phoneNumber"in P)return $("enroll"===K.type,v,"internal-error"),(yield lf(v,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{$("signin"===K.type,v,"internal-error");const me=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return $(me,v,"missing-multi-factor-info"),(yield Nn(v,{mfaPendingCredential:K.credential,mfaEnrollmentId:me,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield ef(v,{phoneNumber:P.phoneNumber,recaptchaToken:A});return K}}finally{_._reset()}})).apply(this,arguments)}function Oa(){return(Oa=(0,l.Z)(function*(v,g){yield yl((0,B.m9)(v),g)})).apply(this,arguments)}let Cc=(()=>{class v{constructor(_){this.providerId=v.PROVIDER_ID,this.auth=ft(_)}verifyPhoneNumber(_,w){return _o(this.auth,_,(0,B.m9)(w))}static credential(_,w){return pa._fromVerification(_,w)}static credentialFromResult(_){return v.credentialFromTaggedObject(_)}static credentialFromError(_){return v.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:A}=_;return w&&A?pa._fromTokenResponse(w,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Pa(v,g){return g?ie(g):($(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Nd extends Ur{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return oo(g,this._buildIdpRequest())}_linkToIdToken(g,_){return oo(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return oo(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function Bt(v){return Ti(v.auth,new Nd(v),v.bypassAuthState)}function Fd(v){const{auth:g,user:_}=v;return $(_,g,"internal-error"),cc(_,new Nd(v),v.bypassAuthState)}function kn(v){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(v){const{auth:g,user:_}=v;return $(_,g,"internal-error"),yl(_,new Nd(v),v.bypassAuthState)})).apply(this,arguments)}class Os{constructor(g,_,w,A,P=!1){this.auth=g,this.resolver=w,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(w,A){g.pendingPromise={resolve:w,reject:A};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(P){g.reject(P)}});return function(w,A){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:P,tenantId:K,error:me,type:Be}=g;if(me)return void _.reject(me);const Xe={auth:_.auth,requestUri:w,sessionId:A,tenantId:K||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Be)(Xe))}catch(Ct){_.reject(Ct)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Bt;case"linkViaPopup":case"linkViaRedirect":return kn;case"reauthViaPopup":case"reauthViaRedirect":return Fd;default:Ae(this.auth,"internal-error")}}resolve(g){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qg=new cn(2e3,1e4);function Su(){return(Su=(0,l.Z)(function*(v,g,_){const w=ft(v);Ge(v,g,ji);const A=Pa(w,_);return new Iu(w,"signInViaPopup",g,A).executeNotNull()})).apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v);Ge(w.auth,g,ji);const A=Pa(w.auth,_);return new Iu(w.auth,"reauthViaPopup",g,A,w).executeNotNull()})).apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v);Ge(w.auth,g,ji);const A=Pa(w.auth,_);return new Iu(w.auth,"linkViaPopup",g,A,w).executeNotNull()})).apply(this,arguments)}let Iu=(()=>{class v extends Os{constructor(_,w,A,P,K){super(_,w,P,K),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return $(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){Q(1===_.filter.length,"Popup operations only handle one event");const w=fs();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(A=>{_.reject(A)}),_.resolver._isIframeWebStorageSupported(_.auth,A=>{A||_.reject(we(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(we(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(we(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,qg.get())};_()}}return v.currentPopupAction=null,v})();const Mi=new Map;class S extends Os{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=Mi.get(_.auth._key());if(!w){try{const P=(yield function I(v,g){return k.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(P)}catch(A){w=()=>Promise.reject(A)}Mi.set(_.auth._key(),w)}return _.bypassAuthState||Mi.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const A=yield w.auth._redirectUserForId(g.eventId);if(A)return w.user=A,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function k(){return(k=(0,l.Z)(function*(v,g){const _=Tt(g),w=ot(v);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(_));return yield w._remove(_),A})).apply(this,arguments)}function U(v,g){return J.apply(this,arguments)}function J(){return(J=(0,l.Z)(function*(v,g){return ot(v)._set(Tt(g),"true")})).apply(this,arguments)}function Ne(v,g){Mi.set(v._key(),g)}function ot(v){return ie(v._redirectPersistence)}function Tt(v){return ri("pendingRedirect",v.config.apiKey,v.name)}function qe(){return(qe=(0,l.Z)(function*(v,g,_){const w=ft(v);Ge(v,g,ji);const A=Pa(w,_);return yield U(A,w),A._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v);Ge(w.auth,g,ji);const A=Pa(w.auth,_);yield U(A,w.auth);const P=yield Dc(w);return A._openRedirect(w.auth,g,"reauthViaRedirect",P)})).apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(v,g,_){const w=(0,B.m9)(v);Ge(w.auth,g,ji);const A=Pa(w.auth,_);yield on(!1,w,g.providerId),yield U(A,w.auth);const P=yield Dc(w);return A._openRedirect(w.auth,g,"linkViaRedirect",P)})).apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(v,g){return yield ft(v)._initializationPromise,Ps(v,g,!1)})).apply(this,arguments)}function Ps(v,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,l.Z)(function*(v,g,_=!1){const w=ft(v),A=Pa(w,g),K=yield new S(w,A,_).execute();return K&&!_&&(delete K.user._redirectEventId,yield w._persistUserIfCurrent(K.user),yield w._setRedirectUser(null,g)),K})).apply(this,arguments)}function Dc(v){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(v){const g=fs(`${v.uid}:::`);return v._redirectEventId=g,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),g})).apply(this,arguments)}class Tc{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Wg(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sc(v);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!Sc(g)){const A=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(we(this.auth,A))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Au(g))}saveEventToCache(g){this.cachedEventUids.add(Au(g)),this.lastProcessedEventTime=Date.now()}}function Au(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(g=>g).join("-")}function Sc({type:v,error:g}){return"unknown"===v&&"auth/no-auth-event"===(null==g?void 0:g.code)}function Zg(v){return df.apply(this,arguments)}function df(){return(df=(0,l.Z)(function*(v,g={}){return jt(v,"GET","/v1/projects",g)})).apply(this,arguments)}const qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mu=/^https?/;function Yg(){return(Yg=(0,l.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:g}=yield Zg(v);for(const _ of g)try{if(Kg(_))return}catch(w){}Ae(v,"unauthorized-domain")})).apply(this,arguments)}function Kg(v){const g=Fe(),{protocol:_,hostname:w}=new URL(g);if(v.startsWith("chrome-extension://")){const K=new URL(v);return""===K.hostname&&""===w?"chrome-extension:"===_&&v.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&K.hostname===w}if(!Mu.test(_))return!1;if(qo.test(v))return w===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Yy=new cn(3e4,6e4);function Qg(){const v=En().___jsl;if(null==v?void 0:v.H)for(const g of Object.keys(v.H))if(v.H[g].r=v.H[g].r||[],v.H[g].L=v.H[g].L||[],v.H[g].r=[...v.H[g].L],v.CP)for(let _=0;_<v.CP.length;_++)v.CP[_]=null}let Ic=null;function Wo(v){return Ic=Ic||function hf(v){return new Promise((g,_)=>{var w,A,P;function K(){Qg(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Qg(),_(we(v,"network-request-failed"))},timeout:Yy.get()})}if(null===(A=null===(w=En().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)g(gapi.iframes.getContext());else{if(!(null===(P=En().gapi)||void 0===P?void 0:P.load)){const me=Rs("iframefcb");return En()[me]=()=>{gapi.load?K():_(we(v,"network-request-failed"))},yi(`https://apis.google.com/js/api.js?onload=${me}`).catch(Be=>_(Be))}K()}}).catch(g=>{throw Ic=null,g})}(v),Ic}const Zo=new cn(5e3,15e3),Ky={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qy(v){const g=v.config;$(g.authDomain,v,"auth-domain-config-required");const _=g.emulator?zn(g,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:v.name,v:de.SDK_VERSION},A=Bl.get(v.config.apiHost);A&&(w.eid=A);const P=v._getFrameworks();return P.length&&(w.fw=P.join(",")),`${_}?${(0,B.xO)(w).slice(1)}`}function La(){return La=(0,l.Z)(function*(v){const g=yield Wo(v),_=En().gapi;return $(_,v,"internal-error"),g.open({where:document.body,url:Qy(v),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ky,dontclear:!0},w=>new Promise(function(){var A=(0,l.Z)(function*(P,K){yield w.restyle({setHideOnLeave:!1});const me=we(v,"network-request-failed"),Be=En().setTimeout(()=>{K(me)},Zo.get());function Xe(){En().clearTimeout(Be),P(w)}w.ping(Xe).then(Xe,()=>{K(me)})});return function(P,K){return A.apply(this,arguments)}}()))}),La.apply(this,arguments)}const ff={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jg{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Ns(v,g,_,w,A,P){$(v.config.authDomain,v,"auth-domain-config-required"),$(v.config.apiKey,v,"invalid-api-key");const K={apiKey:v.config.apiKey,appName:v.name,authType:_,redirectUrl:w,v:de.SDK_VERSION,eventId:A};if(g instanceof ji){g.setDefaultLanguage(v.languageCode),K.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(K.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Be,Xe]of Object.entries(P||{}))K[Be]=Xe}if(g instanceof Ro){const Be=g.getScopes().filter(Xe=>""!==Xe);Be.length>0&&(K.scopes=Be.join(","))}v.tenantId&&(K.tid=v.tenantId);const me=K;for(const Be of Object.keys(me))void 0===me[Be]&&delete me[Be];return`${function Ac({config:v}){return v.emulator?zn(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,B.xO)(me).slice(1)}`}const Ru="webStorageSupport";class ku extends class ev{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return Ee("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ku(g)}_finalizeEnroll(g,_,w){return function Fo(v,g){return jt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Xt(v,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function Uo(v,g){return jt(v,"POST","/v2/accounts/mfaSignIn:finalize",Xt(v,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let em=(()=>{class v{constructor(){}static assertion(_){return ku._fromCredential(_)}}return v.FACTOR_ID="phone",v})();var tm="@firebase/auth";class im{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{var A;g((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Fs(){return window}function Vl(){return(Vl=(0,l.Z)(function*(v,g,_){var w;const{BuildInfo:A}=Fs();Q(g.sessionId,"AuthEvent did not contain a session ID");const P=yield yf(g.sessionId),K={};return hr()?K.ibi=A.packageName:Qi()?K.apn=A.packageName:Ae(v,"operation-not-supported-in-this-environment"),A.displayName&&(K.appDisplayName=A.displayName),K.sessionId=P,Ns(v,_,g.type,void 0,null!==(w=g.eventId)&&void 0!==w?w:void 0,K)})).apply(this,arguments)}function Hd(){return(Hd=(0,l.Z)(function*(v){const{BuildInfo:g}=Fs(),_={};hr()?_.iosBundleId=g.packageName:Qi()?_.androidPackageName=g.packageName:Ae(v,"operation-not-supported-in-this-environment"),yield Zg(v,_)})).apply(this,arguments)}function om(){return(om=(0,l.Z)(function*(v,g,_){const{cordova:w}=Fs();let A=()=>{};try{yield new Promise((P,K)=>{let me=null;function Be(){var _t;P();const jn=null===(_t=w.plugins.browsertab)||void 0===_t?void 0:_t.close;"function"==typeof jn&&jn(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Xe(){me||(me=window.setTimeout(()=>{K(we(v,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}g.addPassiveListener(Be),document.addEventListener("resume",Xe,!1),Qi()&&document.addEventListener("visibilitychange",Ct,!1),A=()=>{g.removePassiveListener(Be),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",Ct,!1),me&&window.clearTimeout(me)}})}finally{A()}})).apply(this,arguments)}function yf(v){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,l.Z)(function*(v){const g=vf(v),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vf(v){if(Q(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const g=new ArrayBuffer(v.length),_=new Uint8Array(g);for(let w=0;w<v.length;w++)_[w]=v.charCodeAt(w);return _}!function dC(v){(0,de._registerComponent)(new ne.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),A=g.getProvider("heartbeat"),{apiKey:P,authDomain:K}=w.options;return((me,Be)=>{$(P&&!P.includes(":"),"invalid-api-key",{appName:me.name}),$(!(null==K?void 0:K.includes(":")),"argument-error",{appName:me.name});const Xe={apiKey:P,authDomain:K,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ha(v)},Ct=new Qe(me,Be,Xe);return function he(v,g){const _=(null==g?void 0:g.persistence)||[],w=(Array.isArray(_)?_:[_]).map(ie);(null==g?void 0:g.errorMap)&&v._updateErrorMap(g.errorMap),v._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(Ct,_),Ct})(w,A)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new ne.wA("auth-internal",g=>{const _=ft(g.getProvider("auth").getImmediate());return new im(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(tm,"0.20.2",function Ud(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,de.registerVersion)(tm,"0.20.2","esm2017")}("Browser");class Gd extends Tc{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.Z)(function*(){yield g.initPromise})()}}function Rc(v){return Pu.apply(this,arguments)}function Pu(){return(Pu=(0,l.Z)(function*(v){const g=yield Hl()._get(zd(v));return g&&(yield Hl()._remove(zd(v))),g})).apply(this,arguments)}function bf(){const v=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const w=Math.floor(Math.random()*g.length);v.push(g.charAt(w))}return v.join("")}function Hl(){return ie(pt)}function zd(v){return ri("authEvent",v.config.apiKey,v.name)}function Yt(v){if(!(null==v?void 0:v.includes("?")))return{};const[g,..._]=v.split("?");return(0,B.zd)(_.join("?"))}function Oc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:we("no-auth-event")}}function Ba(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function cm(v=(0,B.z$)()){return!("file:"!==Ba()&&"ionic:"!==Ba()&&"capacitor:"!==Ba()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Df(){try{const v=self.localStorage,g=fs();if(v)return v.setItem(g,"1"),v.removeItem(g),!function Ef(v=(0,B.z$)()){return function nr(){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)}()||function jl(v=(0,B.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,B.hl)()}catch(v){return xi()&&(0,B.hl)()}return!1}function xi(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gl(){return(function av(){return"http:"===Ba()||"https:"===Ba()}()||(0,B.ru)()||cm())&&!function Va(){return(0,B.b$)()||(0,B.UG)()}()&&Df()&&!xi()}function $d(){return cm()&&"undefined"!=typeof document}function Nu(){return(Nu=(0,l.Z)(function*(){return!!$d()&&new Promise(v=>{const g=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),v(!0)})})})).apply(this,arguments)}const Ar={LOCAL:"local",NONE:"none",SESSION:"session"},Qo=$,dm="persistence";function Pc(v){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,l.Z)(function*(v){yield v._initializationPromise;const g=fm(),_=ri(dm,v.config.apiKey,v.name);g&&g.setItem(_,v._getPersistence())})).apply(this,arguments)}function fm(){var v;try{return(null===(v=function um(){return"undefined"!=typeof window?window:null}())||void 0===v?void 0:v.sessionStorage)||null}catch(g){return null}}const cv=$;class Mr{constructor(){this.browserResolver=ie(class Xg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=en,this._completeRedirectFn=Ps,this._overrideRedirectResult=Ne}_openPopup(g,_,w,A){var P=this;return(0,l.Z)(function*(){var K;Q(null===(K=P.eventManagers[g._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const me=Ns(g,_,w,Fe(),A);return function xu(v,g,_,w=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),K=Math.max((window.screen.availWidth-w)/2,0).toString();let me="";const Be=Object.assign(Object.assign({},ff),{width:w.toString(),height:A.toString(),top:P,left:K}),Xe=(0,B.z$)().toLowerCase();_&&(me=fl(Xe)?"_blank":_),hl(Xe)&&(g=g||"http://localhost",Be.scrollbars="yes");const Ct=Object.entries(Be).reduce((jn,[Rr,Lu])=>`${jn}${Rr}=${Lu},`,"");if(function Mo(v=(0,B.z$)()){var g;return hr(v)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Xe)&&"_self"!==me)return function Jy(v,g){const _=document.createElement("a");_.href=v,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",me),new Jg(null);const _t=window.open(g||"",me,Ct);$(_t,v,"popup-blocked");try{_t.focus()}catch(jn){}return new Jg(_t)}(g,me,fs())})()}_openRedirect(g,_,w,A){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(g),function xl(v){En().location.href=v}(Ns(g,_,w,Fe(),A)),new Promise(()=>{})})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:A,promise:P}=this.eventManagers[_];return A?Promise.resolve(A):(Q(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w.catch(()=>{delete this.eventManagers[_]}),w}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const w=yield function Bd(v){return La.apply(this,arguments)}(g),A=new Tc(g);return w.register("authEvent",P=>($(null==P?void 0:P.authEvent,g,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:A},_.iframes[g._key()]=w,A})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Ru,{type:Ru},A=>{var P;const K=null===(P=null==A?void 0:A[0])||void 0===P?void 0:P[Ru];void 0!==K&&_(!!K),Ae(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function Zy(v){return Yg.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return io()||sc()||hr()}}),this.cordovaResolver=ie(class lm{constructor(){this._redirectPersistence=en,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ps,this._overrideRedirectResult=Ne}_initialize(g){var _=this;return(0,l.Z)(function*(){const w=g._key();let A=_.eventManagers.get(w);return A||(A=new Gd(g),_.eventManagers.set(w,A),_.attachCallbackListeners(g,A)),A})()}_openPopup(g){Ae(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,w,A){var P=this;return(0,l.Z)(function*(){!function Mc(v){var g,_,w,A,P,K,me,Be,Xe,Ct;const _t=Fs();$("function"==typeof(null===(g=null==_t?void 0:_t.universalLinks)||void 0===g?void 0:g.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),$(void 0!==(null===(_=null==_t?void 0:_t.BuildInfo)||void 0===_?void 0:_.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),$("function"==typeof(null===(P=null===(A=null===(w=null==_t?void 0:_t.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(Be=null===(me=null===(K=null==_t?void 0:_t.cordova)||void 0===K?void 0:K.plugins)||void 0===me?void 0:me.browsertab)||void 0===Be?void 0:Be.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),$("function"==typeof(null===(Ct=null===(Xe=null==_t?void 0:_t.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===Ct?void 0:Ct.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const K=yield P._initialize(g);yield K.initialized(),K.resetRedirect(),function ue(){Mi.clear()}(),yield P._originValidation(g);const me=function xc(v,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:bf(),postBody:null,tenantId:v.tenantId,error:we(v,"no-auth-event")}}(g,w,A);yield function tv(v,g){return Hl()._set(zd(v),g)}(g,me);const Be=yield function Ls(v,g,_){return Vl.apply(this,arguments)}(g,me,_),Xe=yield function jd(v){const{cordova:g}=Fs();return new Promise(_=>{g.plugins.browsertab.isAvailable(w=>{let A=null;w?g.plugins.browsertab.openUrl(v):A=g.InAppBrowser.open(v,function md(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),_(A)})})}(Be);return function Ul(v,g,_){return om.apply(this,arguments)}(g,K,Xe)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function sm(v){return Hd.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:w,handleOpenURL:A,BuildInfo:P}=Fs(),K=setTimeout((0,l.Z)(function*(){yield Rc(g),_.onEvent(Oc())}),500),me=function(){var Ct=(0,l.Z)(function*(_t){clearTimeout(K);const jn=yield Rc(g);let Rr=null;jn&&(null==_t?void 0:_t.url)&&(Rr=function nv(v,g){var _,w;const A=function Cf(v){const g=Yt(v),_=g.link?decodeURIComponent(g.link):void 0,w=Yt(_).link,A=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Yt(A).link||A||w||_||v}(g);if(A.includes("/__/auth/callback")){const P=Yt(A),K=P.firebaseError?function wf(v){try{return JSON.parse(v)}catch(g){return null}}(decodeURIComponent(P.firebaseError)):null,me=null===(w=null===(_=null==K?void 0:K.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],Be=me?we(me):null;return Be?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:Be,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(jn,_t.url)),_.onEvent(Rr||Oc())});return function(jn){return Ct.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,me);const Be=A,Xe=`${P.packageName.toLowerCase()}://`;Fs().handleOpenURL=function(){var Ct=(0,l.Z)(function*(_t){if(_t.toLowerCase().startsWith(Xe)&&me({url:_t}),"function"==typeof Be)try{Be(_t)}catch(jn){console.error(jn)}});return function(_t){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=en,this._completeRedirectFn=Ps,this._overrideRedirectResult=Ne}_initialize(g){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,w,A){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(g,_,w,A)})()}_openRedirect(g,_,w,A){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(g,_,w,A)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return $d()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.Z)(function*(){if(g.underlyingResolver)return;const _=yield function lv(){return Nu.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function pm(v){return v.unwrap()}function qd(v){return gm(v)}function gm(v){const{_tokenResponse:g}=v instanceof B.ZR?v.customData:v;if(!g)return null;if(!(v instanceof B.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Cc.credentialFromResult(v);const _=g.providerId;if(!_||"password"===_)return null;let w;switch(_){case"google.com":w=Td;break;case"facebook.com":w=ga;break;case"github.com":w=nf;break;case"twitter.com":w=Sd;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:K,pendingToken:me,nonce:Be}=g;return P||K||A||me?me?_.startsWith("saml.")?ko._create(_,me):Ss._fromParams({providerId:_,signInMethod:_,pendingToken:me,idToken:A,accessToken:P}):new as(_).credential({idToken:A,accessToken:P,rawNonce:Be}):null}return v instanceof B.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function xr(v,g){return g.catch(_=>{throw _ instanceof B.ZR&&function dv(v,g){var _;const w=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new mm(v,function mi(v,g){var _;const w=(0,B.m9)(v),A=g;return $(g.customData.operationType,w,"argument-error"),$(null===(_=A.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Sa._fromError(w,A)}(v,g));else if(w){const A=gm(g),P=g;A&&(P.credential=A,P.tenantId=w.tenantId||void 0,P.email=w.email||void 0,P.phoneNumber=w.phoneNumber||void 0)}}(v,_),_}).then(_=>{const A=_.user;return{operationType:_.operationType,credential:qd(_),additionalUserInfo:hs(_),user:vo.getOrCreate(A)}})}function Sf(v,g){return If.apply(this,arguments)}function If(){return(If=(0,l.Z)(function*(v,g){const _=yield g;return{verificationId:_.verificationId,confirm:w=>xr(v,_.confirm(w))}})).apply(this,arguments)}class mm{constructor(g,_){this.resolver=_,this.auth=function uv(v){return v.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return xr(pm(this.auth),this.resolver.resolveSignIn(g))}}class vo{constructor(g){this._delegate=g,this.multiFactor=function Lo(v){const g=(0,B.m9)(v);return _c.has(g)||_c.set(g,kd._fromUser(g)),_c.get(g)}(g)}static getOrCreate(g){return vo.USER_MAP.has(g)||vo.USER_MAP.set(g,new vo(g)),vo.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,l.Z)(function*(){return xr(_.auth,Si(_._delegate,g))})()}linkWithPhoneNumber(g,_){var w=this;return(0,l.Z)(function*(){return Sf(w.auth,function $g(v,g,_){return Ol.apply(this,arguments)}(w._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,l.Z)(function*(){return xr(_.auth,function cf(v,g,_){return Pl.apply(this,arguments)}(_._delegate,g,Mr))})()}linkWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield Pc(ft(_.auth)),function Nl(v,g,_){return function ms(v,g,_){return _s.apply(this,arguments)}(v,g,_)}(_._delegate,g,Mr)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,l.Z)(function*(){return xr(_.auth,Is(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return Sf(this.auth,function er(v,g,_){return tr.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return xr(this.auth,function Ai(v,g,_){return Ec.apply(this,arguments)}(this._delegate,g,Mr))}reauthenticateWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield Pc(ft(_.auth)),function Zt(v,g,_){return function ai(v,g,_){return _r.apply(this,arguments)}(v,g,_)}(_._delegate,g,Mr)})()}sendEmailVerification(g){return function mu(v,g){return pc.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,l.Z)(function*(){return yield function rf(v,g){return mn.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function Ug(v,g){return Ea((0,B.m9)(v),g,null)}(this._delegate,g)}updatePassword(g){return function vu(v,g){return Ea((0,B.m9)(v),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function Go(v,g){return Oa.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function yu(v,g){return Il.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function _u(v,g,_){return gc.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}vo.USER_MAP=new WeakMap;const Fu=$;let _m=(()=>{class v{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=_.options;Fu(A,"invalid-api-key",{appName:_.name}),Fu(A,"invalid-api-key",{appName:_.name});const P="undefined"!=typeof window?Mr:void 0;this._delegate=w.initialize({options:{persistence:hv(A,_.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?vo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function pr(v,g,_){const w=ft(v);$(w._canInitEmulator,w,"emulator-config-failed"),$(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const A=!!(null==_?void 0:_.disableWarnings),P=ns(g),{host:K,port:me}=function Xn(v){const g=ns(v),_=/(\/\/)?([^?#/]+)/.exec(v.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const P=A[1];return{host:P,port:is(w.substr(P.length+1))}}{const[P,K]=w.split(":");return{host:P,port:is(K)}}}(g);w.config.emulator={url:`${P}//${K}${null===me?"":`:${me}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:K,port:me,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function Tn(){function v(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,_,w)}applyActionCode(_){return function Me(v,g){return Lt.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return dc(this._delegate,_)}confirmPasswordReset(_,w){return function fu(v,g,_){return pu.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var A=this;return(0,l.Z)(function*(){return xr(A._delegate,function Sr(v,g,_){return El.apply(this,arguments)}(A._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function uo(v,g){return jr.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function Dl(v,g){const _=lc.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){Fu(Gl(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function Na(v,g){return $o.apply(this,arguments)}(_._delegate,Mr);return w?xr(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function iv(v,g){ft(v)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,w,A){const{next:P,error:K,complete:me}=ym(_,w,A);return this._delegate.onAuthStateChanged(P,K,me)}onIdTokenChanged(_,w,A){const{next:P,error:K,complete:me}=ym(_,w,A);return this._delegate.onIdTokenChanged(P,K,me)}sendSignInLinkToEmail(_,w){return function Vg(v,g,_){return hc.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function hu(v,g,_){return Cl.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,l.Z)(function*(){let A;switch(function hm(v,g){Qo(Object.values(Ar).includes(g),v,"invalid-persistence-type"),(0,B.b$)()?Qo(g!==Ar.SESSION,v,"unsupported-persistence-type"):(0,B.UG)()?Qo(g===Ar.NONE,v,"unsupported-persistence-type"):xi()?Qo(g===Ar.NONE||g===Ar.LOCAL&&(0,B.hl)(),v,"unsupported-persistence-type"):Qo(g===Ar.NONE||Df(),v,"unsupported-persistence-type")}(w._delegate,_),_){case Ar.SESSION:A=en;break;case Ar.LOCAL:A=(yield ie(_i)._isAvailable())?_i:pt;break;case Ar.NONE:A=Dt;break;default:return Ae("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return xr(this._delegate,function Id(v){return cu.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return xr(this._delegate,Pn(this._delegate,_))}signInWithCustomToken(_){return xr(this._delegate,function va(v,g){return vt.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return xr(this._delegate,function gu(v,g,_){return Pn((0,B.m9)(v),Dd.credential(g,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return xr(this._delegate,function fc(v,g,_){return Zn.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return Sf(this._delegate,function wc(v,g,_){return jo.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,l.Z)(function*(){return Fu(Gl(),w._delegate,"operation-not-supported-in-this-environment"),xr(w._delegate,function yo(v,g,_){return Su.apply(this,arguments)}(w._delegate,_,Mr))})()}signInWithRedirect(_){var w=this;return(0,l.Z)(function*(){return Fu(Gl(),w._delegate,"operation-not-supported-in-this-environment"),yield Pc(w._delegate),function bt(v,g,_){return function Nt(v,g,_){return qe.apply(this,arguments)}(v,g,_)}(w._delegate,_,Mr)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function wa(v,g){return No.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Ar,v})();function ym(v,g,_){let w=v;"function"!=typeof v&&({next:w,error:g,complete:_}=v);const A=w;return{next:K=>A(K&&vo.getOrCreate(K)),error:g,complete:_}}function hv(v,g){const _=function zl(v,g){const _=fm();if(!_)return[];const w=ri(dm,v,g);switch(_.getItem(w)){case Ar.NONE:return[Dt];case Ar.LOCAL:return[_i,en];case Ar.SESSION:return[en];default:return[]}}(v,g);if("undefined"!=typeof self&&!_.includes(_i)&&_.push(_i),"undefined"!=typeof window)for(const w of[pt,en])_.includes(w)||_.push(w);return _.includes(Dt)||_.push(Dt),_}class Af{constructor(){this.providerId="phone",this._delegate=new Cc(pm(ee.Z.auth()))}static credential(g,_){return Cc.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Af.PHONE_SIGN_IN_METHOD=Cc.PHONE_SIGN_IN_METHOD,Af.PROVIDER_ID=Cc.PROVIDER_ID;const vm=$;class fC{constructor(g,_,w=ee.Z.app()){var A;vm(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Ho(g,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Bs(v){v.INTERNAL.registerComponent(new ne.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),w=g.getProvider("auth");return new _m(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Dd,FacebookAuthProvider:ga,GithubAuthProvider:nf,GoogleAuthProvider:Td,OAuthProvider:as,SAMLAuthProvider:Ji,PhoneAuthProvider:Af,PhoneMultiFactorGenerator:em,RecaptchaVerifier:fC,TwitterAuthProvider:Sd,Auth:_m,AuthCredential:Ur,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.15")}(ee.Z)},8306:(et,ve,F)=>{F.d(ve,{y:()=>G});var l=F(930),ee=F(727),B=F(8822),de=F(4671);var ne=F(2416),oe=F(576),ce=F(2806);let G=(()=>{class xe{constructor(He){He&&(this._subscribe=He)}lift(He){const pe=new xe;return pe.source=this,pe.operator=He,pe}subscribe(He,pe,Ie){const Ke=function Ye(xe){return xe&&xe instanceof l.Lv||function re(xe){return xe&&(0,oe.m)(xe.next)&&(0,oe.m)(xe.error)&&(0,oe.m)(xe.complete)}(xe)&&(0,ee.Nn)(xe)}(He)?He:new l.Hp(He,pe,Ie);return(0,ce.x)(()=>{const{operator:tt,source:Ae}=this;Ke.add(tt?tt.call(Ke,Ae):Ae?this._subscribe(Ke):this._trySubscribe(Ke))}),Ke}_trySubscribe(He){try{return this._subscribe(He)}catch(pe){He.error(pe)}}forEach(He,pe){return new(pe=z(pe))((Ie,Ke)=>{const tt=new l.Hp({next:Ae=>{try{He(Ae)}catch(we){Ke(we),tt.unsubscribe()}},error:Ke,complete:Ie});this.subscribe(tt)})}_subscribe(He){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(He)}[B.L](){return this}pipe(...He){return function ge(xe){return 0===xe.length?de.y:1===xe.length?xe[0]:function(He){return xe.reduce((pe,Ie)=>Ie(pe),He)}}(He)(this)}toPromise(He){return new(He=z(He))((pe,Ie)=>{let Ke;this.subscribe(tt=>Ke=tt,tt=>Ie(tt),()=>pe(Ke))})}}return xe.create=Pe=>new xe(Pe),xe})();function z(xe){var Pe;return null!==(Pe=null!=xe?xe:ne.v.Promise)&&void 0!==Pe?Pe:Promise}},7579:(et,ve,F)=>{F.d(ve,{x:()=>ne});var l=F(8306),ee=F(727);const de=(0,F(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),ge=F(2806);let ne=(()=>{class ce extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const re=new oe(this,this);return re.operator=z,re}_throwIfClosed(){if(this.closed)throw new de}next(z){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(z)}})}error(z){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:re}=this;for(;re.length;)re.shift().error(z)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:re,isStopped:Ye,observers:xe}=this;return re||Ye?ee.Lc:(this.currentObservers=null,xe.push(z),new ee.w0(()=>{this.currentObservers=null,(0,se.P)(xe,z)}))}_checkFinalizedStatuses(z){const{hasError:re,thrownError:Ye,isStopped:xe}=this;re?z.error(Ye):xe&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return ce.create=(G,z)=>new oe(G,z),ce})();class oe extends ne{constructor(G,z){super(),this.destination=G,this.source=z}next(G){var z,re;null===(re=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===re||re.call(z,G)}error(G){var z,re;null===(re=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===re||re.call(z,G)}complete(){var G,z;null===(z=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===z||z.call(G)}_subscribe(G){var z,re;return null!==(re=null===(z=this.source)||void 0===z?void 0:z.subscribe(G))&&void 0!==re?re:ee.Lc}}},930:(et,ve,F)=>{F.d(ve,{Hp:()=>He,Lv:()=>re});var l=F(576),ee=F(727),B=F(2416),de=F(7849),se=F(5032);const ge=ce("C",void 0,void 0);function ce(Ae,we,De){return{kind:Ae,value:we,error:De}}var G=F(3410),z=F(2806);class re extends ee.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,ee.Nn)(we)&&we.add(this)):this.destination=tt}static create(we,De,Ge){return new He(we,De,Ge)}next(we){this.isStopped?Ke(function oe(Ae){return ce("N",Ae,void 0)}(we),this):this._next(we)}error(we){this.isStopped?Ke(function ne(Ae){return ce("E",void 0,Ae)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?Ke(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function xe(Ae,we){return Ye.call(Ae,we)}class Pe{constructor(we){this.partialObserver=we}next(we){const{partialObserver:De}=this;if(De.next)try{De.next(we)}catch(Ge){pe(Ge)}}error(we){const{partialObserver:De}=this;if(De.error)try{De.error(we)}catch(Ge){pe(Ge)}else pe(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(De){pe(De)}}}class He extends re{constructor(we,De,Ge){let ze;if(super(),(0,l.m)(we)||!we)ze={next:null!=we?we:void 0,error:null!=De?De:void 0,complete:null!=Ge?Ge:void 0};else{let $;this&&B.v.useDeprecatedNextContext?($=Object.create(we),$.unsubscribe=()=>this.unsubscribe(),ze={next:we.next&&xe(we.next,$),error:we.error&&xe(we.error,$),complete:we.complete&&xe(we.complete,$)}):ze=we}this.destination=new Pe(ze)}}function pe(Ae){B.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ae):(0,de.h)(Ae)}function Ke(Ae,we){const{onStoppedNotification:De}=B.v;De&&G.z.setTimeout(()=>De(Ae,we))}const tt={closed:!0,next:se.Z,error:function Ie(Ae){throw Ae},complete:se.Z}},727:(et,ve,F)=>{F.d(ve,{Lc:()=>ge,w0:()=>se,Nn:()=>ne});var l=F(576);const B=(0,F(3888).d)(ce=>function(z){ce(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((re,Ye)=>`${Ye+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var de=F(8737);class se{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const xe of z)xe.remove(this);else z.remove(this);const{initialTeardown:re}=this;if((0,l.m)(re))try{re()}catch(xe){G=xe instanceof B?xe.errors:[xe]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const xe of Ye)try{oe(xe)}catch(Pe){G=null!=G?G:[],Pe instanceof B?G=[...G,...Pe.errors]:G.push(Pe)}}if(G)throw new B(G)}}add(G){var z;if(G&&G!==this)if(this.closed)oe(G);else{if(G instanceof se){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(G)}}_hasParent(G){const{_parentage:z}=this;return z===G||Array.isArray(z)&&z.includes(G)}_addParent(G){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(G),z):z?[z,G]:G}_removeParent(G){const{_parentage:z}=this;z===G?this._parentage=null:Array.isArray(z)&&(0,de.P)(z,G)}remove(G){const{_finalizers:z}=this;z&&(0,de.P)(z,G),G instanceof se&&G._removeParent(this)}}se.EMPTY=(()=>{const ce=new se;return ce.closed=!0,ce})();const ge=se.EMPTY;function ne(ce){return ce instanceof se||ce&&"closed"in ce&&(0,l.m)(ce.remove)&&(0,l.m)(ce.add)&&(0,l.m)(ce.unsubscribe)}function oe(ce){(0,l.m)(ce)?ce():ce.unsubscribe()}},2416:(et,ve,F)=>{F.d(ve,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,ve,F)=>{F.d(ve,{E:()=>ee});const ee=new(F(8306).y)(se=>se.complete())},8996:(et,ve,F)=>{F.d(ve,{D:()=>we});var l=F(8421),ee=F(5363),B=F(9468),ge=F(8306),oe=F(2202),ce=F(576),G=F(9672);function re(De,Ge){if(!De)throw new Error("Iterable cannot be null");return new ge.y(ze=>{(0,G.f)(ze,Ge,()=>{const $=De[Symbol.asyncIterator]();(0,G.f)(ze,Ge,()=>{$.next().then(Ee=>{Ee.done?ze.complete():ze.next(Ee.value)})},0,!0)})})}var Ye=F(3670),xe=F(8239),Pe=F(1144),He=F(6495),pe=F(2206),Ie=F(4532),Ke=F(3260);function we(De,Ge){return Ge?function Ae(De,Ge){if(null!=De){if((0,Ye.c)(De))return function de(De,Ge){return(0,l.Xf)(De).pipe((0,B.R)(Ge),(0,ee.Q)(Ge))}(De,Ge);if((0,Pe.z)(De))return function ne(De,Ge){return new ge.y(ze=>{let $=0;return Ge.schedule(function(){$===De.length?ze.complete():(ze.next(De[$++]),ze.closed||this.schedule())})})}(De,Ge);if((0,xe.t)(De))return function se(De,Ge){return(0,l.Xf)(De).pipe((0,B.R)(Ge),(0,ee.Q)(Ge))}(De,Ge);if((0,pe.D)(De))return re(De,Ge);if((0,He.T)(De))return function z(De,Ge){return new ge.y(ze=>{let $;return(0,G.f)(ze,Ge,()=>{$=De[oe.h](),(0,G.f)(ze,Ge,()=>{let Ee,Q;try{({value:Ee,done:Q}=$.next())}catch(le){return void ze.error(le)}Q?ze.complete():ze.next(Ee)},0,!0)}),()=>(0,ce.m)(null==$?void 0:$.return)&&$.return()})}(De,Ge);if((0,Ke.L)(De))return function tt(De,Ge){return re((0,Ke.Q)(De),Ge)}(De,Ge)}throw(0,Ie.z)(De)}(De,Ge):(0,l.Xf)(De)}},8421:(et,ve,F)=>{F.d(ve,{Xf:()=>Ye});var l=F(655),ee=F(1144),B=F(8239),de=F(8306),se=F(3670),ge=F(2206),ne=F(4532),oe=F(6495),ce=F(3260),G=F(576),z=F(7849),re=F(8822);function Ye(Ae){if(Ae instanceof de.y)return Ae;if(null!=Ae){if((0,se.c)(Ae))return function xe(Ae){return new de.y(we=>{const De=Ae[re.L]();if((0,G.m)(De.subscribe))return De.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ee.z)(Ae))return function Pe(Ae){return new de.y(we=>{for(let De=0;De<Ae.length&&!we.closed;De++)we.next(Ae[De]);we.complete()})}(Ae);if((0,B.t)(Ae))return function He(Ae){return new de.y(we=>{Ae.then(De=>{we.closed||(we.next(De),we.complete())},De=>we.error(De)).then(null,z.h)})}(Ae);if((0,ge.D)(Ae))return Ie(Ae);if((0,oe.T)(Ae))return function pe(Ae){return new de.y(we=>{for(const De of Ae)if(we.next(De),we.closed)return;we.complete()})}(Ae);if((0,ce.L)(Ae))return function Ke(Ae){return Ie((0,ce.Q)(Ae))}(Ae)}throw(0,ne.z)(Ae)}function Ie(Ae){return new de.y(we=>{(function tt(Ae,we){var De,Ge,ze,$;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Ae);!(Ge=yield De.next()).done;)if(we.next(Ge.value),we.closed)return}catch(Ee){ze={error:Ee}}finally{try{Ge&&!Ge.done&&($=De.return)&&(yield $.call(De))}finally{if(ze)throw ze.error}}we.complete()})})(Ae,we).catch(De=>we.error(De))})}},6451:(et,ve,F)=>{F.d(ve,{T:()=>ge});var l=F(8189),ee=F(8421),B=F(515),de=F(3269),se=F(8996);function ge(...ne){const oe=(0,de.yG)(ne),ce=(0,de._6)(ne,1/0),G=ne;return G.length?1===G.length?(0,ee.Xf)(G[0]):(0,l.J)(ce)((0,se.D)(G,oe)):B.E}},5403:(et,ve,F)=>{F.d(ve,{x:()=>ee});var l=F(930);function ee(de,se,ge,ne,oe){return new B(de,se,ge,ne,oe)}class B extends l.Lv{constructor(se,ge,ne,oe,ce,G){super(se),this.onFinalize=ce,this.shouldUnsubscribe=G,this._next=ge?function(z){try{ge(z)}catch(re){se.error(re)}}:super._next,this._error=oe?function(z){try{oe(z)}catch(re){se.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=ne?function(){try{ne()}catch(z){se.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(et,ve,F)=>{F.d(ve,{U:()=>B});var l=F(4482),ee=F(5403);function B(de,se){return(0,l.e)((ge,ne)=>{let oe=0;ge.subscribe((0,ee.x)(ne,ce=>{ne.next(de.call(se,ce,oe++))}))})}},8189:(et,ve,F)=>{F.d(ve,{J:()=>B});var l=F(5577),ee=F(4671);function B(de=1/0){return(0,l.z)(ee.y,de)}},5577:(et,ve,F)=>{F.d(ve,{z:()=>oe});var l=F(4004),ee=F(8421),B=F(4482),de=F(9672),se=F(5403),ne=F(576);function oe(ce,G,z=1/0){return(0,ne.m)(G)?oe((re,Ye)=>(0,l.U)((xe,Pe)=>G(re,xe,Ye,Pe))((0,ee.Xf)(ce(re,Ye))),z):("number"==typeof G&&(z=G),(0,B.e)((re,Ye)=>function ge(ce,G,z,re,Ye,xe,Pe,He){const pe=[];let Ie=0,Ke=0,tt=!1;const Ae=()=>{tt&&!pe.length&&!Ie&&G.complete()},we=Ge=>Ie<re?De(Ge):pe.push(Ge),De=Ge=>{xe&&G.next(Ge),Ie++;let ze=!1;(0,ee.Xf)(z(Ge,Ke++)).subscribe((0,se.x)(G,$=>{null==Ye||Ye($),xe?we($):G.next($)},()=>{ze=!0},void 0,()=>{if(ze)try{for(Ie--;pe.length&&Ie<re;){const $=pe.shift();Pe?(0,de.f)(G,Pe,()=>De($)):De($)}Ae()}catch($){G.error($)}}))};return ce.subscribe((0,se.x)(G,we,()=>{tt=!0,Ae()})),()=>{null==He||He()}}(re,Ye,ce,z)))}},5363:(et,ve,F)=>{F.d(ve,{Q:()=>de});var l=F(9672),ee=F(4482),B=F(5403);function de(se,ge=0){return(0,ee.e)((ne,oe)=>{ne.subscribe((0,B.x)(oe,ce=>(0,l.f)(oe,se,()=>oe.next(ce),ge),()=>(0,l.f)(oe,se,()=>oe.complete(),ge),ce=>(0,l.f)(oe,se,()=>oe.error(ce),ge)))})}},3099:(et,ve,F)=>{F.d(ve,{B:()=>ge});var l=F(8996),ee=F(5698),B=F(7579),de=F(930),se=F(4482);function ge(oe={}){const{connector:ce=(()=>new B.x),resetOnError:G=!0,resetOnComplete:z=!0,resetOnRefCountZero:re=!0}=oe;return Ye=>{let xe=null,Pe=null,He=null,pe=0,Ie=!1,Ke=!1;const tt=()=>{null==Pe||Pe.unsubscribe(),Pe=null},Ae=()=>{tt(),xe=He=null,Ie=Ke=!1},we=()=>{const De=xe;Ae(),null==De||De.unsubscribe()};return(0,se.e)((De,Ge)=>{pe++,!Ke&&!Ie&&tt();const ze=He=null!=He?He:ce();Ge.add(()=>{pe--,0===pe&&!Ke&&!Ie&&(Pe=ne(we,re))}),ze.subscribe(Ge),xe||(xe=new de.Hp({next:$=>ze.next($),error:$=>{Ke=!0,tt(),Pe=ne(Ae,G,$),ze.error($)},complete:()=>{Ie=!0,tt(),Pe=ne(Ae,z),ze.complete()}}),(0,l.D)(De).subscribe(xe))})(Ye)}}function ne(oe,ce,...G){return!0===ce?(oe(),null):!1===ce?null:ce(...G).pipe((0,ee.q)(1)).subscribe(()=>oe())}},9468:(et,ve,F)=>{F.d(ve,{R:()=>ee});var l=F(4482);function ee(B,de=0){return(0,l.e)((se,ge)=>{ge.add(B.schedule(()=>se.subscribe(ge),de))})}},5698:(et,ve,F)=>{F.d(ve,{q:()=>de});var l=F(515),ee=F(4482),B=F(5403);function de(se){return se<=0?()=>l.E:(0,ee.e)((ge,ne)=>{let oe=0;ge.subscribe((0,B.x)(ne,ce=>{++oe<=se&&(ne.next(ce),se<=oe&&ne.complete())}))})}},8505:(et,ve,F)=>{F.d(ve,{b:()=>se});var l=F(576),ee=F(4482),B=F(5403),de=F(4671);function se(ge,ne,oe){const ce=(0,l.m)(ge)||ne||oe?{next:ge,error:ne,complete:oe}:ge;return ce?(0,ee.e)((G,z)=>{var re;null===(re=ce.subscribe)||void 0===re||re.call(ce);let Ye=!0;G.subscribe((0,B.x)(z,xe=>{var Pe;null===(Pe=ce.next)||void 0===Pe||Pe.call(ce,xe),z.next(xe)},()=>{var xe;Ye=!1,null===(xe=ce.complete)||void 0===xe||xe.call(ce),z.complete()},xe=>{var Pe;Ye=!1,null===(Pe=ce.error)||void 0===Pe||Pe.call(ce,xe),z.error(xe)},()=>{var xe,Pe;Ye&&(null===(xe=ce.unsubscribe)||void 0===xe||xe.call(ce)),null===(Pe=ce.finalize)||void 0===Pe||Pe.call(ce)}))}):de.y}},4408:(et,ve,F)=>{F.d(ve,{o:()=>se});var l=F(727);class ee extends l.w0{constructor(ne,oe){super()}schedule(ne,oe=0){return this}}const B={setInterval(ge,ne,...oe){const{delegate:ce}=B;return(null==ce?void 0:ce.setInterval)?ce.setInterval(ge,ne,...oe):setInterval(ge,ne,...oe)},clearInterval(ge){const{delegate:ne}=B;return((null==ne?void 0:ne.clearInterval)||clearInterval)(ge)},delegate:void 0};var de=F(8737);class se extends ee{constructor(ne,oe){super(ne,oe),this.scheduler=ne,this.work=oe,this.pending=!1}schedule(ne,oe=0){if(this.closed)return this;this.state=ne;const ce=this.id,G=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(G,ce,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(G,this.id,oe),this}requestAsyncId(ne,oe,ce=0){return B.setInterval(ne.flush.bind(ne,this),ce)}recycleAsyncId(ne,oe,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return oe;B.clearInterval(oe)}execute(ne,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(ne,oe);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ne,oe){let G,ce=!1;try{this.work(ne)}catch(z){ce=!0,G=z||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:ne,scheduler:oe}=this,{actions:ce}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(ce,this),null!=ne&&(this.id=this.recycleAsyncId(oe,ne,null)),this.delay=null,super.unsubscribe()}}}},7565:(et,ve,F)=>{F.d(ve,{v:()=>B});var l=F(6063);class ee{constructor(se,ge=ee.now){this.schedulerActionCtor=se,this.now=ge}schedule(se,ge=0,ne){return new this.schedulerActionCtor(this,se).schedule(ne,ge)}}ee.now=l.l.now;class B extends ee{constructor(se,ge=ee.now){super(se,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(se){const{actions:ge}=this;if(this._active)return void ge.push(se);let ne;this._active=!0;do{if(ne=se.execute(se.state,se.delay))break}while(se=ge.shift());if(this._active=!1,ne){for(;se=ge.shift();)se.unsubscribe();throw ne}}}},4986:(et,ve,F)=>{F.d(ve,{z:()=>B,P:()=>de});var l=F(4408);const B=new(F(7565).v)(l.o),de=B},6063:(et,ve,F)=>{F.d(ve,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},233:(et,ve,F)=>{F.d(ve,{N:()=>se});var l=F(4408),B=F(7565);const se=new class de extends B.v{}(class ee extends l.o{constructor(oe,ce){super(oe,ce),this.scheduler=oe,this.work=ce}schedule(oe,ce=0){return ce>0?super.schedule(oe,ce):(this.delay=ce,this.state=oe,this.scheduler.flush(this),this)}execute(oe,ce){return ce>0||this.closed?super.execute(oe,ce):this._execute(oe,ce)}requestAsyncId(oe,ce,G=0){return null!=G&&G>0||null==G&&this.delay>0?super.requestAsyncId(oe,ce,G):oe.flush(this)}})},3410:(et,ve,F)=>{F.d(ve,{z:()=>l});const l={setTimeout(ee,B,...de){const{delegate:se}=l;return(null==se?void 0:se.setTimeout)?se.setTimeout(ee,B,...de):setTimeout(ee,B,...de)},clearTimeout(ee){const{delegate:B}=l;return((null==B?void 0:B.clearTimeout)||clearTimeout)(ee)},delegate:void 0}},2202:(et,ve,F)=>{F.d(ve,{h:()=>ee});const ee=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,ve,F)=>{F.d(ve,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(et,ve,F)=>{F.d(ve,{jO:()=>de,yG:()=>se,_6:()=>ge});var l=F(576),ee=F(3532);function B(ne){return ne[ne.length-1]}function de(ne){return(0,l.m)(B(ne))?ne.pop():void 0}function se(ne){return(0,ee.K)(B(ne))?ne.pop():void 0}function ge(ne,oe){return"number"==typeof B(ne)?ne.pop():oe}},8737:(et,ve,F)=>{function l(ee,B){if(ee){const de=ee.indexOf(B);0<=de&&ee.splice(de,1)}}F.d(ve,{P:()=>l})},3888:(et,ve,F)=>{function l(ee){const de=ee(se=>{Error.call(se),se.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}F.d(ve,{d:()=>l})},2806:(et,ve,F)=>{F.d(ve,{x:()=>B,O:()=>de});var l=F(2416);let ee=null;function B(se){if(l.v.useDeprecatedSynchronousErrorHandling){const ge=!ee;if(ge&&(ee={errorThrown:!1,error:null}),se(),ge){const{errorThrown:ne,error:oe}=ee;if(ee=null,ne)throw oe}}else se()}function de(se){l.v.useDeprecatedSynchronousErrorHandling&&ee&&(ee.errorThrown=!0,ee.error=se)}},9672:(et,ve,F)=>{function l(ee,B,de,se=0,ge=!1){const ne=B.schedule(function(){de(),ge?ee.add(this.schedule(null,se)):this.unsubscribe()},se);if(ee.add(ne),!ge)return ne}F.d(ve,{f:()=>l})},4671:(et,ve,F)=>{function l(ee){return ee}F.d(ve,{y:()=>l})},1144:(et,ve,F)=>{F.d(ve,{z:()=>l});const l=ee=>ee&&"number"==typeof ee.length&&"function"!=typeof ee},2206:(et,ve,F)=>{F.d(ve,{D:()=>ee});var l=F(576);function ee(B){return Symbol.asyncIterator&&(0,l.m)(null==B?void 0:B[Symbol.asyncIterator])}},576:(et,ve,F)=>{function l(ee){return"function"==typeof ee}F.d(ve,{m:()=>l})},3670:(et,ve,F)=>{F.d(ve,{c:()=>B});var l=F(8822),ee=F(576);function B(de){return(0,ee.m)(de[l.L])}},6495:(et,ve,F)=>{F.d(ve,{T:()=>B});var l=F(2202),ee=F(576);function B(de){return(0,ee.m)(null==de?void 0:de[l.h])}},8239:(et,ve,F)=>{F.d(ve,{t:()=>ee});var l=F(576);function ee(B){return(0,l.m)(null==B?void 0:B.then)}},3260:(et,ve,F)=>{F.d(ve,{Q:()=>B,L:()=>de});var l=F(655),ee=F(576);function B(se){return(0,l.FC)(this,arguments,function*(){const ne=se.getReader();try{for(;;){const{value:oe,done:ce}=yield(0,l.qq)(ne.read());if(ce)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(oe)}}finally{ne.releaseLock()}})}function de(se){return(0,ee.m)(null==se?void 0:se.getReader)}},3532:(et,ve,F)=>{F.d(ve,{K:()=>ee});var l=F(576);function ee(B){return B&&(0,l.m)(B.schedule)}},4482:(et,ve,F)=>{F.d(ve,{A:()=>ee,e:()=>B});var l=F(576);function ee(de){return(0,l.m)(null==de?void 0:de.lift)}function B(de){return se=>{if(ee(se))return se.lift(function(ge){try{return de(ge,this)}catch(ne){this.error(ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(et,ve,F)=>{function l(){}F.d(ve,{Z:()=>l})},7849:(et,ve,F)=>{F.d(ve,{h:()=>B});var l=F(2416),ee=F(3410);function B(de){ee.z.setTimeout(()=>{const{onUnhandledError:se}=l.v;if(!se)throw de;se(de)})}},4532:(et,ve,F)=>{function l(ee){return new TypeError(`You provided ${null!==ee&&"object"==typeof ee?"an invalid object":`'${ee}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(ve,{z:()=>l})},655:(et,ve,F)=>{function de(Q,le){var ie={};for(var ye in Q)Object.prototype.hasOwnProperty.call(Q,ye)&&le.indexOf(ye)<0&&(ie[ye]=Q[ye]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(ye=Object.getOwnPropertySymbols(Q);he<ye.length;he++)le.indexOf(ye[he])<0&&Object.prototype.propertyIsEnumerable.call(Q,ye[he])&&(ie[ye[he]]=Q[ye[he]])}return ie}function oe(Q,le,ie,ye){return new(ie||(ie=Promise))(function(Fe,mt){function qt(cn){try{nt(ye.next(cn))}catch(zn){mt(zn)}}function Ht(cn){try{nt(ye.throw(cn))}catch(zn){mt(zn)}}function nt(cn){cn.done?Fe(cn.value):function he(Fe){return Fe instanceof ie?Fe:new ie(function(mt){mt(Fe)})}(cn.value).then(qt,Ht)}nt((ye=ye.apply(Q,le||[])).next())})}function pe(Q){return this instanceof pe?(this.v=Q,this):new pe(Q)}function Ie(Q,le,ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ye=ie.apply(Q,le||[]),Fe=[];return he={},mt("next"),mt("throw"),mt("return"),he[Symbol.asyncIterator]=function(){return this},he;function mt(pn){ye[pn]&&(he[pn]=function(rn){return new Promise(function(Zi,Xt){Fe.push([pn,rn,Zi,Xt])>1||qt(pn,rn)})})}function qt(pn,rn){try{!function Ht(pn){pn.value instanceof pe?Promise.resolve(pn.value.v).then(nt,cn):zn(Fe[0][2],pn)}(ye[pn](rn))}catch(Zi){zn(Fe[0][3],Zi)}}function nt(pn){qt("next",pn)}function cn(pn){qt("throw",pn)}function zn(pn,rn){pn(rn),Fe.shift(),Fe.length&&qt(Fe[0][0],Fe[0][1])}}function tt(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ie,le=Q[Symbol.asyncIterator];return le?le.call(Q):(Q=function re(Q){var le="function"==typeof Symbol&&Symbol.iterator,ie=le&&Q[le],ye=0;if(ie)return ie.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ye>=Q.length&&(Q=void 0),{value:Q&&Q[ye++],done:!Q}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),ie={},ye("next"),ye("throw"),ye("return"),ie[Symbol.asyncIterator]=function(){return this},ie);function ye(Fe){ie[Fe]=Q[Fe]&&function(mt){return new Promise(function(qt,Ht){!function he(Fe,mt,qt,Ht){Promise.resolve(Ht).then(function(nt){Fe({value:nt,done:qt})},mt)}(qt,Ht,(mt=Q[Fe](mt)).done,mt.value)})}}}F.d(ve,{_T:()=>de,mG:()=>oe,qq:()=>pe,FC:()=>Ie,KL:()=>tt})},5e3:(et,ve,F)=>{F.d(ve,{deG:()=>Gg,tb:()=>TT,AFp:()=>wT,ip1:()=>Sp,CZH:()=>Ip,hGG:()=>dw,z2F:()=>ow,sBO:()=>wR,Sil:()=>hR,_Vd:()=>c_,EJc:()=>dR,SBq:()=>pp,qLn:()=>qd,vpe:()=>sa,tBr:()=>Ps,XFs:()=>wt,OlP:()=>Rn,zs3:()=>Ga,ZZ4:()=>$T,aQg:()=>qT,soG:()=>x_,YKP:()=>Fx,h0i:()=>mp,PXZ:()=>RT,R0b:()=>Co,FiY:()=>Fa,Lbi:()=>DT,g9A:()=>ET,n_E:()=>_h,Qsj:()=>Rx,FYo:()=>VD,JOm:()=>A,q3G:()=>Yt,tp0:()=>Fl,Rgc:()=>yh,dDg:()=>Jb,q4F:()=>HD,GfV:()=>Lb,s_b:()=>__,ifc:()=>Wt,eFA:()=>kT,G48:()=>bR,Gpc:()=>z,f3M:()=>_r,X6Q:()=>vR,_c5:()=>uw,VLi:()=>Mp,c2e:()=>kr,zSh:()=>nE,wAp:()=>gt,vHH:()=>Pe,EiD:()=>zd,mCW:()=>Fs,qzn:()=>Ns,JVY:()=>Ru,pB0:()=>ku,eBb:()=>mf,L6k:()=>Xg,LAX:()=>ev,cg1:()=>rp,kL8:()=>aD,yhl:()=>Ac,dqk:()=>$t,sIi:()=>Fm,CqO:()=>AE,QGY:()=>Gm,F4k:()=>IE,RDi:()=>uu,AaK:()=>oe,z3N:()=>Ko,qOj:()=>lE,TTD:()=>as,_Bn:()=>Ku,xp6:()=>Pf,uIk:()=>Lm,Gre:()=>KE,ekj:()=>ub,Suo:()=>cT,Xpm:()=>yt,lG2:()=>sc,Yz7:()=>rn,cJS:()=>Xt,oAB:()=>Ki,Yjl:()=>fl,Y36:()=>lh,_UZ:()=>TE,GkF:()=>SE,BQk:()=>eb,ynx:()=>Xv,qZA:()=>jm,TgZ:()=>Hm,EpF:()=>tb,n5z:()=>vc,Ikx:()=>ip,LFG:()=>Zt,$8M:()=>Fn,$Z:()=>Kv,NdJ:()=>zm,CRH:()=>Xa,kcU:()=>$y,O4$:()=>zy,oxw:()=>$m,ALo:()=>zx,lcZ:()=>$x,Hsn:()=>Qf,F$t:()=>RE,Q6J:()=>Qv,MGl:()=>ib,DdM:()=>Lx,VKq:()=>Bx,iGM:()=>aT,MAs:()=>fE,CHM:()=>dc,LSH:()=>kc,Udp:()=>cb,WFA:()=>Hc,d8E:()=>dh,YNc:()=>Hv,_uU:()=>jE,Oqu:()=>hb,hij:()=>Ym,Gf:()=>lT});var l=F(7579),ee=F(727),B=F(8306),de=F(6451),se=F(3099);function ge(o){for(let a in o)if(o[a]===ge)return a;throw Error("Could not find renamed property on target object.")}function ne(o,a){for(const u in a)a.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=a[u])}function oe(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(oe).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function ce(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const G=ge({__forward_ref__:ge});function z(o){return o.__forward_ref__=z,o.toString=function(){return oe(this())},o}function re(o){return Ye(o)?o():o}function Ye(o){return"function"==typeof o&&o.hasOwnProperty(G)&&o.__forward_ref__===z}class Pe extends Error{constructor(a,u){super(function He(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,u)),this.code=a}}function pe(o){return"string"==typeof o?o:null==o?"":String(o)}function Ie(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():pe(o)}function we(o,a){const u=a?` in ${a}`:"";throw new Pe(-201,`No provider for ${Ie(o)} found${u}`)}function Ht(o,a){null==o&&function nt(o,a,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function rn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Xt(o){return{providers:o.providers||[],imports:o.imports||[]}}function jt(o){return es(o,ts)||es(o,ur)}function es(o,a){return o.hasOwnProperty(a)?o[a]:null}function Yi(o){return o&&(o.hasOwnProperty(to)||o.hasOwnProperty(Vr))?o[to]:null}const ts=ge({\u0275prov:ge}),to=ge({\u0275inj:ge}),ur=ge({ngInjectableDef:ge}),Vr=ge({ngInjectorDef:ge});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let wr;function $n(o){const a=wr;return wr=o,a}function no(o,a,u){const h=jt(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&wt.Optional?null:void 0!==a?a:void we(oe(o),"Injector")}function fi(o){return{toString:o}.toString()}var qn=(()=>((qn=qn||{})[qn.OnPush=0]="OnPush",qn[qn.Default=1]="Default",qn))(),Wt=(()=>{return(o=Wt||(Wt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Wt;var o})();const ut="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,Li="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$t=ut||"undefined"!=typeof global&&global||Et||Li,Vi={},H=[],W=ge({\u0275cmp:ge}),Y=ge({\u0275dir:ge}),Se=ge({\u0275pipe:ge}),q=ge({\u0275mod:ge}),te=ge({\u0275fac:ge}),ke=ge({__NG_ELEMENT_ID__:ge});let rt=0;function yt(o){return fi(()=>{const u={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||H,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Wt.Emulated,id:"c",styles:o.styles||H,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,m=o.features,b=o.pipes;return h.id+=rt++,h.inputs=hl(o.inputs,u),h.outputs=hl(o.outputs),m&&m.forEach(E=>E(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(Dn):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(Dt):null,h})}function Dn(o){return si(o)||function Qi(o){return o[Y]||null}(o)}function Dt(o){return function Ts(o){return o[Se]||null}(o)}const ri={};function Ki(o){return fi(()=>{const a={type:o.type,bootstrap:o.bootstrap||H,declarations:o.declarations||H,imports:o.imports||H,exports:o.exports||H,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ri[o.id]=o.type),a})}function hl(o,a){if(null==o)return Vi;const u={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,a&&(a[f]=m)}return u}const sc=yt;function fl(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function si(o){return o[W]||null}function oi(o,a){const u=o[q]||null;if(!u&&!0===a)throw new Error(`Type ${oe(o)} does not have '\u0275mod' property.`);return u}function Ui(o){return Array.isArray(o)&&"object"==typeof o[1]}function Dr(o){return Array.isArray(o)&&!0===o[1]}function ml(o){return 0!=(8&o.flags)}function _d(o){return 2==(2&o.flags)}function ss(o){return 1==(1&o.flags)}function os(o){return null!==o.template}function ou(o){return 0!=(512&o[2])}function ji(o,a){return o.hasOwnProperty(te)?o[te]:null}class Ro{constructor(a,u,h){this.previousValue=a,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function as(){return ga}function ga(o){return o.type.prototype.ngOnChanges&&(o.setInput=nf),Td}function Td(){const o=ko(this),a=null==o?void 0:o.current;if(a){const u=o.previous;if(u===Vi)o.previous=a;else for(let h in a)u[h]=a[h];o.current=null,this.ngOnChanges(a)}}function nf(o,a,u,h){const f=ko(o)||function ma(o,a){return o[lo]=a}(o,{previous:Vi,current:null}),m=f.current||(f.current={}),b=f.previous,E=this.declaredInputs[u],T=b[E];m[E]=new Ro(T&&T.currentValue,a,b===Vi),o[h]=a}as.ngInherit=!0;const lo="__ngSimpleChanges__";function ko(o){return o[lo]||null}let ya;function uu(o){ya=o}function mn(o){return!!o.listen}const yl={createRenderer:(o,a)=>function ls(){return void 0!==ya?ya:"undefined"!=typeof document?document:void 0}()};function on(o){for(;Array.isArray(o);)o=o[0];return o}function co(o,a){return on(a[o])}function Ti(o,a){return on(a[o.index])}function Pn(o,a){return o.data[a]}function cs(o,a){return o[a]}function Si(o,a){const u=a[o];return Ui(u)?u:u[0]}function Po(o){return 4==(4&o[2])}function Is(o){return 128==(128&o[2])}function Hr(o,a){return null==a?null:o[a]}function us(o){o[18]=0}function va(o,a){o[5]+=a;let u=o,h=o[3];for(;null!==h&&(1===a&&1===u[5]||-1===a&&0===u[5]);)h[5]+=a,u=h,h=h[3]}const vt={lFrame:Ad(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Cl(){return vt.bindingsEnabled}function Me(){return vt.lFrame.lView}function Lt(){return vt.lFrame.tView}function dc(o){return vt.lFrame.contextLView=o,o[8]}function Sn(){let o=wa();for(;null!==o&&64===o.type;)o=o.parent;return o}function wa(){return vt.lFrame.currentTNode}function Sr(o,a){const u=vt.lFrame;u.currentTNode=o,u.isParent=a}function El(){return vt.lFrame.isParent}function gu(){vt.lFrame.isParent=!1}function Dl(){return vt.isInCheckNoChangesMode}function fc(o){vt.isInCheckNoChangesMode=o}function Zn(){const o=vt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function uo(){return vt.lFrame.bindingIndex++}function jr(o){const a=vt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,u}function _u(o,a){const u=vt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Sl(a)}function Sl(o){vt.lFrame.currentDirectiveIndex=o}function Ca(o){const a=vt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function yu(){return vt.lFrame.currentQueryIndex}function Il(o){vt.lFrame.currentQueryIndex=o}function Ug(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function vu(o,a,u){if(u&wt.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||u&wt.Host||(f=Ug(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;a=f,o=m}const h=vt.lFrame=Al();return h.currentTNode=a,h.lView=o,!0}function Ea(o){const a=Al(),u=o[1];vt.lFrame=a,a.currentTNode=u.firstChild,a.lView=o,a.tView=u,a.contextLView=o,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Al(){const o=vt.lFrame,a=null===o?null:o.child;return null===a?Ad(o):a}function Ad(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function Da(){const o=vt.lFrame;return vt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Md=Da;function Ta(){const o=Da();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function gi(){return vt.lFrame.selectedIndex}function hs(o){vt.lFrame.selectedIndex=o}function Hn(){const o=vt.lFrame;return Pn(o.tView,o.selectedIndex)}function zy(){vt.lFrame.currentNamespace="svg"}function $y(){!function qy(){vt.lFrame.currentNamespace=null}()}function Rd(o,a){for(let u=a.directiveStart,h=a.directiveEnd;u<h;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:M,ngOnDestroy:R}=m;b&&(o.contentHooks||(o.contentHooks=[])).push(-u,b),E&&((o.contentHooks||(o.contentHooks=[])).push(u,E),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,E)),T&&(o.viewHooks||(o.viewHooks=[])).push(-u,T),M&&((o.viewHooks||(o.viewHooks=[])).push(u,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,M)),null!=R&&(o.destroyHooks||(o.destroyHooks=[])).push(u,R)}}function Ml(o,a,u){mi(o,a,3,u)}function Ms(o,a,u,h){(3&o[2])===u&&mi(o,a,u,h)}function Sa(o,a){let u=o[2];(3&u)===a&&(u&=2047,u+=1,o[2]=u)}function mi(o,a,u,h){const m=null!=h?h:-1,b=a.length-1;let E=0;for(let T=void 0!==h?65535&o[18]:0;T<b;T++)if("number"==typeof a[T+1]){if(E=a[T],null!=h&&E>=h)break}else a[T]<0&&(o[18]+=65536),(E<m||-1==m)&&(lf(o,u,a,T),o[18]=(4294901760&o[18])+T+2),T++}function lf(o,a,u,h){const f=u[h]<0,m=u[h+1],E=o[f?-u[h]:u[h]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class mc{constructor(a,u,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Ze(o,a,u){const h=mn(o);let f=0;for(;f<u.length;){const m=u[f];if("number"==typeof m){if(0!==m)break;f++;const b=u[f++],E=u[f++],T=u[f++];h?o.setAttribute(a,E,T,b):a.setAttributeNS(b,E,T)}else{const b=m,E=u[++f];Yn(b)?h&&o.setProperty(a,b,E):h?o.setAttribute(a,b,E):a.setAttribute(b,E),f++}}return f}function pt(o){return 3===o||4===o||6===o}function Yn(o){return 64===o.charCodeAt(0)}function en(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let u=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?u=f:0===u||wu(o,u,f,null,-1===u||2===u?a[++h]:null)}}return o}function wu(o,a,u,h,f){let m=0,b=o.length;if(-1===a)b=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===a){b=-1;break}if(E>a){b=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===u){if(null===h)return void(null!==f&&(o[m+1]=f));if(h===o[m+1])return void(o[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==b&&(o.splice(b,0,a),m=b+1),o.splice(m++,0,u),null!==h&&o.splice(m++,0,h),null!==f&&o.splice(m++,0,f)}function Od(o){return-1!==o}function fs(o){return 32767&o}function En(o,a){let u=function Cu(o){return o>>16}(o),h=a;for(;u>0;)h=h[15],u--;return h}let xl=!0;function Ir(o){const a=xl;return xl=o,a}let Eu=0;function un(o,a){const u=ps(o,a);if(-1!==u)return u;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,Aa(h.data,o),Aa(a,null),Aa(h.blueprint,null));const f=fo(o,a),m=o.injectorIndex;if(Od(f)){const b=fs(f),E=En(f,a),T=E[1].data;for(let M=0;M<8;M++)a[m+M]=E[b+M]|T[b+M]}return a[m+8]=f,m}function Aa(o,a){o.push(0,0,0,0,0,0,0,0,a)}function ps(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function fo(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,f=a;for(;null!==f;){const m=f[1],b=m.type;if(h=2===b?m.declTNode:1===b?f[6]:null,null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Ii(o,a,u){!function Du(o,a,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(ke)&&(h=u[ke]),null==h&&(h=u[ke]=Eu++);const f=255&h;a.data[o+(f>>5)]|=1<<f}(o,a,u)}function xs(o,a,u){if(u&wt.Optional)return o;we(a,"NodeInjector")}function Ma(o,a,u,h){if(u&wt.Optional&&void 0===h&&(h=null),0==(u&(wt.Self|wt.Host))){const f=o[9],m=$n(void 0);try{return f?f.get(a,h,u&wt.Optional):no(a,h,u&wt.Optional)}finally{$n(m)}}return xs(h,a,u)}function po(o,a,u,h=wt.Default,f){if(null!==o){const m=function Ra(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(ke)?o[ke]:void 0;return"number"==typeof a?a>=0?255&a:Bo:a}(u);if("function"==typeof m){if(!vu(a,o,h))return h&wt.Host?xs(f,u,h):Ma(a,u,h,f);try{const b=m(h);if(null!=b||h&wt.Optional)return b;we(u)}finally{Md()}}else if("number"==typeof m){let b=null,E=ps(o,a),T=-1,M=h&wt.Host?a[16][6]:null;for((-1===E||h&wt.SkipSelf)&&(T=-1===E?fo(o,a):a[E+8],-1!==T&&Nn(h,!1)?(b=a[1],E=fs(T),a=En(T,a)):E=-1);-1!==E;){const R=a[1];if(_i(m,E,R.data)){const V=Vo(E,a,u,b,h,M);if(V!==xa)return V}T=a[E+8],-1!==T&&Nn(h,a[1].data[E+8]===M)&&_i(m,E,a)?(b=R,E=fs(T),a=En(T,a)):E=-1}}}return Ma(a,u,h,f)}const xa={};function Bo(){return new Uo(Sn(),Me())}function Vo(o,a,u,h,f,m){const b=a[1],E=b.data[o+8],R=gs(E,b,u,null==h?_d(E)&&xl:h!=b&&0!=(3&E.type),f&wt.Host&&m===E);return null!==R?go(a,b,R,E):xa}function gs(o,a,u,h,f){const m=o.providerIndexes,b=a.data,E=1048575&m,T=o.directiveStart,R=m>>20,j=f?E+R:o.directiveEnd;for(let X=h?E:E+R;X<j;X++){const be=b[X];if(X<T&&u===be||X>=T&&be.type===u)return X}if(f){const X=b[T];if(X&&os(X)&&X.type===u)return T}return null}function go(o,a,u,h){let f=o[u];const m=a.data;if(function kd(o){return o instanceof mc}(f)){const b=f;b.resolving&&function Ke(o,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${o}${u}`)}(Ie(m[u]));const E=Ir(b.canSeeViewProviders);b.resolving=!0;const T=b.injectImpl?$n(b.injectImpl):null;vu(o,h,wt.Default);try{f=o[u]=b.factory(void 0,m,o,h),a.firstCreatePass&&u>=h.directiveStart&&function Hg(o,a,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(h){const b=ga(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,b)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],a)}finally{null!==T&&$n(T),Ir(E),b.resolving=!1,Md()}}return f}function _i(o,a,u){return!!(u[a+(o>>5)]&1<<o)}function Nn(o,a){return!(o&wt.Self||o&wt.Host&&a)}class Uo{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,h){return po(this._tNode,this._lView,a,h,u)}}function vc(o){return fi(()=>{const a=o.prototype.constructor,u=a[te]||In(a),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const m=f[te]||In(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function In(o){return Ye(o)?()=>{const a=In(re(o));return a&&a()}:ji(o)}function Fn(o){return function gr(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const u=o.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if(pt(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===a)return u[f+1];f+=2}}}return null}(Sn(),o)}const Rs="__parameters__";function Bn(o,a,u){return fi(()=>{const h=function Xi(o){return function(...u){if(o){const h=o(...u);for(const f in h)this[f]=h[f]}}}(a);function f(...m){if(this instanceof f)return h.apply(this,m),this;const b=new f(...m);return E.annotation=b,E;function E(T,M,R){const V=T.hasOwnProperty(Rs)?T[Rs]:Object.defineProperty(T,Rs,{value:[]})[Rs];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(b),T}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Rn{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=rn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gg=new Rn("AnalyzeForEntryComponents");function er(o,a){void 0===a&&(a=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(a===o&&(a=o.slice(0,u)),er(h,a)):a!==o&&a.push(h)}return a}function tr(o,a){o.forEach(u=>Array.isArray(u)?tr(u,a):a(u))}function _o(o,a,u){a>=o.length?o.push(u):o.splice(a,0,u)}function ks(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Go(o,a){const u=[];for(let h=0;h<o;h++)u.push(a);return u}function kn(o,a,u){let h=Os(o,a);return h>=0?o[1|h]=u:(h=~h,function Pa(o,a,u,h){let f=o.length;if(f==a)o.push(u,h);else if(1===f)o.push(h,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=u,o[a+1]=h}}(o,h,a,u)),h}function zo(o,a){const u=Os(o,a);if(u>=0)return o[1|u]}function Os(o,a){return function yo(o,a,u){let h=0,f=o.length>>u;for(;f!==h;){const m=h+(f-h>>1),b=o[m<<u];if(a===b)return m<<u;b>a?f=m:h=m+1}return~(f<<u)}(o,a,1)}const I={},k="__NG_DI_FLAG__",U="ngTempTokenPath",ue=/\n/gm,ot="__source",Tt=ge({provide:String,useValue:ge});let bt;function Nt(o){const a=bt;return bt=o,a}function qe(o,a=wt.Default){if(void 0===bt)throw new Pe(203,"");return null===bt?no(o,void 0,a):bt.get(o,a&wt.Optional?null:void 0,a)}function Zt(o,a=wt.Default){return(function Un(){return wr}()||qe)(re(o),a)}const _r=Zt;function Nl(o){const a=[];for(let u=0;u<o.length;u++){const h=re(o[u]);if(Array.isArray(h)){if(0===h.length)throw new Pe(900,"");let f,m=wt.Default;for(let b=0;b<h.length;b++){const E=h[b],T=_s(E);"number"==typeof T?-1===T?f=E.token:m|=T:f=E}a.push(Zt(f,m))}else a.push(Zt(h))}return a}function ms(o,a){return o[k]=a,o.prototype[k]=a,o}function _s(o){return o[k]}const Ps=ms(Bn("Inject",o=>({token:o})),-1),Fa=ms(Bn("Optional"),8),Fl=ms(Bn("SkipSelf"),4);let Zo;function Ll(o){var a;return(null===(a=function Ld(){if(void 0===Zo&&(Zo=null,$t.trustedTypes))try{Zo=$t.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Zo}())||void 0===a?void 0:a.createHTML(o))||o}class Yo{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class gf extends Yo{getTypeName(){return"HTML"}}class Jg extends Yo{getTypeName(){return"Style"}}class xu extends Yo{getTypeName(){return"Script"}}class Jy extends Yo{getTypeName(){return"URL"}}class Xy extends Yo{getTypeName(){return"ResourceURL"}}function Ko(o){return o instanceof Yo?o.changingThisBreaksApplicationSecurity:o}function Ns(o,a){const u=Ac(o);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function Ac(o){return o instanceof Yo&&o.getTypeName()||null}function Ru(o){return new gf(o)}function Xg(o){return new Jg(o)}function mf(o){return new xu(o)}function ev(o){return new Jy(o)}function ku(o){return new Xy(o)}class tm{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(Ll(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class nm{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ll(a),u;const h=this.inertDocument.createElement("body");return h.innerHTML=Ll(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const u=a.attributes;for(let f=u.length-1;0<f;f--){const b=u.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Ud=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rm=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Fs(o){return(o=String(o)).match(Ud)||o.match(rm)?o:"unsafe:"+o}function Ls(o){const a={};for(const u of o.split(","))a[u]=!0;return a}function Vl(...o){const a={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(a[h]=!0);return a}const sm=Ls("area,br,col,hr,img,wbr"),Hd=Ls("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jd=Ls("rp,rt"),yf=Vl(sm,Vl(Hd,Ls("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Vl(jd,Ls("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vl(jd,Hd)),Ou=Ls("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vf=Ls("srcset"),xc=Vl(Ou,vf,Ls("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ls("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tv=Ls("script,style,template");class Rc{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!yf.hasOwnProperty(u))return this.sanitizedSomething=!0,!tv.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=a.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),b=m.name,E=b.toLowerCase();if(!xc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=m.value;Ou[E]&&(T=Fs(T)),vf[E]&&(o=T,T=(o=String(o)).split(",").map(a=>Fs(a.trim())).join(", ")),this.buf.push(" ",b,'="',bf(T),'"')}var o;return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();yf.hasOwnProperty(u)&&!sm.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(bf(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const Pu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nv=/([^\#-~ |!])/g;function bf(o){return o.replace(/&/g,"&amp;").replace(Pu,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(nv,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hl;function zd(o,a){let u=null;try{Hl=Hl||function em(o){const a=new nm(o);return function im(){try{return!!(new window.DOMParser).parseFromString(Ll(""),"text/html")}catch(o){return!1}}()?new tm(a):a}(o);let h=a?String(a):"";u=Hl.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=u.innerHTML,u=Hl.getInertBodyElement(h)}while(h!==m);return Ll((new Rc).sanitizeChildren(wf(u)||u))}finally{if(u){const h=wf(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function wf(o){return"content"in o&&function Cf(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Yt=(()=>((Yt=Yt||{})[Yt.NONE=0]="NONE",Yt[Yt.HTML=1]="HTML",Yt[Yt.STYLE=2]="STYLE",Yt[Yt.SCRIPT=3]="SCRIPT",Yt[Yt.URL=4]="URL",Yt[Yt.RESOURCE_URL=5]="RESOURCE_URL",Yt))();function kc(o){const a=function Va(){const o=Me();return o&&o[12]}();return a?a.sanitize(Yt.URL,o)||"":Ns(o,"URL")?Ko(o):Fs(pe(o))}const Df="__ngContext__";function xi(o,a){o[Df]=a}function $d(o){const a=function Gl(o){return o[Df]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Mr(o){return o.ngOriginalError}function uv(o,...a){o.error(...a)}class qd{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),h=function pm(o){return o&&o.ngErrorLogger||uv}(a);h(this._console,"ERROR",a),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Mr(a);for(;u&&Mr(u);)u=Mr(u);return u||null}}const hv=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($t))();function Bs(o){return o instanceof Function?o():o}var A=(()=>((A=A||{})[A.Important=1]="Important",A[A.DashCase=2]="DashCase",A))();function K(o,a){return undefined(o,a)}function Xe(o){const a=o[3];return Dr(a)?a[3]:a}function jn(o){return Lu(o[13])}function Rr(o){return Lu(o[4])}function Lu(o){for(;null!==o&&!Dr(o);)o=o[4];return o}function Ua(o,a,u,h,f){if(null!=h){let m,b=!1;Dr(h)?m=h:Ui(h)&&(b=!0,h=h[0]);const E=on(h);0===o&&null!==u?null==f?_v(a,u,E):Vs(a,u,E,f||null,!0):1===o&&null!==u?Vs(a,u,E,f||null,!0):2===o?function wv(o,a,u){const h=kf(o,a);h&&function OA(o,a,u,h){mn(o)?o.removeChild(a,u,h):a.removeChild(u)}(o,h,a,u)}(a,E,b):3===o&&a.destroyNode(E),null!=m&&function CC(o,a,u,h,f){const m=u[7];m!==on(u)&&Ua(a,o,h,m,f);for(let E=10;E<u.length;E++){const T=u[E];Cm(T[1],T,o,a,h,m)}}(a,o,m,u,f)}}function Yd(o,a,u){if(mn(o))return o.createElement(a,u);{const h=null!==u?function cu(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?o.createElement(a):o.createElementNS(h,a)}}function pC(o,a){const u=o[9],h=u.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,va(f,-1)),u.splice(h,1)}function pv(o,a){if(o.length<=10)return;const u=10+a,h=o[u];if(h){const f=h[17];null!==f&&f!==o&&pC(f,h),a>0&&(o[u-1][4]=h[4]);const m=ks(o,10+a);!function li(o,a){Cm(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const b=m[19];null!==b&&b.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function gv(o,a){if(!(256&a[2])){const u=a[11];mn(u)&&u.destroyNode&&Cm(o,a,u,3,null,null),function Kd(o){let a=o[13];if(!a)return mv(o[1],o);for(;a;){let u=null;if(Ui(a))u=a[13];else{const h=a[10];h&&(u=h)}if(!u){for(;a&&!a[4]&&a!==o;)Ui(a)&&mv(a[1],a),a=a[3];null===a&&(a=o),Ui(a)&&mv(a[1],a),u=a&&a[4]}a=u}}(a)}}function mv(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function mC(o,a){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const f=a[u[h]];if(!(f instanceof mc)){const m=u[h+1];if(Array.isArray(m))for(let b=0;b<m.length;b+=2){const E=f[m[b]],T=m[b+1];try{T.call(E)}finally{}}else try{m.call(f)}finally{}}}}(o,a),function gC(o,a){const u=o.cleanup,h=a[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const b=u[m+1],E="function"==typeof b?b(a):on(a[b]),T=h[f=u[m+2]],M=u[m+3];"boolean"==typeof M?E.removeEventListener(u[m],T,M):M>=0?h[f=M]():h[f=-M].unsubscribe(),m+=2}else{const b=h[f=u[m+1]];u[m].call(b)}if(null!==h){for(let m=f+1;m<h.length;m++)h[m]();a[7]=null}}(o,a),1===a[1].type&&mn(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&Dr(a[3])){u!==a[3]&&pC(u,a);const h=a[19];null!==h&&h.detachView(o)}}}function bm(o,a,u){return function kA(o,a,u){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return u[0];if(2&h.flags){const f=o.data[h.directiveStart].encapsulation;if(f===Wt.None||f===Wt.Emulated)return null}return Ti(h,u)}(o,a.parent,u)}function Vs(o,a,u,h,f){mn(o)?o.insertBefore(a,u,h,f):a.insertBefore(u,h,f)}function _v(o,a,u){mn(o)?o.appendChild(a,u):a.appendChild(u)}function _C(o,a,u,h,f){null!==h?Vs(o,a,u,h,f):_v(o,a,u)}function kf(o,a){return mn(o)?o.parentNode(a):a.parentNode}function yC(o,a,u){return yv(o,a,u)}let yv=function vC(o,a,u){return 40&o.type?Ti(o,u):null};function wm(o,a,u,h){const f=bm(o,h,a),m=a[11],E=yC(h.parent||a[6],h,a);if(null!=f)if(Array.isArray(u))for(let T=0;T<u.length;T++)_C(m,f,u[T],E,!1);else _C(m,f,u,E,!1)}function Qd(o,a){if(null!==a){const u=a.type;if(3&u)return Ti(a,o);if(4&u)return bv(-1,o[a.index]);if(8&u){const h=a.child;if(null!==h)return Qd(o,h);{const f=o[a.index];return Dr(f)?bv(-1,f):on(f)}}if(32&u)return K(a,o)()||on(o[a.index]);{const h=wC(o,a);return null!==h?Array.isArray(h)?h[0]:Qd(Xe(o[16]),h):Qd(o,a.next)}}return null}function wC(o,a){return null!==a?o[16][6].projection[a.projection]:null}function bv(o,a){const u=10+o+1;if(u<a.length){const h=a[u],f=h[1].firstChild;if(null!==f)return Qd(h,f)}return a[7]}function Cv(o,a,u,h,f,m,b){for(;null!=u;){const E=h[u.index],T=u.type;if(b&&0===a&&(E&&xi(on(E),h),u.flags|=4),64!=(64&u.flags))if(8&T)Cv(o,a,u.child,h,f,m,!1),Ua(a,o,f,E,m);else if(32&T){const M=K(u,h);let R;for(;R=M();)Ua(a,o,f,R,m);Ua(a,o,f,E,m)}else 16&T?ja(o,a,h,u,f,m):Ua(a,o,f,E,m);u=b?u.projectionNext:u.next}}function Cm(o,a,u,h,f,m){Cv(u,h,o.firstChild,a,f,m,!1)}function ja(o,a,u,h,f,m){const b=u[16],T=b[6].projection[h.projection];if(Array.isArray(T))for(let M=0;M<T.length;M++)Ua(a,o,f,T[M],m);else Cv(o,a,T,b[3],f,m,!0)}function bi(o,a,u){mn(o)?o.setAttribute(a,"style",u):a.style.cssText=u}function Jo(o,a,u){mn(o)?""===u?o.removeAttribute(a,"class"):o.setAttribute(a,"class",u):a.className=u}function NA(o,a,u){let h=o.length;for(;;){const f=o.indexOf(a,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===h||o.charCodeAt(f+m)<=32)return f}u=f+1}}const EC="ng-template";function FA(o,a,u){let h=0;for(;h<o.length;){let f=o[h++];if(u&&"class"===f){if(f=o[h],-1!==NA(f.toLowerCase(),a,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function DC(o){return 4===o.type&&o.value!==EC}function Dm(o,a,u){return a===(4!==o.type||u?o.value:EC)}function TC(o,a,u){let h=4;const f=o.attrs||[],m=function Of(o){for(let a=0;a<o.length;a++)if(pt(o[a]))return a;return o.length}(f);let b=!1;for(let E=0;E<a.length;E++){const T=a[E];if("number"!=typeof T){if(!b)if(4&h){if(h=2|1&h,""!==T&&!Dm(o,T,u)||""===T&&1===a.length){if(Xo(h))return!1;b=!0}}else{const M=8&h?T:a[++E];if(8&h&&null!==o.attrs){if(!FA(o.attrs,M,u)){if(Xo(h))return!1;b=!0}continue}const V=LA(8&h?"class":T,f,DC(o),u);if(-1===V){if(Xo(h))return!1;b=!0;continue}if(""!==M){let j;j=V>m?"":f[V+1].toLowerCase();const X=8&h?j:null;if(X&&-1!==NA(X,M,0)||2&h&&M!==j){if(Xo(h))return!1;b=!0}}}}else{if(!b&&!Xo(h)&&!Xo(T))return!1;if(b&&Xo(T))continue;b=!1,h=T|1&h}}return Xo(h)||b}function Xo(o){return 0==(1&o)}function LA(o,a,u,h){if(null===a)return-1;let f=0;if(h||!u){let m=!1;for(;f<a.length;){const b=a[f];if(b===o)return f;if(3===b||6===b)m=!0;else{if(1===b||2===b){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=m?1:2}return-1}return function BA(o,a){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===a)return u;u++}return-1}(a,o)}function SC(o,a,u=!1){for(let h=0;h<a.length;h++)if(TC(o,a[h],u))return!0;return!1}function AC(o,a){e:for(let u=0;u<a.length;u++){const h=a[u];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function MC(o,a){return o?":not("+a.trim()+")":a}function VA(o){let a=o[0],u=1,h=2,f="",m=!1;for(;u<o.length;){let b=o[u];if("string"==typeof b)if(2&h){const E=o[++u];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!Xo(b)&&(a+=MC(m,f),f=""),h=b,m=m||!Xo(h);u++}return""!==f&&(a+=MC(m,f)),a}const kt={};function Pf(o){Ev(Lt(),Me(),gi()+o,Dl())}function Ev(o,a,u,h){if(!h)if(3==(3&a[2])){const m=o.preOrderCheckHooks;null!==m&&Ml(a,m,u)}else{const m=o.preOrderHooks;null!==m&&Ms(a,m,0,u)}hs(u)}function Dv(o,a){return o<<17|a<<2}function ea(o){return o>>17&32767}function Tv(o){return 2|o}function ql(o){return(131068&o)>>2}function Sv(o,a){return-131069&o|a<<2}function Bu(o){return 1|o}function WA(o,a){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],m=u[h+1];if(-1!==m){const b=o.data[m];Il(f),b.contentQueries(2,a[m],m)}}}function Fc(o,a,u,h,f,m,b,E,T,M){const R=a.blueprint.slice();return R[0]=f,R[2]=140|h,us(R),R[3]=R[15]=o,R[8]=u,R[10]=b||o&&o[10],R[11]=E||o&&o[11],R[12]=T||o&&o[12]||null,R[9]=M||o&&o[9]||null,R[6]=m,R[16]=2==a.type?o[16]:R,R}function Lc(o,a,u,h,f){let m=o.data[a];if(null===m)m=function GC(o,a,u,h,f){const m=wa(),b=El(),T=o.data[a]=function km(o,a,u,h,f,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?m:m&&m.parent,u,a,h,f);return null===o.firstChild&&(o.firstChild=T),null!==m&&(b?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T)),T}(o,a,u,h,f),function mu(){return vt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const b=function No(){const o=vt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===b?-1:b.injectorIndex}return Sr(m,!0),m}function Vf(o,a,u,h){if(0===u)return-1;const f=a.length;for(let m=0;m<u;m++)a.push(h),o.blueprint.push(h),o.data.push(null);return f}function xm(o,a,u){Ea(a);try{const h=o.viewQuery;null!==h&&eE(1,h,u);const f=o.template;null!==f&&ZA(o,a,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&WA(o,a),o.staticViewQueries&&eE(2,o.viewQuery,u);const m=o.components;null!==m&&function DF(o,a){for(let u=0;u<a.length;u++)LF(o,a[u])}(a,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Ta()}}function Uf(o,a,u,h){const f=a[2];if(256==(256&f))return;Ea(a);const m=Dl();try{us(a),function Tl(o){return vt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&ZA(o,a,u,2,h);const b=3==(3&f);if(!m)if(b){const M=o.preOrderCheckHooks;null!==M&&Ml(a,M,null)}else{const M=o.preOrderHooks;null!==M&&Ms(a,M,0,null),Sa(a,0)}if(function iM(o){for(let a=jn(o);null!==a;a=Rr(a)){if(!a[2])continue;const u=a[9];for(let h=0;h<u.length;h++){const f=u[h],m=f[3];0==(1024&f[2])&&va(m,1),f[2]|=1024}}}(a),function NF(o){for(let a=jn(o);null!==a;a=Rr(a))for(let u=10;u<a.length;u++){const h=a[u],f=h[1];Is(h)&&Uf(f,h,f.template,h[8])}}(a),null!==o.contentQueries&&WA(o,a),!m)if(b){const M=o.contentCheckHooks;null!==M&&Ml(a,M)}else{const M=o.contentHooks;null!==M&&Ms(a,M,1),Sa(a,1)}!function CF(o,a){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)hs(~f);else{const m=f,b=u[++h],E=u[++h];_u(b,m),E(2,a[m])}}}finally{hs(-1)}}(o,a);const E=o.components;null!==E&&function EF(o,a){for(let u=0;u<a.length;u++)FF(o,a[u])}(a,E);const T=o.viewQuery;if(null!==T&&eE(2,T,h),!m)if(b){const M=o.viewCheckHooks;null!==M&&Ml(a,M)}else{const M=o.viewHooks;null!==M&&Ms(a,M,2),Sa(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),m||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,va(a[3],-1))}finally{Ta()}}function TF(o,a,u,h){const f=a[10],m=!Dl(),b=Po(a);try{m&&!b&&f.begin&&f.begin(),b&&xm(o,a,h),Uf(o,a,u,h)}finally{m&&!b&&f.end&&f.end()}}function ZA(o,a,u,h,f){const m=gi(),b=2&h;try{hs(-1),b&&a.length>20&&Ev(o,a,20,Dl()),u(h,f)}finally{hs(m)}}function Rm(o,a,u){if(ml(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const b=o.data[m];b.contentQueries&&b.contentQueries(1,u[m],m)}}}function Bc(o,a,u){!Cl()||(function eM(o,a,u,h){const f=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||un(u,a),xi(h,a);const b=u.initialInputs;for(let E=f;E<m;E++){const T=o.data[E],M=os(T);M&&KC(a,u,T);const R=go(a,o,E,u);xi(R,a),null!==b&&kv(0,E-f,R,T,0,b),M&&(Si(u.index,a)[8]=R)}}(o,a,u,Ti(u,a)),128==(128&u.flags)&&function RF(o,a,u){const h=u.directiveStart,f=u.directiveEnd,b=u.index,E=function gc(){return vt.lFrame.currentDirectiveIndex}();try{hs(b);for(let T=h;T<f;T++){const M=o.data[T],R=a[T];Sl(T),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&tM(M,R)}}finally{hs(-1),Sl(E)}}(o,a,u))}function eh(o,a,u=Ti){const h=a.localNames;if(null!==h){let f=a.index+1;for(let m=0;m<h.length;m+=2){const b=h[m+1],E=-1===b?u(a,o):o[b];o[f++]=E}}}function zC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Gu(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Gu(o,a,u,h,f,m,b,E,T,M){const R=20+h,V=R+f,j=function SF(o,a){const u=[];for(let h=0;h<a;h++)u.push(h<o?null:kt);return u}(R,V),X="function"==typeof M?M():M;return j[1]={type:o,blueprint:j,template:u,queries:null,viewQuery:E,declTNode:a,data:j.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:T,consts:X,incompleteFirstPass:!1}}function KA(o,a,u,h){const f=oM(a);null===u?f.push(h):(f.push(u),o.firstCreatePass&&aM(o).push(h,f.length-1))}function QA(o,a,u){for(let h in o)if(o.hasOwnProperty(h)){const f=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(a,f):u[h]=[a,f]}return u}function ci(o,a,u,h,f,m,b,E){const T=Ti(a,u);let R,M=a.inputs;!E&&null!=M&&(R=M[h])?(uM(o,u,R,h,f),_d(a)&&function qC(o,a){const u=Si(a,o);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(h=function IF(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=b?b(f,a.value||"",h):f,mn(m)?m.setProperty(T,h,f):Yn(h)||(T.setProperty?T.setProperty(h,f):T[h]=f))}function Hf(o,a,u,h){let f=!1;if(Cl()){const m=function Rv(o,a,u){const h=o.directiveRegistry;let f=null;if(h)for(let m=0;m<h.length;m++){const b=h[m];SC(u,b.selectors,!1)&&(f||(f=[]),Ii(un(u,a),o,b.type),os(b)?(Om(o,u),f.unshift(b)):f.push(b))}return f}(o,a,u),b=null===h?null:{"":-1};if(null!==m){f=!0,ZC(u,o.data.length,m.length);for(let R=0;R<m.length;R++){const V=m[R];V.providersResolver&&V.providersResolver(V)}let E=!1,T=!1,M=Vf(o,a,m.length,null);for(let R=0;R<m.length;R++){const V=m[R];u.mergedAttrs=en(u.mergedAttrs,V.hostAttrs),YC(o,u,a,M,V),OF(M,V,b),null!==V.contentQueries&&(u.flags|=8),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(u.flags|=128);const j=V.type.prototype;!E&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),E=!0),!T&&(j.ngOnChanges||j.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),T=!0),M++}!function xv(o,a){const h=a.directiveEnd,f=o.data,m=a.attrs,b=[];let E=null,T=null;for(let M=a.directiveStart;M<h;M++){const R=f[M],V=R.inputs,j=null===m||DC(a)?null:PF(V,m);b.push(j),E=QA(V,M,E),T=QA(R.outputs,M,T)}null!==E&&(E.hasOwnProperty("class")&&(a.flags|=16),E.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=b,a.inputs=E,a.outputs=T}(o,u)}b&&function kF(o,a,u){if(a){const h=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=u[a[f+1]];if(null==m)throw new Pe(-301,!1);h.push(a[f],m)}}}(u,h,b)}return u.mergedAttrs=en(u.mergedAttrs,u.attrs),f}function WC(o,a,u,h,f,m){const b=m.hostBindings;if(b){let E=o.hostBindingOpCodes;null===E&&(E=o.hostBindingOpCodes=[]);const T=~a.index;(function XA(o){let a=o.length;for(;a>0;){const u=o[--a];if("number"==typeof u&&u<0)return u}return 0})(E)!=T&&E.push(T),E.push(h,f,b)}}function tM(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Om(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function OF(o,a,u){if(u){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)u[a.exportAs[h]]=o;os(a)&&(u[""]=o)}}function ZC(o,a,u){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+u,o.providerIndexes=a}function YC(o,a,u,h,f){o.data[h]=f;const m=f.factory||(f.factory=ji(f.type)),b=new mc(m,os(f),null);o.blueprint[h]=b,u[h]=b,WC(o,a,0,h,Vf(o,u,f.hostVars,kt),f)}function KC(o,a,u){const h=Ti(a,o),f=zC(u),m=o[10],b=Ov(o,Fc(o,f,null,u.onPush?64:16,h,a,m,m.createRenderer(h,u),null,null));o[a.index]=b}function bo(o,a,u,h,f,m){const b=Ti(o,a);!function Pm(o,a,u,h,f,m,b){if(null==m)mn(o)?o.removeAttribute(a,f,u):a.removeAttribute(f);else{const E=null==b?pe(m):b(m,h||"",f);mn(o)?o.setAttribute(a,f,E,u):u?a.setAttributeNS(u,f,E):a.setAttribute(f,E)}}(a[11],b,m,o.value,u,h,f)}function kv(o,a,u,h,f,m){const b=m[a];if(null!==b){const E=h.setInput;for(let T=0;T<b.length;){const M=b[T++],R=b[T++],V=b[T++];null!==E?h.setInput(u,V,M,R):u[R]=V}}}function PF(o,a){let u=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],a[h+1])),h+=2}else h+=2;else h+=4}return u}function nM(o,a,u,h){return new Array(o,!0,!1,a,null,0,h,u,null,null)}function FF(o,a){const u=Si(a,o);if(Is(u)){const h=u[1];80&u[2]?Uf(h,u,h.template,u[8]):u[5]>0&&QC(u)}}function QC(o){for(let h=jn(o);null!==h;h=Rr(h))for(let f=10;f<h.length;f++){const m=h[f];if(1024&m[2]){const b=m[1];Uf(b,m,b.template,m[8])}else m[5]>0&&QC(m)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=Si(u[h],o);Is(f)&&f[5]>0&&QC(f)}}function LF(o,a){const u=Si(a,o),h=u[1];(function BF(o,a){for(let u=a.length;u<o.blueprint.length;u++)a.push(o.blueprint[u])})(h,u),xm(h,u,u[8])}function Ov(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function JC(o){for(;o;){o[2]|=64;const a=Xe(o);if(ou(o)&&!a)return o;o=a}return null}function Pv(o,a,u){const h=a[10];h.begin&&h.begin();try{Uf(o,a,o.template,u)}catch(f){throw cM(a,f),f}finally{h.end&&h.end()}}function rM(o){!function XC(o){for(let a=0;a<o.components.length;a++){const u=o.components[a],h=$d(u),f=h[1];TF(f,h,f.template,u)}}(o[8])}function eE(o,a,u){Il(0),a(o,u)}const jF=(()=>Promise.resolve(null))();function oM(o){return o[7]||(o[7]=[])}function aM(o){return o.cleanup||(o.cleanup=[])}function lM(o,a,u){return(null===o||os(o))&&(u=function vl(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[a.index])),u[11]}function cM(o,a){const u=o[9],h=u?u.get(qd,null):null;h&&h.handleError(a)}function uM(o,a,u,h,f){for(let m=0;m<u.length;){const b=u[m++],E=u[m++],T=a[b],M=o.data[b];null!==M.setInput?M.setInput(T,f,h,E):T[E]=f}}function Vc(o,a,u){const h=co(a,o);!function Zd(o,a,u){mn(o)?o.setValue(a,u):a.textContent=u}(o[11],h,u)}function Nv(o,a,u){let h=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==a)for(let b=0;b<a.length;b++){const E=a[b];"number"==typeof E?m=E:1==m?f=ce(f,E):2==m&&(h=ce(h,E+": "+a[++b]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=f:o.classesWithoutHost=f}const tE=new Rn("INJECTOR",-1);class dM{get(a,u=I){if(u===I){const h=new Error(`NullInjectorError: No provider for ${oe(a)}!`);throw h.name="NullInjectorError",h}return u}}const nE=new Rn("Set Injector scope."),Nm={},$F={};let iE;function hM(){return void 0===iE&&(iE=new dM),iE}function fM(o,a=null,u=null,h){const f=pM(o,a,u,h);return f._resolveInjectorDefTypes(),f}function pM(o,a=null,u=null,h){return new qF(o,u,a||hM(),h)}class qF{constructor(a,u,h,f=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];u&&tr(u,E=>this.processProvider(E,a,u)),tr([a],E=>this.processInjectorType(E,[],m)),this.records.set(tE,th(void 0,this));const b=this.records.get(nE);this.scope=null!=b?b.value:null,this.source=f||("object"==typeof a?null:oe(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=I,h=wt.Default){this.assertNotDestroyed();const f=Nt(this),m=$n(void 0);try{if(!(h&wt.SkipSelf)){let E=this.records.get(a);if(void 0===E){const T=function eL(o){return"function"==typeof o||"object"==typeof o&&o instanceof Rn}(a)&&jt(a);E=T&&this.injectableDefInScope(T)?th(rE(a),Nm):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(h&wt.Self?hM():this.parent).get(a,u=h&wt.Optional&&u===I?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[U]=b[U]||[]).unshift(oe(a)),f)throw b;return function Na(o,a,u,h){const f=o[U];throw a[ot]&&f.unshift(a[ot]),o.message=function $o(o,a,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=oe(a);if(Array.isArray(a))f=a.map(oe).join(" -> ");else if("object"==typeof a){let m=[];for(let b in a)if(a.hasOwnProperty(b)){let E=a[b];m.push(b+":"+("string"==typeof E?JSON.stringify(E):oe(E)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${o.replace(ue,"\n  ")}`}("\n"+o.message,f,u,h),o.ngTokenPath=f,o[U]=null,o}(b,a,"R3InjectorError",this.source)}throw b}finally{$n(m),Nt(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,f)=>a.push(oe(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processInjectorType(a,u,h){if(!(a=re(a)))return!1;let f=Yi(a);const m=null==f&&a.ngModule||void 0,b=void 0===m?a:m,E=-1!==h.indexOf(b);if(void 0!==m&&(f=Yi(m)),null==f)return!1;if(null!=f.imports&&!E){let R;h.push(b);try{tr(f.imports,V=>{this.processInjectorType(V,u,h)&&(void 0===R&&(R=[]),R.push(V))})}finally{}if(void 0!==R)for(let V=0;V<R.length;V++){const{ngModule:j,providers:X}=R[V];tr(X,be=>this.processProvider(be,j,X||H))}}this.injectorDefTypes.add(b);const T=ji(b)||(()=>new b);this.records.set(b,th(T,Nm));const M=f.providers;if(null!=M&&!E){const R=a;tr(M,V=>this.processProvider(V,R,M))}return void 0!==m&&void 0!==a.providers}processProvider(a,u,h){let f=jf(a=re(a))?a:re(a&&a.provide);const m=function ZF(o,a,u){return gM(o)?th(void 0,o.useValue):th(sE(o),Nm)}(a);if(jf(a)||!0!==a.multi)this.records.get(f);else{let b=this.records.get(f);b||(b=th(void 0,Nm,!0),b.factory=()=>Nl(b.multi),this.records.set(f,b)),f=a,b.multi.push(a)}this.records.set(f,m)}hydrate(a,u){return u.value===Nm&&(u.value=$F,u.value=u.factory()),"object"==typeof u.value&&u.value&&function XF(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=re(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function rE(o){const a=jt(o),u=null!==a?a.factory:ji(o);if(null!==u)return u;if(o instanceof Rn)throw new Pe(204,!1);if(o instanceof Function)return function WF(o){const a=o.length;if(a>0)throw Go(a,"?"),new Pe(204,!1);const u=function br(o){const a=o&&(o[ts]||o[ur]);if(a){const u=function Fi(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Pe(204,!1)}function sE(o,a,u){let h;if(jf(o)){const f=re(o);return ji(f)||rE(f)}if(gM(o))h=()=>re(o.useValue);else if(function KF(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Nl(o.deps||[]));else if(function YF(o){return!(!o||!o.useExisting)}(o))h=()=>Zt(re(o.useExisting));else{const f=re(o&&(o.useClass||o.provide));if(!function JF(o){return!!o.deps}(o))return ji(f)||rE(f);h=()=>new f(...Nl(o.deps))}return h}function th(o,a,u=!1){return{factory:o,value:a,multi:u?[]:void 0}}function gM(o){return null!==o&&"object"==typeof o&&Tt in o}function jf(o){return"function"==typeof o}let Ga=(()=>{class o{static create(u,h){var f;if(Array.isArray(u))return fM({name:""},h,u,"");{const m=null!==(f=u.name)&&void 0!==f?f:"";return fM({name:m},u.parent,u.providers,m)}}}return o.THROW_IF_NOT_FOUND=I,o.NULL=new dM,o.\u0275prov=rn({token:o,providedIn:"any",factory:()=>Zt(tE)}),o.__NG_ELEMENT_ID__=-1,o})();function lL(o,a){Rd($d(o)[1],Sn())}function lE(o){let a=function IM(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;a;){let f;if(os(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Pe(903,"");f=a.\u0275dir}if(f){if(u){h.push(f);const b=o;b.inputs=cE(o.inputs),b.declaredInputs=cE(o.declaredInputs),b.outputs=cE(o.outputs);const E=f.hostBindings;E&&hL(o,E);const T=f.viewQuery,M=f.contentQueries;if(T&&uL(o,T),M&&dL(o,M),ne(o.inputs,f.inputs),ne(o.declaredInputs,f.declaredInputs),ne(o.outputs,f.outputs),os(f)&&f.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let b=0;b<m.length;b++){const E=m[b];E&&E.ngInherit&&E(o),E===lE&&(u=!1)}}a=Object.getPrototypeOf(a)}!function cL(o){let a=0,u=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=a+=f.hostVars,f.hostAttrs=en(f.hostAttrs,u=en(u,f.hostAttrs))}}(h)}function cE(o){return o===Vi?{}:o===H?[]:o}function uL(o,a){const u=o.viewQuery;o.viewQuery=u?(h,f)=>{a(h,f),u(h,f)}:a}function dL(o,a){const u=o.contentQueries;o.contentQueries=u?(h,f,m)=>{a(h,f,m),u(h,f,m)}:a}function hL(o,a){const u=o.hostBindings;o.hostBindings=u?(h,f)=>{a(h,f),u(h,f)}:a}let Fv=null;function Gf(){if(!Fv){const o=$t.Symbol;if(o&&o.iterator)Fv=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const h=a[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Fv=h)}}}return Fv}function Fm(o){return!!Wl(o)&&(Array.isArray(o)||!(o instanceof Map)&&Gf()in o)}function Wl(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ta(o,a,u){return o[a]=u}function Gr(o,a,u){return!Object.is(o[a],u)&&(o[a]=u,!0)}function Lm(o,a,u,h){const f=Me();return Gr(f,uo(),a)&&(Lt(),bo(Hn(),f,o,a,u,h)),Lm}function ih(o,a,u,h){return Gr(o,uo(),u)?a+pe(u)+h:kt}function Hv(o,a,u,h,f,m,b,E){const T=Me(),M=Lt(),R=o+20,V=M.firstCreatePass?function MM(o,a,u,h,f,m,b,E,T){const M=a.consts,R=Lc(a,o,4,b||null,Hr(M,E));Hf(a,u,R,Hr(M,T)),Rd(a,R);const V=R.tViews=Gu(2,R,h,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,R),V.queries=a.queries.embeddedTView(R)),R}(R,M,T,a,u,h,f,m,b):M.data[R];Sr(V,!1);const j=T[11].createComment("");wm(M,T,j,V),xi(j,T),Ov(T,T[R]=nM(j,T,j,V)),ss(V)&&Bc(M,T,V),null!=b&&eh(T,V,E)}function fE(o){return cs(function hc(){return vt.lFrame.contextLView}(),20+o)}function lh(o,a=wt.Default){const u=Me();return null===u?Zt(o,a):po(Sn(),u,re(o),a)}function Kv(){throw new Error("invalid")}function Qv(o,a,u){const h=Me();return Gr(h,uo(),a)&&ci(Lt(),Hn(),h,o,a,h[11],u,!1),Qv}function Jv(o,a,u,h,f){const b=f?"class":"style";uM(o,u,a.inputs[b],b,h)}function Hm(o,a,u,h){const f=Me(),m=Lt(),b=20+o,E=f[11],T=f[b]=Yd(E,a,function xd(){return vt.lFrame.currentNamespace}()),M=m.firstCreatePass?function HM(o,a,u,h,f,m,b){const E=a.consts,M=Lc(a,o,2,f,Hr(E,m));return Hf(a,u,M,Hr(E,b)),null!==M.attrs&&Nv(M,M.attrs,!1),null!==M.mergedAttrs&&Nv(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(b,m,f,0,a,u,h):m.data[b];Sr(M,!0);const R=M.mergedAttrs;null!==R&&Ze(E,T,R);const V=M.classes;null!==V&&Jo(E,T,V);const j=M.styles;return null!==j&&bi(E,T,j),64!=(64&M.flags)&&wm(m,f,T,M),0===function uc(){return vt.lFrame.elementDepthCount}()&&xi(T,f),function wl(){vt.lFrame.elementDepthCount++}(),ss(M)&&(Bc(m,f,M),Rm(m,M,f)),null!==h&&eh(f,M),Hm}function jm(){let o=Sn();El()?gu():(o=o.parent,Sr(o,!1));const a=o;!function hu(){vt.lFrame.elementDepthCount--}();const u=Lt();return u.firstCreatePass&&(Rd(u,o),ml(o)&&u.queries.elementEnd(o)),null!=a.classesWithoutHost&&function bu(o){return 0!=(16&o.flags)}(a)&&Jv(u,a,Me(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function jg(o){return 0!=(32&o.flags)}(a)&&Jv(u,a,Me(),a.stylesWithoutHost,!1),jm}function TE(o,a,u,h){return Hm(o,a,u,h),jm(),TE}function Xv(o,a,u){const h=Me(),f=Lt(),m=o+20,b=f.firstCreatePass?function DL(o,a,u,h,f){const m=a.consts,b=Hr(m,h),E=Lc(a,o,8,"ng-container",b);return null!==b&&Nv(E,b,!0),Hf(a,u,E,Hr(m,f)),null!==a.queries&&a.queries.elementStart(a,E),E}(m,f,h,a,u):f.data[m];Sr(b,!0);const E=h[m]=h[11].createComment("");return wm(f,h,E,b),xi(E,h),ss(b)&&(Bc(f,h,b),Rm(f,b,h)),null!=u&&eh(h,b),Xv}function eb(){let o=Sn();const a=Lt();return El()?gu():(o=o.parent,Sr(o,!1)),a.firstCreatePass&&(Rd(a,o),ml(o)&&a.queries.elementEnd(o)),eb}function SE(o,a,u){return Xv(o,a,u),eb(),SE}function tb(){return Me()}function Gm(o){return!!o&&"function"==typeof o.then}function IE(o){return!!o&&"function"==typeof o.subscribe}const AE=IE;function zm(o,a,u,h){const f=Me(),m=Lt(),b=Sn();return ME(m,f,f[11],b,o,a,!!u,h),zm}function Hc(o,a){const u=Sn(),h=Me(),f=Lt();return ME(f,h,lM(Ca(f.data),u,h),u,o,a,!1),Hc}function ME(o,a,u,h,f,m,b,E){const T=ss(h),R=o.firstCreatePass&&aM(o),V=a[8],j=oM(a);let X=!0;if(3&h.type||E){const $e=Ti(h,a),lt=E?E($e):$e,Te=j.length,at=E?Kt=>E(on(Kt[h.index])):h.index;if(mn(u)){let Kt=null;if(!E&&T&&(Kt=function jM(o,a,u,h){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const b=f[m];if(b===u&&f[m+1]===h){const E=a[7],T=f[m+2];return E.length>T?E[T]:null}"string"==typeof b&&(m+=2)}return null}(o,a,f,h.index)),null!==Kt)(Kt.__ngLastListenerFn__||Kt).__ngNextListenerFn__=m,Kt.__ngLastListenerFn__=m,X=!1;else{m=nb(h,a,V,m,!1);const an=u.listen(lt,f,m);j.push(m,an),R&&R.push(f,at,Te,Te+1)}}else m=nb(h,a,V,m,!0),lt.addEventListener(f,m,b),j.push(m),R&&R.push(f,at,Te,b)}else m=nb(h,a,V,m,!1);const be=h.outputs;let Re;if(X&&null!==be&&(Re=be[f])){const $e=Re.length;if($e)for(let lt=0;lt<$e;lt+=2){const Gs=a[Re[lt]][Re[lt+1]].subscribe(m),$r=j.length;j.push(m,Gs),R&&R.push(f,h.index,$r,-($r+1))}}}function xE(o,a,u,h){try{return!1!==u(h)}catch(f){return cM(o,f),!1}}function nb(o,a,u,h,f){return function m(b){if(b===Function)return h;const E=2&o.flags?Si(o.index,a):a;0==(32&a[2])&&JC(E);let T=xE(a,0,h,b),M=m.__ngNextListenerFn__;for(;M;)T=xE(a,0,M,b)&&T,M=M.__ngNextListenerFn__;return f&&!1===T&&(b.preventDefault(),b.returnValue=!1),T}}function $m(o=1){return function ds(o){return(vt.lFrame.contextLView=function sf(o,a){for(;o>0;)a=a[15],o--;return a}(o,vt.lFrame.contextLView))[8]}(o)}function TL(o,a){let u=null;const h=function IC(o){const a=o.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===h?SC(o,m,!0):AC(h,m))return f}else u=f}return u}function RE(o){const a=Me()[16][6];if(!a.projection){const h=a.projection=Go(o?o.length:1,null),f=h.slice();let m=a.child;for(;null!==m;){const b=o?TL(m,o):0;null!==b&&(f[b]?f[b].projectionNext=m:h[b]=m,f[b]=m),m=m.next}}}function Qf(o,a=0,u){const h=Me(),f=Lt(),m=Lc(f,20+o,16,null,u||null);null===m.projection&&(m.projection=a),gu(),64!=(64&m.flags)&&function dn(o,a,u){ja(a[11],0,a,u,bm(o,u,a),yC(u.parent||a[6],u,a))}(f,h,m)}function ib(o,a,u,h,f){const m=Me(),b=ih(m,a,u,h);return b!==kt&&ci(Lt(),Hn(),m,o,b,m[11],f,!1),ib}function lb(o,a,u,h,f){const m=o[u+1],b=null===a;let E=h?ea(m):ql(m),T=!1;for(;0!==E&&(!1===T||b);){const R=o[E+1];Vt(o[E],a)&&(T=!0,o[E+1]=h?Bu(R):Tv(R)),E=h?ea(R):ql(R)}T&&(o[u+1]=h?Tv(m):Bu(m))}function Vt(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&Os(o,a)>=0}const Gt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uh(o){return o.substring(Gt.key,Gt.keyEnd)}function Jf(o,a){const u=Gt.textEnd;return u===a?-1:(a=Gt.keyEnd=function ep(o,a,u){for(;a<u&&o.charCodeAt(a)>32;)a++;return a}(o,Gt.key=a,u),qu(o,a,u))}function qu(o,a,u){for(;a<u&&o.charCodeAt(a)<=32;)a++;return a}function cb(o,a,u){return ia(o,a,u,!1),cb}function ub(o,a){return ia(o,a,null,!0),ub}function Za(o,a){for(let u=function SL(o){return function GM(o){Gt.key=0,Gt.keyEnd=0,Gt.value=0,Gt.valueEnd=0,Gt.textEnd=o.length}(o),Jf(o,qu(o,0,Gt.textEnd))}(a);u>=0;u=Jf(a,u))kn(o,uh(a),!0)}function ia(o,a,u,h){const f=Me(),m=Lt(),b=jr(2);m.firstUpdatePass&&LE(m,o,b,h),a!==kt&&Gr(f,b,a)&&VE(m,m.data[gi()],f,f[11],o,f[b+1]=function JM(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=oe(Ko(o)))),o}(a,u),h,b)}function FE(o,a){return a>=o.expandoStartIndex}function LE(o,a,u,h){const f=o.data;if(null===f[u+1]){const m=f[gi()],b=FE(o,u);HE(m,h)&&null===a&&!b&&(a=!1),a=function AL(o,a,u,h){const f=Ca(o);let m=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(u=np(u=db(null,o,a,u,h),a.attrs,h),m=null);else{const b=a.directiveStylingLast;if(-1===b||o[b]!==f)if(u=db(f,o,a,u,h),null===m){let T=function WM(o,a,u){const h=u?a.classBindings:a.styleBindings;if(0!==ql(h))return o[ea(h)]}(o,a,h);void 0!==T&&Array.isArray(T)&&(T=db(null,o,a,T[1],h),T=np(T,a.attrs,h),function ZM(o,a,u,h){o[ea(u?a.classBindings:a.styleBindings)]=h}(o,a,h,T))}else m=function YM(o,a,u){let h;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)h=np(h,o[m].hostAttrs,u);return np(h,a.attrs,u)}(o,a,h)}return void 0!==m&&(h?a.residualClasses=m:a.residualStyles=m),u}(f,m,a,h),function ir(o,a,u,h,f,m){let b=m?a.classBindings:a.styleBindings,E=ea(b),T=ql(b);o[h]=u;let R,M=!1;if(Array.isArray(u)){const V=u;R=V[1],(null===R||Os(V,R)>0)&&(M=!0)}else R=u;if(f)if(0!==T){const j=ea(o[E+1]);o[h+1]=Dv(j,E),0!==j&&(o[j+1]=Sv(o[j+1],h)),o[E+1]=function Tm(o,a){return 131071&o|a<<17}(o[E+1],h)}else o[h+1]=Dv(E,0),0!==E&&(o[E+1]=Sv(o[E+1],h)),E=h;else o[h+1]=Dv(T,0),0===E?E=h:o[T+1]=Sv(o[T+1],h),T=h;M&&(o[h+1]=Tv(o[h+1])),lb(o,R,h,!0),lb(o,R,h,!1),function PE(o,a,u,h,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&Os(m,a)>=0&&(u[h+1]=Bu(u[h+1]))}(a,R,o,h,m),b=Dv(E,T),m?a.classBindings=b:a.styleBindings=b}(f,m,a,u,b,h)}}function db(o,a,u,h,f){let m=null;const b=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<b&&(m=a[E],h=np(h,m.hostAttrs,f),m!==o);)E++;return null!==o&&(u.directiveStylingLast=E),h}function np(o,a,u){const h=u?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const b=a[m];"number"==typeof b?f=b:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),kn(o,b,!!u||a[++m]))}return void 0===o?null:o}function VE(o,a,u,h,f,m,b,E){if(!(3&a.type))return;const T=o.data,M=T[E+1];Zm(function HA(o){return 1==(1&o)}(M)?UE(T,a,u,f,ql(M),b):void 0)||(Zm(m)||function RC(o){return 2==(2&o)}(M)&&(m=UE(T,null,u,f,E,b)),function Em(o,a,u,h,f){const m=mn(o);if(a)f?m?o.addClass(u,h):u.classList.add(h):m?o.removeClass(u,h):u.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:A.DashCase;if(null==f)m?o.removeStyle(u,h,b):u.style.removeProperty(h);else{const E="string"==typeof f&&f.endsWith("!important");E&&(f=f.slice(0,-10),b|=A.Important),m?o.setStyle(u,h,f,b):u.style.setProperty(h,f,E?"important":"")}}}(h,b,co(gi(),u),f,m))}function UE(o,a,u,h,f,m){const b=null===a;let E;for(;f>0;){const T=o[f],M=Array.isArray(T),R=M?T[1]:T,V=null===R;let j=u[f+1];j===kt&&(j=V?H:void 0);let X=V?zo(j,h):R===h?j:void 0;if(M&&!Zm(X)&&(X=zo(T,h)),Zm(X)&&(E=X,b))return E;const be=o[f+1];f=b?ea(be):ql(be)}if(null!==a){let T=m?a.residualClasses:a.residualStyles;null!=T&&(E=zo(T,h))}return E}function Zm(o){return void 0!==o}function HE(o,a){return 0!=(o.flags&(a?16:32))}function jE(o,a=""){const u=Me(),h=Lt(),f=o+20,m=h.firstCreatePass?Lc(h,f,1,a,null):h.data[f],b=u[f]=function Wd(o,a){return mn(o)?o.createText(a):o.createTextNode(a)}(u[11],a);wm(h,u,b,m),Sr(m,!1)}function hb(o){return Ym("",o,""),hb}function Ym(o,a,u){const h=Me(),f=ih(h,o,a,u);return f!==kt&&Vc(h,gi(),f),Ym}function KE(o,a,u){!function ra(o,a,u,h){const f=Lt(),m=jr(2);f.firstUpdatePass&&LE(f,null,m,h);const b=Me();if(u!==kt&&Gr(b,m,u)){const E=f.data[gi()];if(HE(E,h)&&!FE(f,m)){let T=h?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(u=ce(T,u||"")),Jv(f,E,b,u,h)}else!function QM(o,a,u,h,f,m,b,E){f===kt&&(f=H);let T=0,M=0,R=0<f.length?f[0]:null,V=0<m.length?m[0]:null;for(;null!==R||null!==V;){const j=T<f.length?f[T+1]:void 0,X=M<m.length?m[M+1]:void 0;let Re,be=null;R===V?(T+=2,M+=2,j!==X&&(be=V,Re=X)):null===V||null!==R&&R<V?(T+=2,be=R):(M+=2,be=V,Re=X),null!==be&&VE(o,a,u,h,be,Re,b,E),R=T<f.length?f[T]:null,V=M<m.length?m[M]:null}}(f,E,b,b[11],b[m+1],b[m+1]=function KM(o,a,u){if(null==u||""===u)return H;const h=[],f=Ko(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(h,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(h,m,f[m]);else"string"==typeof f&&a(h,f);return h}(o,a,u),h,m)}}(kn,Za,ih(Me(),o,a,u),!0)}function ip(o,a,u){const h=Me();return Gr(h,uo(),a)&&ci(Lt(),Hn(),h,o,a,h[11],u,!0),ip}function dh(o,a,u){const h=Me();if(Gr(h,uo(),a)){const m=Lt(),b=Hn();ci(m,b,h,o,a,lM(Ca(m.data),b,h),u,!0)}return dh}const Ya=void 0;var oD=["en",[["a","p"],["AM","PM"],Ya],[["AM","PM"],Ya,Ya],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ya,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ya,"{1} 'at' {0}",Ya],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qm(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Gc={};function rp(o){const a=function lD(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Zu(a);if(u)return u;const h=a.split("-")[0];if(u=Zu(h),u)return u;if("en"===h)return oD;throw new Error(`Missing locale data for the locale "${o}".`)}function aD(o){return rp(o)[gt.PluralCase]}function Zu(o){return o in Gc||(Gc[o]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[o]),Gc[o]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const Qa="en-US";let op=Qa;function Pb(o,a,u,h,f){if(o=re(o),Array.isArray(o))for(let m=0;m<o.length;m++)Pb(o[m],a,u,h,f);else{const m=Lt(),b=Me();let E=jf(o)?o:re(o.provide),T=sE(o);const M=Sn(),R=1048575&M.providerIndexes,V=M.directiveStart,j=M.providerIndexes>>20;if(jf(o)||!o.multi){const X=new mc(T,f,lh),be=Fb(E,a,f?R:R+j,V);-1===be?(Ii(un(M,b),m,E),Nb(m,o,a.length),a.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),u.push(X),b.push(X)):(u[be]=X,b[be]=X)}else{const X=Fb(E,a,R+j,V),be=Fb(E,a,R,R+j),Re=X>=0&&u[X],$e=be>=0&&u[be];if(f&&!$e||!f&&!Re){Ii(un(M,b),m,E);const lt=function wo(o,a,u,h,f){const m=new mc(o,u,lh);return m.multi=[],m.index=a,m.componentProviders=0,fp(m,f,h&&!u),m}(f?PD:OD,u.length,f,h,T);!f&&$e&&(u[be].providerFactory=lt),Nb(m,o,a.length,0),a.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),u.push(lt),b.push(lt)}else Nb(m,o,X>-1?X:be,fp(u[f?be:X],T,!f&&h));!f&&h&&$e&&u[be].componentProviders++}}}function Nb(o,a,u,h){const f=jf(a),m=function QF(o){return!!o.useClass}(a);if(f||m){const T=(m?re(a.useClass):a).prototype.ngOnDestroy;if(T){const M=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const R=M.indexOf(u);-1===R?M.push(u,[h,T]):M[R+1].push(h,T)}else M.push(u,T)}}}function fp(o,a,u){return u&&o.componentProviders++,o.multi.push(a)-1}function Fb(o,a,u,h){for(let f=u;f<h;f++)if(a[f]===o)return f;return-1}function OD(o,a,u,h){return a_(this.multi,[])}function PD(o,a,u,h){const f=this.multi;let m;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=go(u,u[1],this.providerFactory.index,h);m=E.slice(0,b),a_(f,m);for(let T=b;T<E.length;T++)m.push(E[T])}else m=[],a_(f,m);return m}function a_(o,a){for(let u=0;u<o.length;u++)a.push((0,o[u])());return a}function Ku(o,a=[]){return u=>{u.providersResolver=(h,f)=>function Ob(o,a,u){const h=Lt();if(h.firstCreatePass){const f=os(o);Pb(u,h.data,h.blueprint,f,!0),Pb(a,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,a)}}class ND{}class l_{resolveComponentFactory(a){throw function FD(o){const a=Error(`No component factory found for ${oe(o)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=o,a}(a)}}let c_=(()=>{class o{}return o.NULL=new l_,o})();function xx(){return qc(Sn(),Me())}function qc(o,a){return new pp(Ti(o,a))}let pp=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=xx,o})();function BD(o){return o instanceof pp?o.nativeElement:o}class VD{}let Rx=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function UD(){const o=Me(),u=Si(Sn().index,o);return function kx(o){return o[11]}(Ui(u)?u:o)}(),o})(),u_=(()=>{class o{}return o.\u0275prov=rn({token:o,providedIn:"root",factory:()=>null}),o})();class Lb{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const HD=new Lb("13.2.7"),d_={};function h_(o,a,u,h,f=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&h.push(on(m)),Dr(m))for(let E=10;E<m.length;E++){const T=m[E],M=T[1].firstChild;null!==M&&h_(T[1],T,M,h)}const b=u.type;if(8&b)h_(o,a,u.child,h);else if(32&b){const E=K(u,a);let T;for(;T=E();)h.push(T)}else if(16&b){const E=wC(a,u);if(Array.isArray(E))h.push(...E);else{const T=Xe(a[16]);h_(T[1],T,E,h,!0)}}u=f?u.projectionNext:u.next}return h}class gp{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return h_(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Dr(a)){const u=a[8],h=u?u.indexOf(this):-1;h>-1&&(pv(a,h),ks(u,h))}this._attachedToViewContainer=!1}gv(this._lView[1],this._lView)}onDestroy(a){KA(this._lView[1],this._lView,null,a)}markForCheck(){JC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Pv(this._lView[1],this._lView,this.context)}checkNoChanges(){!function UF(o,a,u){fc(!0);try{Pv(o,a,u)}finally{fc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rf(o,a){Cm(o,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Pe(902,"");this._appRef=a}}class Ox extends gp{constructor(a){super(a),this._view=a}detectChanges(){rM(this._view)}checkNoChanges(){!function HF(o){fc(!0);try{rM(o)}finally{fc(!1)}}(this._view)}get context(){return null}}class jD extends c_{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=si(a);return new f_(u,this.ngModule)}}function GD(o){const a=[];for(let u in o)o.hasOwnProperty(u)&&a.push({propName:o[u],templateName:u});return a}class f_ extends ND{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function fF(o){return o.map(VA).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return GD(this.componentDef.inputs)}get outputs(){return GD(this.componentDef.outputs)}create(a,u,h,f){const m=(f=f||this.ngModule)?function Ja(o,a){return{get:(u,h,f)=>{const m=o.get(u,d_,f);return m!==d_||h===d_?m:a.get(u,h,f)}}}(a,f.injector):a,b=m.get(VD,yl),E=m.get(u_,null),T=b.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",R=h?function YA(o,a,u){if(mn(o))return o.selectRootElement(a,u===Wt.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(T,h,this.componentDef.encapsulation):Yd(b.createRenderer(null,this.componentDef),M,function Px(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(M)),V=this.componentDef.onPush?576:528,j=function SM(o,a){return{components:[],scheduler:o||hv,clean:jF,playerHandler:a||null,flags:0}}(),X=Gu(0,null,null,1,0,null,null,null,null,null),be=Fc(null,X,j,V,null,null,b,T,E,m);let Re,$e;Ea(be);try{const lt=function DM(o,a,u,h,f,m){const b=u[1];u[20]=o;const T=Lc(b,20,2,"#host",null),M=T.mergedAttrs=a.hostAttrs;null!==M&&(Nv(T,M,!0),null!==o&&(Ze(f,o,M),null!==T.classes&&Jo(f,o,T.classes),null!==T.styles&&bi(f,o,T.styles)));const R=h.createRenderer(o,a),V=Fc(u,zC(a),null,a.onPush?64:16,u[20],T,h,R,m||null,null);return b.firstCreatePass&&(Ii(un(T,u),b,a.type),Om(b,T),ZC(T,u.length,1)),Ov(u,V),u[20]=V}(R,this.componentDef,be,b,T);if(R)if(h)Ze(T,R,["ng-version",HD.full]);else{const{attrs:Te,classes:at}=function UA(o){const a=[],u=[];let h=1,f=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++h]):8===f&&u.push(m);else{if(!Xo(f))break;f=m}h++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);Te&&Ze(T,R,Te),at&&at.length>0&&Jo(T,R,at.join(" "))}if($e=Pn(X,20),void 0!==u){const Te=$e.projection=[];for(let at=0;at<this.ngContentSelectors.length;at++){const Kt=u[at];Te.push(null!=Kt?Array.from(Kt):null)}}Re=function TM(o,a,u,h,f){const m=u[1],b=function xF(o,a,u){const h=Sn();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),YC(o,h,a,Vf(o,a,1,null),u));const f=go(a,o,h.directiveStart,h);xi(f,a);const m=Ti(h,a);return m&&xi(m,a),f}(m,u,a);if(h.components.push(b),o[8]=b,f&&f.forEach(T=>T(b,a)),a.contentQueries){const T=Sn();a.contentQueries(1,b,T.directiveStart)}const E=Sn();return!m.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(hs(E.index),WC(u[1],E,0,E.directiveStart,E.directiveEnd,a),tM(a,b)),b}(lt,this.componentDef,be,j,[lL]),xm(X,be,null)}finally{Ta()}return new Nx(this.componentType,Re,qc($e,be),be,$e)}}class Nx extends class Ax{}{constructor(a,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new Ox(f),this.componentType=a}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class mp{}class Fx{}const mh=new Map;class ZD extends mp{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new jD(this);const h=oi(a);this._bootstrapComponents=Bs(h.bootstrap),this._r3Injector=pM(a,u,[{provide:mp,useValue:this},{provide:c_,useValue:this.componentFactoryResolver}],oe(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=Ga.THROW_IF_NOT_FOUND,h=wt.Default){return a===Ga||a===mp||a===tE?this:this._r3Injector.get(a,u,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class wn extends Fx{constructor(a){super(),this.moduleType=a,null!==oi(a)&&function qD(o){const a=new Set;!function u(h){const f=oi(h,!0),m=f.id;null!==m&&(function $D(o,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${o} - ${oe(a)} vs ${oe(a.name)}`)}(m,mh.get(m),h),mh.set(m,h));const b=Bs(f.imports);for(const E of b)a.has(E)||(a.add(E),u(E))}(o)}(a)}create(a){return new ZD(this.moduleType,a)}}function Lx(o,a,u){const h=Zn()+o,f=Me();return f[h]===kt?ta(f,h,u?a.call(u):a()):function zf(o,a){return o[a]}(f,h)}function Bx(o,a,u,h){return Vx(Me(),Zn(),o,a,u,h)}function Vx(o,a,u,h,f,m){const b=a+u;return Gr(o,b,f)?ta(o,b+1,m?h.call(m,f):h(f)):function yp(o,a){const u=o[a];return u===kt?void 0:u}(o,b+1)}function zx(o,a){const u=Lt();let h;const f=o+20;u.firstCreatePass?(h=function jL(o,a){if(a)for(let u=a.length-1;u>=0;u--){const h=a[u];if(o===h.name)return h}}(a,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const m=h.factory||(h.factory=ji(h.type)),b=$n(lh);try{const E=Ir(!1),T=m();return Ir(E),function xM(o,a,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),a[u]=h}(u,Me(),f,T),T}finally{$n(b)}}function $x(o,a,u){const h=o+20,f=Me(),m=cs(f,h);return function Yl(o,a){return o[1].data[a].pure}(f,h)?Vx(f,Zn(),a,m.transform,u,m):m.transform(u)}function Vb(o){return a=>{setTimeout(o,void 0,a)}}const sa=class qL extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,h){var f,m,b;let E=a,T=u||(()=>null),M=h;if(a&&"object"==typeof a){const V=a;E=null===(f=V.next)||void 0===f?void 0:f.bind(V),T=null===(m=V.error)||void 0===m?void 0:m.bind(V),M=null===(b=V.complete)||void 0===b?void 0:b.bind(V)}this.__isAsync&&(T=Vb(T),E&&(E=Vb(E)),M&&(M=Vb(M)));const R=super.subscribe({next:E,error:T,complete:M});return a instanceof ee.w0&&a.add(R),R}};function qx(){return this._results[Gf()]()}class _h{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Gf(),h=_h.prototype;h[u]||(h[u]=qx)}get changes(){return this._changes||(this._changes=new sa)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const h=this;h.dirty=!1;const f=er(a);(this._changesDetected=!function Ol(o,a,u){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],m=a[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let yh=(()=>{class o{}return o.__NG_ELEMENT_ID__=Zx,o})();const JD=yh,Wx=class extends JD{constructor(a,u,h){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(a){const u=this._declarationTContainer.tViews,h=Fc(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(u)),xm(u,h,a),new gp(h)}};function Zx(){return m_(Sn(),Me())}function m_(o,a){return 4&o.type?new Wx(a,o,qc(o,a)):null}let __=(()=>{class o{}return o.__NG_ELEMENT_ID__=vp,o})();function vp(){return Yx(Sn(),Me())}const y_=__,XD=class extends y_{constructor(a,u,h){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=h}get element(){return qc(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const a=fo(this._hostTNode,this._hostLView);if(Od(a)){const u=En(a,this._hostLView),h=fs(a);return new Uo(u[1].data[h+8],u)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=eT(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,h){const f=a.createEmbeddedView(u||{});return this.insert(f,h),f}createComponent(a,u,h,f,m){const b=a&&!function jo(o){return"function"==typeof o}(a);let E;if(b)E=u;else{const V=u||{};E=V.index,h=V.injector,f=V.projectableNodes,m=V.ngModuleRef}const T=b?a:new f_(si(a)),M=h||this.parentInjector;if(!m&&null==T.ngModule){const j=(b?M:this.parentInjector).get(mp,null);j&&(m=j)}const R=T.create(M,f,void 0,m);return this.insert(R.hostView,E),R}insert(a,u){const h=a._lView,f=h[1];if(function bl(o){return Dr(o[3])}(h)){const R=this.indexOf(a);if(-1!==R)this.detach(R);else{const V=h[3],j=new XD(V,V[6],V[3]);j.detach(j.indexOf(a))}}const m=this._adjustIndex(u),b=this._lContainer;!function Ha(o,a,u,h){const f=10+h,m=u.length;h>0&&(u[f-1][4]=a),h<m-10?(a[4]=u[f],_o(u,10+h,a)):(u.push(a),a[4]=null),a[3]=u;const b=a[17];null!==b&&u!==b&&function Nc(o,a){const u=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===u?o[9]=[a]:u.push(a)}(b,a);const E=a[19];null!==E&&E.insertView(o),a[2]|=128}(f,h,b,m);const E=bv(m,b),T=h[11],M=kf(T,b[7]);return null!==M&&function xf(o,a,u,h,f,m){h[0]=f,h[6]=a,Cm(o,h,u,1,f,m)}(f,b[6],T,h,M,E),a.attachToViewContainerRef(),_o(v_(b),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=eT(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),h=pv(this._lContainer,u);h&&(ks(v_(this._lContainer),u),gv(h[1],h))}detach(a){const u=this._adjustIndex(a,-1),h=pv(this._lContainer,u);return h&&null!=ks(v_(this._lContainer),u)?new gp(h):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function eT(o){return o[8]}function v_(o){return o[8]||(o[8]=[])}function Yx(o,a){let u;const h=a[o.index];if(Dr(h))u=h;else{let f;if(8&o.type)f=on(h);else{const m=a[11];f=m.createComment("");const b=Ti(o,a);Vs(m,kf(m,b),f,function PA(o,a){return mn(o)?o.nextSibling(a):a.nextSibling}(m,b),!1)}a[o.index]=u=nM(h,a,f,o),Ov(a,u)}return new XD(u,o,a)}class tT{constructor(a){this.queryList=a,this.matches=null}clone(){return new tT(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ub{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const h=null!==a.contentQueries?a.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const b=u.getByIndex(m);f.push(this.queries[b.indexInDeclarationView].clone())}return new Ub(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==Qu(a,u).matches&&this.queries[u].setDirty()}}class nT{constructor(a,u,h=null){this.predicate=a,this.flags=u,this.read=h}}class Hb{constructor(a=[]){this.queries=a}elementStart(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(a,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new Hb(u):null}template(a,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class b_{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new b_(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(a,u,iT(u,m)),this.matchTNodeWithReadOption(a,u,gs(u,a,m,!1,!1))}else h===yh?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,gs(u,a,h,!1,!1))}matchTNodeWithReadOption(a,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===pp||f===__||f===yh&&4&u.type)this.addMatch(u.index,-2);else{const m=gs(u,a,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function iT(o,a){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===a)return u[h+1];return null}function rT(o,a,u,h){return-1===u?function Qx(o,a){return 11&o.type?qc(o,a):4&o.type?m_(o,a):null}(a,o):-2===u?function Jx(o,a,u){return u===pp?qc(a,o):u===yh?m_(a,o):u===__?Yx(a,o):void 0}(o,a,h):go(o,o[1],u,a)}function sT(o,a,u,h){const f=a[19].queries[h];if(null===f.matches){const m=o.data,b=u.matches,E=[];for(let T=0;T<b.length;T+=2){const M=b[T];E.push(M<0?null:rT(a,m[M],b[T+1],u.metadata.read))}f.matches=E}return f.matches}function oT(o,a,u,h){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const b=sT(o,a,f,u);for(let E=0;E<m.length;E+=2){const T=m[E];if(T>0)h.push(b[E/2]);else{const M=m[E+1],R=a[-T];for(let V=10;V<R.length;V++){const j=R[V];j[17]===j[3]&&oT(j[1],j,M,h)}if(null!==R[9]){const V=R[9];for(let j=0;j<V.length;j++){const X=V[j];oT(X[1],X,M,h)}}}}}return h}function aT(o){const a=Me(),u=Lt(),h=yu();Il(h+1);const f=Qu(u,h);if(o.dirty&&Po(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?oT(u,a,h,[]):sT(u,a,f,h);o.reset(m,BD),o.notifyOnChanges()}return!0}return!1}function lT(o,a,u){const h=Lt();h.firstCreatePass&&(Xx(h,new nT(o,a,u),-1),2==(2&a)&&(h.staticViewQueries=!0)),bp(h,Me(),a)}function cT(o,a,u,h){const f=Lt();if(f.firstCreatePass){const m=Sn();Xx(f,new nT(a,u,h),m.index),function uT(o,a){const u=o.contentQueries||(o.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,a)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}bp(f,Me(),u)}function Xa(){return function YL(o,a){return o[19].queries[a].queryList}(Me(),yu())}function bp(o,a,u){const h=new _h(4==(4&u));KA(o,a,h,h.destroy),null===a[19]&&(a[19]=new Ub),a[19].queries.push(new tT(h))}function Xx(o,a,u){null===o.queries&&(o.queries=new Hb),o.queries.track(new b_(a,u))}function Qu(o,a){return o.queries.getByIndex(a)}function wi(...o){}const Sp=new Rn("Application Initializer");let Ip=(()=>{class o{constructor(u){this.appInits=u,this.resolve=wi,this.reject=wi,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Gm(m))u.push(m);else if(AE(m)){const b=new Promise((E,T)=>{m.subscribe({complete:E,error:T})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Zt(Sp,8))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const wT=new Rn("AppId",{providedIn:"root",factory:function CT(){return`${A_()}${A_()}${A_()}`}});function A_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ET=new Rn("Platform Initializer"),DT=new Rn("Platform ID"),TT=new Rn("appBootstrapListener");let kr=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac}),o})();const x_=new Rn("LocaleId",{providedIn:"root",factory:()=>_r(x_,wt.Optional|wt.SkipSelf)||function M_(){return"undefined"!=typeof $localize&&$localize.locale||Qa}()}),dR=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Wb{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let hR=(()=>{class o{compileModuleSync(u){return new wn(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=Bs(oi(u).declarations).reduce((b,E)=>{const T=si(E);return T&&b.push(new f_(T)),b},[]);return new Wb(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const pR=(()=>Promise.resolve(0))();function Zb(o){"undefined"==typeof Zone?pR.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Co{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new sa(!1),this.onMicrotaskEmpty=new sa(!1),this.onStable=new sa(!1),this.onError=new sa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Ap(){let o=$t.requestAnimationFrame,a=$t.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function mR(o){const a=()=>{!function gR(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call($t,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Yb(o),o.isCheckStableRunning=!0,k_(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Yb(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,b,E)=>{try{return AT(o),u.invokeTask(f,m,b,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Kb(o)}},onInvoke:(u,h,f,m,b,E,T)=>{try{return AT(o),u.invoke(f,m,b,E,T)}finally{o.shouldCoalesceRunChangeDetection&&a(),Kb(o)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Yb(o),k_(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Co.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Co.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,h){return this._inner.run(a,u,h)}runTask(a,u,h,f){const m=this._inner,b=m.scheduleEventTask("NgZoneEvent: "+f,a,R_,wi,wi);try{return m.runTask(b,u,h)}finally{m.cancelTask(b)}}runGuarded(a,u,h){return this._inner.runGuarded(a,u,h)}runOutsideAngular(a){return this._outer.run(a)}}const R_={};function k_(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Yb(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function AT(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Kb(o){o._nesting--,k_(o)}class Qb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new sa,this.onMicrotaskEmpty=new sa,this.onStable=new sa,this.onError=new sa}run(a,u,h){return a.apply(u,h)}runGuarded(a,u,h){return a.apply(u,h)}runOutsideAngular(a){return a()}runTask(a,u,h,f){return a.apply(u,h)}}let Jb=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Co.assertNotInAngularZone(),Zb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zb(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(Zt(Co))},o.\u0275prov=rn({token:o,factory:o.\u0275fac}),o})(),O_=(()=>{class o{constructor(){this._applications=new Map,Xb.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return Xb.findTestabilityInTree(this,u,h)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=rn({token:o,factory:o.\u0275fac}),o})();class MT{addToWindow(a){}findTestabilityInTree(a,u,h){return null}}function Mp(o){Xb=o}let js,Xb=new MT;const tw=new Rn("AllowMultipleToken");class RT{constructor(a,u){this.name=a,this.token=u}}function kT(o,a,u=[]){const h=`Platform: ${a}`,f=new Rn(h);return(m=[])=>{let b=xp();if(!b||b.injector.get(tw,!1))if(o)o(u.concat(m).concat({provide:f,useValue:!0}));else{const E=u.concat(m).concat({provide:f,useValue:!0},{provide:nE,useValue:"platform"});!function nw(o){if(js&&!js.destroyed&&!js.injector.get(tw,!1))throw new Pe(400,"");js=o.get(P_);const a=o.get(ET,null);a&&a.forEach(u=>u())}(Ga.create({providers:E,name:h}))}return function _R(o){const a=xp();if(!a)throw new Pe(401,"");return a}()}}function xp(){return js&&!js.destroyed?js:null}let P_=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const E=function iw(o,a){let u;return u="noop"===o?new Qb:("zone.js"===o?void 0:o)||new Co({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),T=[{provide:Co,useValue:E}];return E.run(()=>{const M=Ga.create({providers:T,parent:this.injector,name:u.moduleType.name}),R=u.create(M),V=R.injector.get(qd,null);if(!V)throw new Pe(402,"");return E.runOutsideAngular(()=>{const j=E.onError.subscribe({next:X=>{V.handleError(X)}});R.onDestroy(()=>{N_(this._modules,R),j.unsubscribe()})}),function rw(o,a,u){try{const h=u();return Gm(h)?h.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(V,E,()=>{const j=R.injector.get(Ip);return j.runInitializers(),j.donePromise.then(()=>(function ix(o){Ht(o,"Expected localeId to be defined"),"string"==typeof o&&(op=o.toLowerCase().replace(/_/g,"-"))}(R.injector.get(x_,Qa)||Qa),this._moduleDoBootstrap(R),R))})})}bootstrapModule(u,h=[]){const f=sw({},h);return function xT(o,a,u){const h=new wn(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(ow);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Pe(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Zt(Ga))},o.\u0275prov=rn({token:o,factory:o.\u0275fac}),o})();function sw(o,a){return Array.isArray(a)?a.reduce(sw,o):Object.assign(Object.assign({},o),a)}let ow=(()=>{class o{constructor(u,h,f,m,b){this._zone=u,this._injector=h,this._exceptionHandler=f,this._componentFactoryResolver=m,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new B.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),T=new B.y(M=>{let R;this._zone.runOutsideAngular(()=>{R=this._zone.onStable.subscribe(()=>{Co.assertNotInAngularZone(),Zb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{Co.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{R.unsubscribe(),V.unsubscribe()}});this.isStable=(0,de.T)(E,T.pipe((0,se.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new Pe(405,"");let f;f=u instanceof ND?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(f.componentType);const m=function ew(o){return o.isBoundToModule}(f)?void 0:this._injector.get(mp),E=f.create(Ga.NULL,[],h||f.selector,m),T=E.location.nativeElement,M=E.injector.get(Jb,null),R=M&&E.injector.get(O_);return M&&R&&R.registerApplication(T,M),E.onDestroy(()=>{this.detachView(E.hostView),N_(this.components,E),R&&R.unregisterApplication(T)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Pe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;N_(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(TT,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Zt(Co),Zt(Ga),Zt(qd),Zt(c_),Zt(Ip))},o.\u0275prov=rn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function N_(o,a){const u=o.indexOf(a);u>-1&&o.splice(u,1)}let OT=!0,PT=!1;function vR(){return PT=!0,OT}function bR(){if(PT)throw new Error("Cannot enable prod mode after platform setup.");OT=!1}let wR=(()=>{class o{}return o.__NG_ELEMENT_ID__=CR,o})();function CR(o){return function F_(o,a,u){if(_d(o)&&!u){const h=Si(o.index,a);return new gp(h,h)}return 47&o.type?new gp(a[16],a):null}(Sn(),Me(),16==(16&o))}class bh{constructor(){}supports(a){return Fm(a)}create(a){return new cw(a)}}const gB=(o,a)=>a;class cw{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||gB}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const b=!h||u&&u.currentIndex<jT(h,f,m)?u:h,E=jT(b,f,m),T=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)f++;else{m||(m=[]);const M=E-f,R=T-f;if(M!=R){for(let j=0;j<M;j++){const X=j<m.length?m[j]:m[j]=0,be=X+j;R<=be&&be<M&&(m[j]=X+1)}m[b.previousIndex]=R-M}}E!==T&&a(b,E,T)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Fm(a))throw new Pe(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,b,u=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)m=a[E],b=this._trackByFn(E,m),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,m,b,E)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,b,E),h=!0),u=u._next}else f=0,function AM(o,a){if(Array.isArray(o))for(let u=0;u<o.length;u++)a(o[u]);else{const u=o[Gf()]();let h;for(;!(h=u.next()).done;)a(h.value)}}(a,E=>{b=this._trackByFn(f,E),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,E,b,f)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,b,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,h,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,f)):a=this._addAfter(new mB(u,h),m,f),a}_verifyReinsertion(a,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,u,h),this._addToMoves(a,h),a}_moveAfter(a,u,h){return this._unlink(a),this._insertAfter(a,u,h),this._addToMoves(a,h),a}_addAfter(a,u,h){return this._insertAfter(a,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,h){const f=null===u?this._itHead:u._next;return a._next=f,a._prev=u,null===f?this._itTail=a:f._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new xR),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,h=a._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xR),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class mB{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MR{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const u=a._prevDup,h=a._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class xR{constructor(){this.map=new Map}put(a){const u=a.trackById;let h=this.map.get(u);h||(h=new MR,this.map.set(u,h)),h.add(a)}get(a,u){const f=this.map.get(a);return f?f.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jT(o,a,u){const h=o.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+a+f}class GT{constructor(){}supports(a){return a instanceof Map||Wl(a)}create(){return new _B}}class _B{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||Wl(a)))throw new Pe(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const h=a._prev;return u._next=a,u._prev=h,a._prev=u,h&&(h._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,u);const m=f._prev,b=f._next;return m&&(m._next=b),b&&(b._prev=m),f._next=null,f._prev=null,f}const h=new yB(a);return this._records.set(a,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(h=>u(a[h],h))}}class yB{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zT(){return new $T([new bh])}let $T=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||zT()),deps:[[o,new Fl,new Fa]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Pe(901,"")}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:zT}),o})();function RR(){return new qT([new GT])}let qT=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||RR()),deps:[[o,new Fl,new Fa]]}}find(u){const h=this.factories.find(m=>m.supports(u));if(h)return h;throw new Pe(901,"")}}return o.\u0275prov=rn({token:o,providedIn:"root",factory:RR}),o})();const uw=kT(null,"core",[{provide:DT,useValue:"unknown"},{provide:P_,deps:[Ga]},{provide:O_,deps:[]},{provide:kr,deps:[]}]);let dw=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Zt(ow))},o.\u0275mod=Ki({type:o}),o.\u0275inj=Xt({}),o})()},3942:(et,ve,F)=>{F.d(ve,{Z:()=>Pe});var l=F(2090),ee=F(4859),B=F(9681),de=F(1877);class se{constructor(pe,Ie){this._delegate=pe,this.firebase=Ie,(0,B._addComponent)(pe,new ee.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(pe,Ie=B._DEFAULT_ENTRY_NAME){var Ke;this._delegate.checkDestroyed();const tt=this._delegate.container.getProvider(pe);return!tt.isInitialized()&&"EXPLICIT"===(null===(Ke=tt.getComponent())||void 0===Ke?void 0:Ke.instantiationMode)&&tt.initialize(),tt.getImmediate({identifier:Ie})}_removeServiceInstance(pe,Ie=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Ie)}_addComponent(pe){(0,B._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,B._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ne=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function ce(){const He=function oe(He){const pe={},Ie={__esModule:!0,initializeApp:function Ae(ze,$={}){const Ee=B.initializeApp(ze,$);if((0,l.r3)(pe,Ee.name))return pe[Ee.name];const Q=new He(Ee,Ie);return pe[Ee.name]=Q,Q},app:tt,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function De(ze){const $=ze.name,Ee=$.replace("-compat","");if(B._registerComponent(ze)&&"PUBLIC"===ze.type){const Q=(le=tt())=>{if("function"!=typeof le[Ee])throw ne.create("invalid-app-argument",{appName:$});return le[Ee]()};void 0!==ze.serviceProps&&(0,l.ZB)(Q,ze.serviceProps),Ie[Ee]=Q,He.prototype[Ee]=function(...le){return this._getService.bind(this,$).apply(this,ze.multipleInstances?le:[])}}return"PUBLIC"===ze.type?Ie[Ee]:null},removeApp:function Ke(ze){delete pe[ze]},useAsService:function Ge(ze,$){return"serverAuth"===$?null:$},modularAPIs:B}};function tt(ze){if(!(0,l.r3)(pe,ze=ze||B._DEFAULT_ENTRY_NAME))throw ne.create("no-app",{appName:ze});return pe[ze]}return Ie.default=Ie,Object.defineProperty(Ie,"apps",{get:function we(){return Object.keys(pe).map(ze=>pe[ze])}}),tt.App=He,Ie}(se);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function pe(Ie){(0,l.ZB)(He,Ie)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),He}(),z=new de.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=G;!function xe(He){(0,B.registerVersion)("@firebase/app-compat","0.1.26",He)}()},9681:(et,ve,F)=>{F.r(ve),F.d(ve,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>ts,_DEFAULT_ENTRY_NAME:()=>Ht,_addComponent:()=>pn,_addOrOverwriteComponent:()=>rn,_apps:()=>cn,_clearComponents:()=>es,_components:()=>zn,_getProvider:()=>Xt,_registerComponent:()=>Zi,_removeServiceInstance:()=>jt,deleteApp:()=>wt,getApp:()=>ur,getApps:()=>Vr,initializeApp:()=>to,onLog:()=>$n,registerVersion:()=>Un,setLogLevel:()=>no});var l=F(5861),ee=F(4859),B=F(1877),de=F(2090),se=F(8766);class ge{constructor(te){this.container=te}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function ne(q){const te=q.getComponent();return"VERSION"===(null==te?void 0:te.type)}(ke)){const rt=ke.getImmediate();return`${rt.library}/${rt.version}`}return null}).filter(ke=>ke).join(" ")}}const oe="@firebase/app",G=new B.Yd("@firebase/app"),Ht="[DEFAULT]",nt={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},cn=new Map,zn=new Map;function pn(q,te){try{q.container.addComponent(te)}catch(ke){G.debug(`Component ${te.name} failed to register with FirebaseApp ${q.name}`,ke)}}function rn(q,te){q.container.addOrOverwriteComponent(te)}function Zi(q){const te=q.name;if(zn.has(te))return G.debug(`There were multiple attempts to register component ${te}.`),!1;zn.set(te,q);for(const ke of cn.values())pn(ke,q);return!0}function Xt(q,te){const ke=q.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),q.container.getProvider(te)}function jt(q,te,ke=Ht){Xt(q,te).clearInstance(ke)}function es(){zn.clear()}const Fi=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Yi{constructor(te,ke,rt){this._isDeleted=!1,this._options=Object.assign({},te),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=rt,this.container.addComponent(new ee.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(te){this.checkDestroyed(),this._automaticDataCollectionEnabled=te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(te){this._isDeleted=te}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}const ts="9.8.2";function to(q,te={}){"object"!=typeof te&&(te={name:te});const ke=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},te),rt=ke.name;if("string"!=typeof rt||!rt)throw Fi.create("bad-app-name",{appName:String(rt)});const yt=cn.get(rt);if(yt){if((0,de.vZ)(q,yt.options)&&(0,de.vZ)(ke,yt.config))return yt;throw Fi.create("duplicate-app",{appName:rt})}const It=new ee.H0(rt);for(const Dt of zn.values())It.addComponent(Dt);const Dn=new Yi(q,ke,It);return cn.set(rt,Dn),Dn}function ur(q=Ht){const te=cn.get(q);if(!te)throw Fi.create("no-app",{appName:q});return te}function Vr(){return Array.from(cn.values())}function wt(q){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(q){const te=q.name;cn.has(te)&&(cn.delete(te),yield Promise.all(q.container.getProviders().map(ke=>ke.delete())),q.isDeleted=!0)})).apply(this,arguments)}function Un(q,te,ke){var rt;let yt=null!==(rt=nt[q])&&void 0!==rt?rt:q;ke&&(yt+=`-${ke}`);const It=yt.match(/\s|\//),Dn=te.match(/\s|\//);if(It||Dn){const Dt=[`Unable to register library "${yt}" with version "${te}":`];return It&&Dt.push(`library name "${yt}" contains illegal characters (whitespace or "/")`),It&&Dn&&Dt.push("and"),Dn&&Dt.push(`version name "${te}" contains illegal characters (whitespace or "/")`),void G.warn(Dt.join(" "))}Zi(new ee.wA(`${yt}-version`,()=>({library:yt,version:te}),"VERSION"))}function $n(q,te){if(null!==q&&"function"!=typeof q)throw Fi.create("invalid-log-argument");(0,B.Am)(q,te)}function no(q){(0,B.Ub)(q)}const qn="firebase-heartbeat-store";let Cr=null;function Io(){return Cr||(Cr=(0,se.X3)("firebase-heartbeat-database",1,{upgrade:(q,te)=>{0===te&&q.createObjectStore(qn)}}).catch(q=>{throw Fi.create("storage-open",{originalErrorMessage:q.message})})),Cr}function ut(){return(ut=(0,l.Z)(function*(q){try{return(yield Io()).transaction(qn).objectStore(qn).get(Er(q))}catch(te){throw Fi.create("storage-get",{originalErrorMessage:te.message})}})).apply(this,arguments)}function Et(q,te){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(q,te){try{const rt=(yield Io()).transaction(qn,"readwrite");return yield rt.objectStore(qn).put(te,Er(q)),rt.done}catch(ke){throw Fi.create("storage-set",{originalErrorMessage:ke.message})}})).apply(this,arguments)}function Er(q){return`${q.name}!${q.options.appId}`}class Bi{constructor(te){this.container=te,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new W(ke),this._heartbeatsCachePromise=this._storage.read().then(rt=>(this._heartbeatsCache=rt,rt))}triggerHeartbeat(){var te=this;return(0,l.Z)(function*(){const rt=te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yt=Vi();if(null===te._heartbeatsCache&&(te._heartbeatsCache=yield te._heartbeatsCachePromise),te._heartbeatsCache.lastSentHeartbeatDate!==yt&&!te._heartbeatsCache.heartbeats.some(It=>It.date===yt))return te._heartbeatsCache.heartbeats.push({date:yt,agent:rt}),te._heartbeatsCache.heartbeats=te._heartbeatsCache.heartbeats.filter(It=>{const Dn=new Date(It.date).valueOf();return Date.now()-Dn<=2592e6}),te._storage.overwrite(te._heartbeatsCache)})()}getHeartbeatsHeader(){var te=this;return(0,l.Z)(function*(){if(null===te._heartbeatsCache&&(yield te._heartbeatsCachePromise),null===te._heartbeatsCache||0===te._heartbeatsCache.heartbeats.length)return"";const ke=Vi(),{heartbeatsToSend:rt,unsentEntries:yt}=function H(q,te=1024){const ke=[];let rt=q.slice();for(const yt of q){const It=ke.find(Dn=>Dn.agent===yt.agent);if(It){if(It.dates.push(yt.date),Y(ke)>te){It.dates.pop();break}}else if(ke.push({agent:yt.agent,dates:[yt.date]}),Y(ke)>te){ke.pop();break}rt=rt.slice(1)}return{heartbeatsToSend:ke,unsentEntries:rt}}(te._heartbeatsCache.heartbeats),It=(0,de.L)(JSON.stringify({version:2,heartbeats:rt}));return te._heartbeatsCache.lastSentHeartbeatDate=ke,yt.length>0?(te._heartbeatsCache.heartbeats=yt,yield te._storage.overwrite(te._heartbeatsCache)):(te._heartbeatsCache.heartbeats=[],te._storage.overwrite(te._heartbeatsCache)),It})()}}function Vi(){return(new Date).toISOString().substring(0,10)}class W{constructor(te){this.app=te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var te=this;return(0,l.Z)(function*(){return(yield te._canUseIndexedDBPromise)&&(yield function Wt(q){return ut.apply(this,arguments)}(te.app))||{heartbeats:[]}})()}overwrite(te){var ke=this;return(0,l.Z)(function*(){var rt;if(yield ke._canUseIndexedDBPromise){const It=yield ke.read();return Et(ke.app,{lastSentHeartbeatDate:null!==(rt=te.lastSentHeartbeatDate)&&void 0!==rt?rt:It.lastSentHeartbeatDate,heartbeats:te.heartbeats})}})()}add(te){var ke=this;return(0,l.Z)(function*(){var rt;if(yield ke._canUseIndexedDBPromise){const It=yield ke.read();return Et(ke.app,{lastSentHeartbeatDate:null!==(rt=te.lastSentHeartbeatDate)&&void 0!==rt?rt:It.lastSentHeartbeatDate,heartbeats:[...It.heartbeats,...te.heartbeats]})}})()}}function Y(q){return(0,de.L)(JSON.stringify({version:2,heartbeats:q})).length}!function Se(q){Zi(new ee.wA("platform-logger",te=>new ge(te),"PRIVATE")),Zi(new ee.wA("heartbeat",te=>new Bi(te),"PRIVATE")),Un(oe,"0.7.25",q),Un(oe,"0.7.25","esm2017"),Un("fire-js","")}("")},4859:(et,ve,F)=>{F.d(ve,{wA:()=>B,H0:()=>oe,zt:()=>se});var l=F(5861),ee=F(2090);class B{constructor(G,z,re){this.name=G,this.instanceFactory=z,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const de="[DEFAULT]";class se{constructor(G,z){this.name=G,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const z=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(z)){const re=new ee.BH;if(this.instancesDeferred.set(z,re),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:z});Ye&&re.resolve(Ye)}catch(Ye){}}return this.instancesDeferred.get(z).promise}getImmediate(G){var z;const re=this.normalizeInstanceIdentifier(null==G?void 0:G.identifier),Ye=null!==(z=null==G?void 0:G.optional)&&void 0!==z&&z;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(xe){if(Ye)return null;throw xe}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function ne(ce){return"EAGER"===ce.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:de})}catch(z){}for(const[z,re]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(z);try{const xe=this.getOrInitializeService({instanceIdentifier:Ye});re.resolve(xe)}catch(xe){}}}}clearInstance(G=de){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,l.Z)(function*(){const z=Array.from(G.instances.values());yield Promise.all([...z.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...z.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=de){return this.instances.has(G)}getOptions(G=de){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:z={}}=G,re=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:re,options:z});for(const[xe,Pe]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(xe)&&Pe.resolve(Ye);return Ye}onInit(G,z){var re;const Ye=this.normalizeInstanceIdentifier(z),xe=null!==(re=this.onInitCallbacks.get(Ye))&&void 0!==re?re:new Set;xe.add(G),this.onInitCallbacks.set(Ye,xe);const Pe=this.instances.get(Ye);return Pe&&G(Pe,Ye),()=>{xe.delete(G)}}invokeOnInitCallbacks(G,z){const re=this.onInitCallbacks.get(z);if(re)for(const Ye of re)try{Ye(G,z)}catch(xe){}}getOrInitializeService({instanceIdentifier:G,options:z={}}){let re=this.instances.get(G);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=G,ce===de?void 0:ce),options:z}),this.instances.set(G,re),this.instancesOptions.set(G,z),this.invokeOnInitCallbacks(re,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,re)}catch(Ye){}var ce;return re||null}normalizeInstanceIdentifier(G=de){return this.component?this.component.multipleInstances?G:de:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const z=this.getProvider(G.name);if(z.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);z.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const z=new se(G,this);return this.providers.set(G,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(et,ve,F)=>{F.d(ve,{in:()=>ee,Yd:()=>ne,Ub:()=>oe,Am:()=>ce});const l=[];var ee=(()=>{return(G=ee||(ee={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",ee;var G})();const B={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},de=ee.INFO,se={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},ge=(G,z,...re)=>{if(z<G.logLevel)return;const Ye=(new Date).toISOString(),xe=se[z];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[xe](`[${Ye}]  ${G.name}:`,...re)};class ne{constructor(z){this.name=z,this._logLevel=de,this._logHandler=ge,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in ee))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?B[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...z),this._logHandler(this,ee.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...z),this._logHandler(this,ee.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...z),this._logHandler(this,ee.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...z),this._logHandler(this,ee.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...z),this._logHandler(this,ee.ERROR,...z)}}function oe(G){l.forEach(z=>{z.setLogLevel(G)})}function ce(G,z){for(const re of l){let Ye=null;z&&z.level&&(Ye=B[z.level]),re.userLogHandler=null===G?null:(xe,Pe,...He)=>{const pe=He.map(Ie=>{if(null==Ie)return null;if("string"==typeof Ie)return Ie;if("number"==typeof Ie||"boolean"==typeof Ie)return Ie.toString();if(Ie instanceof Error)return Ie.message;try{return JSON.stringify(Ie)}catch(Ke){return null}}).filter(Ie=>Ie).join(" ");Pe>=(null!=Ye?Ye:xe.logLevel)&&G({level:ee[Pe].toLowerCase(),message:pe,args:He,type:xe.name})}}}},8766:(et,ve,F)=>{F.d(ve,{Lj:()=>Ae,X3:()=>tt});var l=F(5861);let B,de;const ne=new WeakMap,oe=new WeakMap,ce=new WeakMap,G=new WeakMap,z=new WeakMap;let xe={get($,Ee,Q){if($ instanceof IDBTransaction){if("done"===Ee)return oe.get($);if("objectStoreNames"===Ee)return $.objectStoreNames||ce.get($);if("store"===Ee)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return Ie($[Ee])},set:($,Ee,Q)=>($[Ee]=Q,!0),has:($,Ee)=>$ instanceof IDBTransaction&&("done"===Ee||"store"===Ee)||Ee in $};function pe($){return"function"==typeof $?function He($){return $!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($)?function(...Ee){return $.apply(Ke(this),Ee),Ie(ne.get(this))}:function(...Ee){return Ie($.apply(Ke(this),Ee))}:function(Ee,...Q){const le=$.call(Ke(this),Ee,...Q);return ce.set(le,Ee.sort?Ee.sort():[Ee]),Ie(le)}}($):($ instanceof IDBTransaction&&function Ye($){if(oe.has($))return;const Ee=new Promise((Q,le)=>{const ie=()=>{$.removeEventListener("complete",ye),$.removeEventListener("error",he),$.removeEventListener("abort",he)},ye=()=>{Q(),ie()},he=()=>{le($.error||new DOMException("AbortError","AbortError")),ie()};$.addEventListener("complete",ye),$.addEventListener("error",he),$.addEventListener("abort",he)});oe.set($,Ee)}($),(($,Ee)=>Ee.some(Q=>$ instanceof Q))($,function se(){return B||(B=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($,xe):$)}function Ie($){if($ instanceof IDBRequest)return function re($){const Ee=new Promise((Q,le)=>{const ie=()=>{$.removeEventListener("success",ye),$.removeEventListener("error",he)},ye=()=>{Q(Ie($.result)),ie()},he=()=>{le($.error),ie()};$.addEventListener("success",ye),$.addEventListener("error",he)});return Ee.then(Q=>{Q instanceof IDBCursor&&ne.set(Q,$)}).catch(()=>{}),z.set(Ee,$),Ee}($);if(G.has($))return G.get($);const Ee=pe($);return Ee!==$&&(G.set($,Ee),z.set(Ee,$)),Ee}const Ke=$=>z.get($);function tt($,Ee,{blocked:Q,upgrade:le,blocking:ie,terminated:ye}={}){const he=indexedDB.open($,Ee),Fe=Ie(he);return le&&he.addEventListener("upgradeneeded",mt=>{le(Ie(he.result),mt.oldVersion,mt.newVersion,Ie(he.transaction))}),Q&&he.addEventListener("blocked",()=>Q()),Fe.then(mt=>{ye&&mt.addEventListener("close",()=>ye()),ie&&mt.addEventListener("versionchange",()=>ie())}).catch(()=>{}),Fe}function Ae($,{blocked:Ee}={}){const Q=indexedDB.deleteDatabase($);return Ee&&Q.addEventListener("blocked",()=>Ee()),Ie(Q).then(()=>{})}const we=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ge=new Map;function ze($,Ee){if(!($ instanceof IDBDatabase)||Ee in $||"string"!=typeof Ee)return;if(Ge.get(Ee))return Ge.get(Ee);const Q=Ee.replace(/FromIndex$/,""),le=Ee!==Q,ie=De.includes(Q);if(!(Q in(le?IDBIndex:IDBObjectStore).prototype)||!ie&&!we.includes(Q))return;const ye=function(){var he=(0,l.Z)(function*(Fe,...mt){const qt=this.transaction(Fe,ie?"readwrite":"readonly");let Ht=qt.store;return le&&(Ht=Ht.index(mt.shift())),(yield Promise.all([Ht[Q](...mt),ie&&qt.done]))[0]});return function(mt){return he.apply(this,arguments)}}();return Ge.set(Ee,ye),ye}!function Pe($){xe=$(xe)}($=>qq($q({},$),{get:(Ee,Q,le)=>ze(Ee,Q)||$.get(Ee,Q,le),has:(Ee,Q)=>!!ze(Ee,Q)||$.has(Ee,Q)}))},5861:(et,ve,F)=>{function l(B,de,se,ge,ne,oe,ce){try{var G=B[oe](ce),z=G.value}catch(re){return void se(re)}G.done?de(z):Promise.resolve(z).then(ge,ne)}function ee(B){return function(){var de=this,se=arguments;return new Promise(function(ge,ne){var oe=B.apply(de,se);function ce(z){l(oe,ge,ne,ce,G,"next",z)}function G(z){l(oe,ge,ne,ce,G,"throw",z)}ce(void 0)})}}F.d(ve,{Z:()=>ee})}},et=>{et(et.s=4596)}]);